
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>

<head>
    <meta http-equiv="Content-Type"
          content="text/html; charset=utf-8" />
    <title></title>
    <style type="text/css">
        table.diff {font-family:Courier; border:medium;}
        .diff_header {background-color:#e0e0e0}
        td.diff_header {text-align:right}
        .diff_next {background-color:#c0c0c0}
        .diff_add {background-color:#aaffaa}
        .diff_chg {background-color:#ffff77}
        .diff_sub {background-color:#ffaaaa}
    </style>
</head>

<body>
    
    <table class="diff" id="difflib_chg_to80__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to80__1"><a href="#difflib_chg_to80__1">n</a></td><td class="diff_header" id="from80_1">1</td><td nowrap="nowrap">//&nbsp;/Users/audrey/Personal/School/College/summer2019/r<span class="diff_chg">os1-to-ros2-sandbox</span>/rviz<span class="diff_chg">-diff</span>/src/rviz/<span class="diff_chg">s</span>e<span class="diff_chg">le</span>ction/selection_manager.cpp</td><td class="diff_next"><a href="#difflib_chg_to80__1">n</a></td><td class="diff_header" id="to80_1">1</td><td nowrap="nowrap">//&nbsp;/Users/audrey/Personal/School/College/summer2019/r<span class="diff_chg">viz</span>/rviz<span class="diff_chg">_common</span>/src/rviz<span class="diff_add">_common</span>/<span class="diff_chg">int</span>e<span class="diff_chg">ra</span>ction/selection_manager.cpp</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_2">2</td><td nowrap="nowrap">/*</td><td class="diff_next"></td><td class="diff_header" id="to80_2">2</td><td nowrap="nowrap">/*</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_3">3</td><td nowrap="nowrap">&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2008,&nbsp;Willow&nbsp;Garage,&nbsp;Inc.</td><td class="diff_next"></td><td class="diff_header" id="to80_3">3</td><td nowrap="nowrap">&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2008,&nbsp;Willow&nbsp;Garage,&nbsp;Inc.</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__2">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to80__2">n</a></td><td class="diff_header" id="to80_4">4</td><td nowrap="nowrap"><span class="diff_add">&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2017,&nbsp;Open&nbsp;Source&nbsp;Robotics&nbsp;Foundation,&nbsp;Inc.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_5">5</td><td nowrap="nowrap"><span class="diff_add">&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2018,&nbsp;Bosch&nbsp;Software&nbsp;Innovations&nbsp;GmbH.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_4">4</td><td nowrap="nowrap">&nbsp;*&nbsp;All&nbsp;rights&nbsp;reserved.</td><td class="diff_next"></td><td class="diff_header" id="to80_6">6</td><td nowrap="nowrap">&nbsp;*&nbsp;All&nbsp;rights&nbsp;reserved.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_5">5</td><td nowrap="nowrap">&nbsp;*</td><td class="diff_next"></td><td class="diff_header" id="to80_7">7</td><td nowrap="nowrap">&nbsp;*</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_6">6</td><td nowrap="nowrap">&nbsp;*&nbsp;Redistribution&nbsp;and&nbsp;use&nbsp;in&nbsp;source&nbsp;and&nbsp;binary&nbsp;forms,&nbsp;with&nbsp;or&nbsp;without</td><td class="diff_next"></td><td class="diff_header" id="to80_8">8</td><td nowrap="nowrap">&nbsp;*&nbsp;Redistribution&nbsp;and&nbsp;use&nbsp;in&nbsp;source&nbsp;and&nbsp;binary&nbsp;forms,&nbsp;with&nbsp;or&nbsp;without</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_7">7</td><td nowrap="nowrap">&nbsp;*&nbsp;modification,&nbsp;are&nbsp;permitted&nbsp;provided&nbsp;that&nbsp;the&nbsp;following&nbsp;conditions&nbsp;are&nbsp;met:</td><td class="diff_next"></td><td class="diff_header" id="to80_9">9</td><td nowrap="nowrap">&nbsp;*&nbsp;modification,&nbsp;are&nbsp;permitted&nbsp;provided&nbsp;that&nbsp;the&nbsp;following&nbsp;conditions&nbsp;are&nbsp;met:</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_8">8</td><td nowrap="nowrap">&nbsp;*</td><td class="diff_next"></td><td class="diff_header" id="to80_10">10</td><td nowrap="nowrap">&nbsp;*</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_9">9</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Redistributions&nbsp;of&nbsp;source&nbsp;code&nbsp;must&nbsp;retain&nbsp;the&nbsp;above&nbsp;copyright</td><td class="diff_next"></td><td class="diff_header" id="to80_11">11</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Redistributions&nbsp;of&nbsp;source&nbsp;code&nbsp;must&nbsp;retain&nbsp;the&nbsp;above&nbsp;copyright</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_10">10</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer.</td><td class="diff_next"></td><td class="diff_header" id="to80_12">12</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_11">11</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Redistributions&nbsp;in&nbsp;binary&nbsp;form&nbsp;must&nbsp;reproduce&nbsp;the&nbsp;above&nbsp;copyright</td><td class="diff_next"></td><td class="diff_header" id="to80_13">13</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Redistributions&nbsp;in&nbsp;binary&nbsp;form&nbsp;must&nbsp;reproduce&nbsp;the&nbsp;above&nbsp;copyright</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_12">12</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer&nbsp;in&nbsp;the</td><td class="diff_next"></td><td class="diff_header" id="to80_14">14</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer&nbsp;in&nbsp;the</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_13">13</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;documentation&nbsp;and/or&nbsp;other&nbsp;materials&nbsp;provided&nbsp;with&nbsp;the&nbsp;distribution.</td><td class="diff_next"></td><td class="diff_header" id="to80_15">15</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;documentation&nbsp;and/or&nbsp;other&nbsp;materials&nbsp;provided&nbsp;with&nbsp;the&nbsp;distribution.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_14">14</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Neither&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;Willow&nbsp;Garage,&nbsp;Inc.&nbsp;nor&nbsp;the&nbsp;names&nbsp;of&nbsp;its</td><td class="diff_next"></td><td class="diff_header" id="to80_16">16</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Neither&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;Willow&nbsp;Garage,&nbsp;Inc.&nbsp;nor&nbsp;the&nbsp;names&nbsp;of&nbsp;its</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_15">15</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contributors&nbsp;may&nbsp;be&nbsp;used&nbsp;to&nbsp;endorse&nbsp;or&nbsp;promote&nbsp;products&nbsp;derived&nbsp;from</td><td class="diff_next"></td><td class="diff_header" id="to80_17">17</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contributors&nbsp;may&nbsp;be&nbsp;used&nbsp;to&nbsp;endorse&nbsp;or&nbsp;promote&nbsp;products&nbsp;derived&nbsp;from</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_16">16</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;software&nbsp;without&nbsp;specific&nbsp;prior&nbsp;written&nbsp;permission.</td><td class="diff_next"></td><td class="diff_header" id="to80_18">18</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;software&nbsp;without&nbsp;specific&nbsp;prior&nbsp;written&nbsp;permission.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_17">17</td><td nowrap="nowrap">&nbsp;*</td><td class="diff_next"></td><td class="diff_header" id="to80_19">19</td><td nowrap="nowrap">&nbsp;*</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_18">18</td><td nowrap="nowrap">&nbsp;*&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;PROVIDED&nbsp;BY&nbsp;THE&nbsp;COPYRIGHT&nbsp;HOLDERS&nbsp;AND&nbsp;CONTRIBUTORS&nbsp;"AS&nbsp;IS"</td><td class="diff_next"></td><td class="diff_header" id="to80_20">20</td><td nowrap="nowrap">&nbsp;*&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;PROVIDED&nbsp;BY&nbsp;THE&nbsp;COPYRIGHT&nbsp;HOLDERS&nbsp;AND&nbsp;CONTRIBUTORS&nbsp;"AS&nbsp;IS"</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_19">19</td><td nowrap="nowrap">&nbsp;*&nbsp;AND&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED&nbsp;WARRANTIES,&nbsp;INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;LIMITED&nbsp;TO,&nbsp;THE</td><td class="diff_next"></td><td class="diff_header" id="to80_21">21</td><td nowrap="nowrap">&nbsp;*&nbsp;AND&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED&nbsp;WARRANTIES,&nbsp;INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;LIMITED&nbsp;TO,&nbsp;THE</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_20">20</td><td nowrap="nowrap">&nbsp;*&nbsp;IMPLIED&nbsp;WARRANTIES&nbsp;OF&nbsp;MERCHANTABILITY&nbsp;AND&nbsp;FITNESS&nbsp;FOR&nbsp;A&nbsp;PARTICULAR&nbsp;PURPOSE</td><td class="diff_next"></td><td class="diff_header" id="to80_22">22</td><td nowrap="nowrap">&nbsp;*&nbsp;IMPLIED&nbsp;WARRANTIES&nbsp;OF&nbsp;MERCHANTABILITY&nbsp;AND&nbsp;FITNESS&nbsp;FOR&nbsp;A&nbsp;PARTICULAR&nbsp;PURPOSE</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_21">21</td><td nowrap="nowrap">&nbsp;*&nbsp;ARE&nbsp;DISCLAIMED.&nbsp;IN&nbsp;NO&nbsp;EVENT&nbsp;SHALL&nbsp;THE&nbsp;COPYRIGHT&nbsp;OWNER&nbsp;OR&nbsp;CONTRIBUTORS&nbsp;BE</td><td class="diff_next"></td><td class="diff_header" id="to80_23">23</td><td nowrap="nowrap">&nbsp;*&nbsp;ARE&nbsp;DISCLAIMED.&nbsp;IN&nbsp;NO&nbsp;EVENT&nbsp;SHALL&nbsp;THE&nbsp;COPYRIGHT&nbsp;OWNER&nbsp;OR&nbsp;CONTRIBUTORS&nbsp;BE</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_22">22</td><td nowrap="nowrap">&nbsp;*&nbsp;LIABLE&nbsp;FOR&nbsp;ANY&nbsp;DIRECT,&nbsp;INDIRECT,&nbsp;INCIDENTAL,&nbsp;SPECIAL,&nbsp;EXEMPLARY,&nbsp;OR</td><td class="diff_next"></td><td class="diff_header" id="to80_24">24</td><td nowrap="nowrap">&nbsp;*&nbsp;LIABLE&nbsp;FOR&nbsp;ANY&nbsp;DIRECT,&nbsp;INDIRECT,&nbsp;INCIDENTAL,&nbsp;SPECIAL,&nbsp;EXEMPLARY,&nbsp;OR</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_23">23</td><td nowrap="nowrap">&nbsp;*&nbsp;CONSEQUENTIAL&nbsp;DAMAGES&nbsp;(INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;LIMITED&nbsp;TO,&nbsp;PROCUREMENT&nbsp;OF</td><td class="diff_next"></td><td class="diff_header" id="to80_25">25</td><td nowrap="nowrap">&nbsp;*&nbsp;CONSEQUENTIAL&nbsp;DAMAGES&nbsp;(INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;LIMITED&nbsp;TO,&nbsp;PROCUREMENT&nbsp;OF</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_24">24</td><td nowrap="nowrap">&nbsp;*&nbsp;SUBSTITUTE&nbsp;GOODS&nbsp;OR&nbsp;SERVICES;&nbsp;LOSS&nbsp;OF&nbsp;USE,&nbsp;DATA,&nbsp;OR&nbsp;PROFITS;&nbsp;OR&nbsp;BUSINESS</td><td class="diff_next"></td><td class="diff_header" id="to80_26">26</td><td nowrap="nowrap">&nbsp;*&nbsp;SUBSTITUTE&nbsp;GOODS&nbsp;OR&nbsp;SERVICES;&nbsp;LOSS&nbsp;OF&nbsp;USE,&nbsp;DATA,&nbsp;OR&nbsp;PROFITS;&nbsp;OR&nbsp;BUSINESS</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_25">25</td><td nowrap="nowrap">&nbsp;*&nbsp;INTERRUPTION)&nbsp;HOWEVER&nbsp;CAUSED&nbsp;AND&nbsp;ON&nbsp;ANY&nbsp;THEORY&nbsp;OF&nbsp;LIABILITY,&nbsp;WHETHER&nbsp;IN</td><td class="diff_next"></td><td class="diff_header" id="to80_27">27</td><td nowrap="nowrap">&nbsp;*&nbsp;INTERRUPTION)&nbsp;HOWEVER&nbsp;CAUSED&nbsp;AND&nbsp;ON&nbsp;ANY&nbsp;THEORY&nbsp;OF&nbsp;LIABILITY,&nbsp;WHETHER&nbsp;IN</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__2"></td><td class="diff_header" id="from80_26">26</td><td nowrap="nowrap">&nbsp;*&nbsp;CONTRACT,&nbsp;STRICT&nbsp;LIABILITY,&nbsp;OR&nbsp;TORT&nbsp;(INCLUDING&nbsp;NEGLIGENCE&nbsp;OR&nbsp;OTHERWISE)</td><td class="diff_next"></td><td class="diff_header" id="to80_28">28</td><td nowrap="nowrap">&nbsp;*&nbsp;CONTRACT,&nbsp;STRICT&nbsp;LIABILITY,&nbsp;OR&nbsp;TORT&nbsp;(INCLUDING&nbsp;NEGLIGENCE&nbsp;OR&nbsp;OTHERWISE)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_27">27</td><td nowrap="nowrap">&nbsp;*&nbsp;ARISING&nbsp;IN&nbsp;ANY&nbsp;WAY&nbsp;OUT&nbsp;OF&nbsp;THE&nbsp;USE&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE,&nbsp;EVEN&nbsp;IF&nbsp;ADVISED&nbsp;OF&nbsp;THE</td><td class="diff_next"></td><td class="diff_header" id="to80_29">29</td><td nowrap="nowrap">&nbsp;*&nbsp;ARISING&nbsp;IN&nbsp;ANY&nbsp;WAY&nbsp;OUT&nbsp;OF&nbsp;THE&nbsp;USE&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE,&nbsp;EVEN&nbsp;IF&nbsp;ADVISED&nbsp;OF&nbsp;THE</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_28">28</td><td nowrap="nowrap">&nbsp;*&nbsp;POSSIBILITY&nbsp;OF&nbsp;SUCH&nbsp;DAMAGE.</td><td class="diff_next"></td><td class="diff_header" id="to80_30">30</td><td nowrap="nowrap">&nbsp;*&nbsp;POSSIBILITY&nbsp;OF&nbsp;SUCH&nbsp;DAMAGE.</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__3"></td><td class="diff_header" id="from80_29">29</td><td nowrap="nowrap">&nbsp;*/</td><td class="diff_next"></td><td class="diff_header" id="to80_31">31</td><td nowrap="nowrap">&nbsp;*/</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_30">30</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_32">32</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__3">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to80__3">n</a></td><td class="diff_header" id="to80_33">33</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;"rviz_common/interaction/selection_manager.hpp"</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_34">34</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_31">31</td><td nowrap="nowrap">#include&nbsp;&lt;algorithm&gt;</td><td class="diff_next"></td><td class="diff_header" id="to80_35">35</td><td nowrap="nowrap">#include&nbsp;&lt;algorithm&gt;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__4">n</a></td><td class="diff_header" id="from80_32">32</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to80__4">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_33">33</td><td nowrap="nowrap">#include&nbsp;&lt;<span class="diff_sub">QTi</span>mer&gt;</td><td class="diff_next"></td><td class="diff_header" id="to80_36">36</td><td nowrap="nowrap">#include&nbsp;&lt;me<span class="diff_add">mo</span>r<span class="diff_add">y</span>&gt;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_37">37</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;mutex&gt;</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__4"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_38">38</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;string&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_39">39</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;utility&gt;</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__5"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_40">40</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;vector&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_34">34</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_41">41</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_35">35</td><td nowrap="nowrap">#include&nbsp;&lt;OgreCamera.h&gt;</td><td class="diff_next"></td><td class="diff_header" id="to80_42">42</td><td nowrap="nowrap">#include&nbsp;&lt;OgreCamera.h&gt;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__5">n</a></td><td class="diff_header" id="from80_36">36</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;OgreEntity.h&gt;</span></td><td class="diff_next"><a href="#difflib_chg_to80__5">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__6"></td><td class="diff_header" id="from80_37">37</td><td nowrap="nowrap">#include&nbsp;&lt;OgreHardwarePixelBuffer.h&gt;</td><td class="diff_next"></td><td class="diff_header" id="to80_43">43</td><td nowrap="nowrap">#include&nbsp;&lt;OgreHardwarePixelBuffer.h&gt;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__6">n</a></td><td class="diff_header" id="from80_38">38</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;OgreManualObject.h&gt;</span></td><td class="diff_next"><a href="#difflib_chg_to80__6">n</a></td><td class="diff_header" id="to80_44">44</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;OgreRectangle2D.h&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_39">39</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;OgreMaterialManager.h&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__7"></td><td class="diff_header" id="from80_40">40</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;OgreRenderSystem.h&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_41">41</td><td nowrap="nowrap">#include&nbsp;&lt;OgreRenderTexture.h&gt;</td><td class="diff_next"></td><td class="diff_header" id="to80_45">45</td><td nowrap="nowrap">#include&nbsp;&lt;OgreRenderTexture.h&gt;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__7">n</a></td><td class="diff_header" id="from80_42">42</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;OgreRoot.h&gt;</span></td><td class="diff_next"><a href="#difflib_chg_to80__7">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__8"></td><td class="diff_header" id="from80_43">43</td><td nowrap="nowrap">#include&nbsp;&lt;OgreSceneManager.h&gt;</td><td class="diff_next"></td><td class="diff_header" id="to80_46">46</td><td nowrap="nowrap">#include&nbsp;&lt;OgreSceneManager.h&gt;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_44">44</td><td nowrap="nowrap">#include&nbsp;&lt;OgreSceneNode.h&gt;</td><td class="diff_next"></td><td class="diff_header" id="to80_47">47</td><td nowrap="nowrap">#include&nbsp;&lt;OgreSceneNode.h&gt;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__8">n</a></td><td class="diff_header" id="from80_45">45</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;OgreSubEntity.h&gt;</span></td><td class="diff_next"><a href="#difflib_chg_to80__8">n</a></td><td class="diff_header" id="to80_48">48</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;OgreTechnique.h&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_46">46</td><td nowrap="nowrap">#include&nbsp;&lt;OgreTextureManager.h&gt;</td><td class="diff_next"></td><td class="diff_header" id="to80_49">49</td><td nowrap="nowrap">#include&nbsp;&lt;OgreTextureManager.h&gt;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_47">47</td><td nowrap="nowrap">#include&nbsp;&lt;OgreViewport.h&gt;</td><td class="diff_next"></td><td class="diff_header" id="to80_50">50</td><td nowrap="nowrap">#include&nbsp;&lt;OgreViewport.h&gt;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__9"><a href="#difflib_chg_to80__9">n</a></td><td class="diff_header" id="from80_48">48</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;OgreWireBoundingBox.h&gt;</span></td><td class="diff_next"><a href="#difflib_chg_to80__9">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_49">49</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;OgreSharedPtr.h&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_50">50</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;OgreTechnique.h&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__10"></td><td class="diff_header" id="from80_51">51</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;OgreRectangle2D.h&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_52">52</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_51">51</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__10">n</a></td><td class="diff_header" id="from80_53">53</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;sensor_msgs/image_encodings.h&gt;</span></td><td class="diff_next"><a href="#difflib_chg_to80__10">n</a></td><td class="diff_header" id="to80_52">52</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;QTimer&gt;&nbsp;&nbsp;//&nbsp;NOLINT:&nbsp;cpplint&nbsp;is&nbsp;unable&nbsp;to&nbsp;handle&nbsp;the&nbsp;include&nbsp;order&nbsp;here</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_54">54</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;sensor_msgs/Image.h&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_55">55</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_53">53</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__11">n</a></td><td class="diff_header" id="from80_56">56</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;ros/assert.h&gt;</span></td><td class="diff_next"><a href="#difflib_chg_to80__11">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_57">57</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;ros/node_handle.h&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_58">58</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;ros/publisher.h&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_59">59</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_60">60</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;"rviz/ogre_helpers/arrow.h"</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_61">61</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;"rviz/ogre_helpers/axes.h"</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_62">62</td><td nowrap="nowrap">#include&nbsp;"rviz<span class="diff_chg">/og</span>re<span class="diff_chg">_help</span>er<span class="diff_chg">s</span>/custom_parameter_indices.h"</td><td class="diff_next"></td><td class="diff_header" id="to80_54">54</td><td nowrap="nowrap">#include&nbsp;"rviz<span class="diff_chg">_</span>re<span class="diff_chg">nd</span>er<span class="diff_chg">ing</span>/custom_parameter_indices.h<span class="diff_add">pp</span>"</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_63">63</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;"rviz/ogre_helpers/qt_ogre_render_window.h"</span></td><td class="diff_next"></td><td class="diff_header" id="to80_55">55</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;"rviz_rendering/material_manager.hpp"</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_64">64</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;"rviz/ogre_helpers/shape.h"</span></td><td class="diff_next"></td><td class="diff_header" id="to80_56">56</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;"rviz_rendering/render_window.hpp"</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_57">57</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_58">58</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;"rviz_common/display_context.hpp"</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_59">59</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;"rviz_common/logging.hpp"</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_60">60</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;"rviz_common/render_panel.hpp"</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_61">61</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;"rviz_common/view_manager.hpp"</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_62">62</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;"rviz_common/interaction/handler_manager_iface.hpp"</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_63">63</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;"rviz_common/interaction/selection_renderer.hpp"</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_65">65</td><td nowrap="nowrap">#include&nbsp;"rviz/properties/property.h"</td><td class="diff_next"></td><td class="diff_header" id="to80_64">64</td><td nowrap="nowrap">#include&nbsp;"rviz<span class="diff_add">_common</span>/properties/property.h<span class="diff_add">pp</span>"</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_66">66</td><td nowrap="nowrap">#include&nbsp;"rviz/properties/property_tree_model.h"</td><td class="diff_next"></td><td class="diff_header" id="to80_65">65</td><td nowrap="nowrap">#include&nbsp;"rviz<span class="diff_add">_common</span>/properties/property_tree_model.h<span class="diff_add">pp</span>"</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__11"></td><td class="diff_header" id="from80_67">67</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;"rviz/render_panel.h"</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_68">68</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;"rviz/view_controller.h"</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_69">69</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;"rviz/view_manager.h"</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__12"></td><td class="diff_header" id="from80_70">70</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;"rviz/visualization_manager.h"</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_71">71</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_66">66</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__12">n</a></td><td class="diff_header" id="from80_72">72</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;"rviz/selection/selection_manager.h"</span></td><td class="diff_next"><a href="#difflib_chg_to80__12">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__13"></td><td class="diff_header" id="from80_73">73</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;vector&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_74">74</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_67">67</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__13">n</a></td><td class="diff_header" id="from80_75">75</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to80__13">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__14"></td><td class="diff_header" id="from80_76">76</td><td nowrap="nowrap">namespace&nbsp;rviz</td><td class="diff_next"></td><td class="diff_header" id="to80_68">68</td><td nowrap="nowrap">namespace&nbsp;rviz<span class="diff_add">_common</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_77">77</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to80_69">69</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__14">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to80__14">n</a></td><td class="diff_header" id="to80_70">70</td><td nowrap="nowrap"><span class="diff_add">namespace&nbsp;interaction</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_71">71</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_78">78</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_72">72</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__15">n</a></td><td class="diff_header" id="from80_79">79</td><td nowrap="nowrap"><span class="diff_sub">SelectionManager::SelectionManager(VisualizationManager*&nbsp;manager)</span></td><td class="diff_next"><a href="#difflib_chg_to80__15">n</a></td><td class="diff_header" id="to80_73">73</td><td nowrap="nowrap"><span class="diff_add">using&nbsp;rviz_common::properties::Property;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_80">80</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;:&nbsp;vis_manager_(manager)</span></td><td class="diff_next"></td><td class="diff_header" id="to80_74">74</td><td nowrap="nowrap"><span class="diff_add">using&nbsp;rviz_common::properties::PropertyTreeModel;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_75">75</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_76">76</td><td nowrap="nowrap"><span class="diff_add">SelectionManager::SelectionManager(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_77">77</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;DisplayContext&nbsp;*&nbsp;context,&nbsp;std::shared_ptr&lt;SelectionRenderer&gt;&nbsp;renderer)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_78">78</td><td nowrap="nowrap"><span class="diff_add">:&nbsp;context_(context),</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_81">81</td><td nowrap="nowrap">&nbsp;<span class="diff_sub">&nbsp;,</span>&nbsp;highlight_enabled_(false)</td><td class="diff_next"></td><td class="diff_header" id="to80_79">79</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_enabled_(false)<span class="diff_add">,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_82">82</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;,&nbsp;uid_counter_(0)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__15"></td><td class="diff_header" id="from80_83">83</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;,&nbsp;interaction_enabled_(false)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_84">84</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;,&nbsp;debug_mode_(&nbsp;false&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_85">85</td><td nowrap="nowrap">&nbsp;<span class="diff_sub">&nbsp;,</span>&nbsp;property_model_(<span class="diff_sub">&nbsp;</span>new&nbsp;PropertyTreeModel(<span class="diff_sub">&nbsp;</span>new&nbsp;Property(<span class="diff_sub">&nbsp;</span>"root"<span class="diff_sub">&nbsp;</span>)))</td><td class="diff_next"></td><td class="diff_header" id="to80_80">80</td><td nowrap="nowrap">&nbsp;&nbsp;property_model_(new&nbsp;PropertyTreeModel(new&nbsp;Property("root")))<span class="diff_add">,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_81">81</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;renderer_(renderer)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_86">86</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to80_82">82</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__16"><a href="#difflib_chg_to80__16">n</a></td><td class="diff_header" id="from80_87">87</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(uint32_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;s_num_render_textures_;&nbsp;++i)</span></td><td class="diff_next"><a href="#difflib_chg_to80__16">n</a></td><td class="diff_header" id="to80_83">83</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;//&nbsp;TODO(Martin-Idel-SI):&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;just&nbsp;use&nbsp;setUpSlots(),&nbsp;but&nbsp;timer&nbsp;needs&nbsp;a&nbsp;QThread,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_88">88</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header" id="to80_84">84</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;//&nbsp;which&nbsp;is&nbsp;not&nbsp;easily&nbsp;available&nbsp;in&nbsp;tests</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__17"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_85">85</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;for&nbsp;(auto&nbsp;&amp;&nbsp;pixel_box&nbsp;:&nbsp;pixel_boxes_)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_89">89</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;pixel_box<span class="diff_sub">es_[i]</span>.data&nbsp;=&nbsp;<span class="diff_chg">0</span>;</td><td class="diff_next"></td><td class="diff_header" id="to80_86">86</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;pixel_box.data&nbsp;=&nbsp;<span class="diff_chg">nullptr</span>;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_90">90</td><td nowrap="nowrap">&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_87">87</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__17">n</a></td><td class="diff_header" id="from80_91">91</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;depth_pixel_box_.data&nbsp;=&nbsp;0;</span></td><td class="diff_next"><a href="#difflib_chg_to80__17">n</a></td><td class="diff_header" id="to80_88">88</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_92">92</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_89">89</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__18">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to80__18">n</a></td><td class="diff_header" id="to80_90">90</td><td nowrap="nowrap"><span class="diff_add">SelectionManager::SelectionManager(DisplayContext&nbsp;*&nbsp;context)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_91">91</td><td nowrap="nowrap"><span class="diff_add">:&nbsp;context_(context),</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_92">92</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;highlight_enabled_(false),</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_93">93</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;property_model_(new&nbsp;PropertyTreeModel(new&nbsp;Property("root"))),</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_94">94</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;renderer_(std::make_shared&lt;rviz_common::interaction::SelectionRenderer&gt;(context))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_95">95</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_96">96</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;setUpSlots();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_97">97</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_98">98</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_99">99</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::setUpSlots()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_100">100</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_101">101</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;for&nbsp;(auto&nbsp;&amp;&nbsp;pixel_box&nbsp;:&nbsp;pixel_boxes_)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_102">102</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;pixel_box.data&nbsp;=&nbsp;nullptr;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_103">103</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_104">104</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_93">93</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_chg">QTimer*</span>&nbsp;timer&nbsp;=&nbsp;new&nbsp;QTimer(<span class="diff_sub">&nbsp;</span>this<span class="diff_sub">&nbsp;</span>);</td><td class="diff_next"></td><td class="diff_header" id="to80_105">105</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_chg">auto</span>&nbsp;timer&nbsp;=&nbsp;new&nbsp;QTimer(this);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_94">94</td><td nowrap="nowrap">&nbsp;&nbsp;connect(<span class="diff_sub">&nbsp;</span>timer,&nbsp;SIGNAL(<span class="diff_sub">&nbsp;</span>timeout()<span class="diff_sub">&nbsp;</span>),&nbsp;this,&nbsp;SLOT(<span class="diff_sub">&nbsp;</span>updateProperties()<span class="diff_sub">&nbsp;</span>));</td><td class="diff_next"></td><td class="diff_header" id="to80_106">106</td><td nowrap="nowrap">&nbsp;&nbsp;connect(timer,&nbsp;SIGNAL(timeout()),&nbsp;this,&nbsp;SLOT(updateProperties()));</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__18"></td><td class="diff_header" id="from80_95">95</td><td nowrap="nowrap">&nbsp;&nbsp;timer-&gt;start(<span class="diff_sub">&nbsp;</span>200<span class="diff_sub">&nbsp;</span>);</td><td class="diff_next"></td><td class="diff_header" id="to80_107">107</td><td nowrap="nowrap">&nbsp;&nbsp;timer-&gt;start(200);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_96">96</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to80_108">108</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_97">97</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_109">109</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_98">98</td><td nowrap="nowrap">SelectionManager::~SelectionManager()</td><td class="diff_next"></td><td class="diff_header" id="to80_110">110</td><td nowrap="nowrap">SelectionManager::~SelectionManager()</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__19"></td><td class="diff_header" id="from80_99">99</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to80_111">111</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__19">n</a></td><td class="diff_header" id="from80_100">100</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"><a href="#difflib_chg_to80__19">n</a></td><td class="diff_header" id="to80_112">112</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::recursive_mutex&gt;&nbsp;lock(selection_mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_101">101</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_113">113</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__20"></td><td class="diff_header" id="from80_102">102</td><td nowrap="nowrap">&nbsp;&nbsp;setSelection(M_Picked());</td><td class="diff_next"></td><td class="diff_header" id="to80_114">114</td><td nowrap="nowrap">&nbsp;&nbsp;setSelection(M_Picked());</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_103">103</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_115">115</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__20">n</a></td><td class="diff_header" id="from80_104">104</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_node_-&gt;getParentSceneNode()-&gt;removeAndDestroyChild(highlight_node_<span class="diff_sub">-&gt;getName()</span>);</td><td class="diff_next"><a href="#difflib_chg_to80__20">n</a></td><td class="diff_header" id="to80_116">116</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_node_-&gt;getParentSceneNode()-&gt;removeAndDestroyChild(highlight_node_);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_105">105</td><td nowrap="nowrap">&nbsp;&nbsp;delete&nbsp;highlight_rectangle_;</td><td class="diff_next"></td><td class="diff_header" id="to80_117">117</td><td nowrap="nowrap">&nbsp;&nbsp;delete&nbsp;highlight_rectangle_;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__21"></td><td class="diff_header" id="from80_106">106</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_118">118</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__21">n</a></td><td class="diff_header" id="from80_107">107</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(uint32_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;s_num_render_textures_;&nbsp;++i)</span></td><td class="diff_next"><a href="#difflib_chg_to80__21">n</a></td><td class="diff_header" id="to80_119">119</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;for&nbsp;(auto&nbsp;&amp;&nbsp;pixel_box&nbsp;:&nbsp;pixel_boxes_)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_108">108</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header" id="to80_120">120</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;delete[]&nbsp;reinterpret_cast&lt;uint8_t&nbsp;*&gt;(pixel_box.data);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_109">109</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;[]&nbsp;(uint8_t*)pixel_boxes_[i].data;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_110">110</td><td nowrap="nowrap">&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_121">121</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__22"><a href="#difflib_chg_to80__22">n</a></td><td class="diff_header" id="from80_111">111</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;delete&nbsp;[]&nbsp;(uint8_t*)depth_pixel_box_.data;</span></td><td class="diff_next"><a href="#difflib_chg_to80__22">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_112">112</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__23"></td><td class="diff_header" id="from80_113">113</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;vis_manager_-&gt;getSceneManager()-&gt;destroyCamera(&nbsp;camera_&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_114">114</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_122">122</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_115">115</td><td nowrap="nowrap">&nbsp;&nbsp;delete&nbsp;property_model_;</td><td class="diff_next"></td><td class="diff_header" id="to80_123">123</td><td nowrap="nowrap">&nbsp;&nbsp;delete&nbsp;property_model_;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__23">n</a></td><td class="diff_header" id="from80_116">116</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"><a href="#difflib_chg_to80__23">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_117">117</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_124">124</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__24">n</a></td><td class="diff_header" id="from80_118">118</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::setDebugMode(&nbsp;bool&nbsp;debug&nbsp;)</span></td><td class="diff_next"><a href="#difflib_chg_to80__24">n</a></td><td class="diff_header" id="to80_125">125</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;handler_manager_-&gt;removeListener(this);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_119">119</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_120">120</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;debug_mode_&nbsp;=&nbsp;debug;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_121">121</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to80_126">126</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_122">122</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_127">127</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_123">123</td><td nowrap="nowrap">void&nbsp;SelectionManager::initialize()</td><td class="diff_next"></td><td class="diff_header" id="to80_128">128</td><td nowrap="nowrap">void&nbsp;SelectionManager::initialize()</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__24"></td><td class="diff_header" id="from80_124">124</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to80_129">129</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_125">125</td><td nowrap="nowrap">&nbsp;&nbsp;//&nbsp;Create&nbsp;our&nbsp;render&nbsp;textures</td><td class="diff_next"></td><td class="diff_header" id="to80_130">130</td><td nowrap="nowrap">&nbsp;&nbsp;//&nbsp;Create&nbsp;our&nbsp;render&nbsp;textures</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_126">126</td><td nowrap="nowrap">&nbsp;&nbsp;setTextureSize(1);</td><td class="diff_next"></td><td class="diff_header" id="to80_131">131</td><td nowrap="nowrap">&nbsp;&nbsp;setTextureSize(1);</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__25"></td><td class="diff_header" id="from80_127">127</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_132">132</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_128">128</td><td nowrap="nowrap">&nbsp;&nbsp;//&nbsp;Create&nbsp;our&nbsp;highlight&nbsp;rectangle</td><td class="diff_next"></td><td class="diff_header" id="to80_133">133</td><td nowrap="nowrap">&nbsp;&nbsp;//&nbsp;Create&nbsp;our&nbsp;highlight&nbsp;rectangle</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__26"><a href="#difflib_chg_to80__25">n</a></td><td class="diff_header" id="from80_129">129</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::SceneManager*&nbsp;scene_manager&nbsp;=&nbsp;vis_manager_-&gt;getSceneManager();</span></td><td class="diff_next"><a href="#difflib_chg_to80__25">n</a></td><td class="diff_header" id="to80_134">134</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;auto&nbsp;scene_manager&nbsp;=&nbsp;context_-&gt;getSceneManager();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_130">130</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_node_&nbsp;=&nbsp;scene_manager-&gt;getRootSceneNode()-&gt;createChildSceneNode();</td><td class="diff_next"></td><td class="diff_header" id="to80_135">135</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_node_&nbsp;=&nbsp;scene_manager-&gt;getRootSceneNode()-&gt;createChildSceneNode();</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_131">131</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_136">136</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__27"><a href="#difflib_chg_to80__26">n</a></td><td class="diff_header" id="from80_132">132</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;std::stringstream&nbsp;ss;</span></td><td class="diff_next"><a href="#difflib_chg_to80__26">n</a></td><td class="diff_header" id="to80_137">137</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::string&nbsp;name("SelectionRect");</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_133">133</td><td nowrap="nowrap">&nbsp;&nbsp;static&nbsp;int&nbsp;count&nbsp;=&nbsp;0;</td><td class="diff_next"></td><td class="diff_header" id="to80_138">138</td><td nowrap="nowrap">&nbsp;&nbsp;static&nbsp;int&nbsp;count&nbsp;=&nbsp;0;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__28"><a href="#difflib_chg_to80__27">n</a></td><td class="diff_header" id="from80_134">134</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;ss&nbsp;&lt;&lt;&nbsp;"SelectionRect"&nbsp;&lt;&lt;&nbsp;count++;</span></td><td class="diff_next"><a href="#difflib_chg_to80__27">n</a></td><td class="diff_header" id="to80_139">139</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;name&nbsp;+=&nbsp;std::to_string(count++);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_135">135</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_rectangle_&nbsp;=&nbsp;new&nbsp;Ogre::Rectangle2D(true);</td><td class="diff_next"></td><td class="diff_header" id="to80_140">140</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_rectangle_&nbsp;=&nbsp;new&nbsp;Ogre::Rectangle2D(true);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_136">136</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_141">141</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__28">n</a></td><td class="diff_header" id="from80_137">137</td><td nowrap="nowrap">&nbsp;<span class="diff_sub">&nbsp;const</span>&nbsp;static&nbsp;uint32_t&nbsp;texture_data[1]&nbsp;=&nbsp;{<span class="diff_sub">&nbsp;</span>0xffff0080<span class="diff_sub">&nbsp;</span>};</td><td class="diff_next"><a href="#difflib_chg_to80__28">n</a></td><td class="diff_header" id="to80_142">142</td><td nowrap="nowrap">&nbsp;&nbsp;static<span class="diff_add">&nbsp;const</span>&nbsp;uint32_t&nbsp;texture_data[1]&nbsp;=&nbsp;{0xffff0080};</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_138">138</td><td nowrap="nowrap">&nbsp;&nbsp;Ogre::DataStreamPtr&nbsp;pixel_stream;</td><td class="diff_next"></td><td class="diff_header" id="to80_143">143</td><td nowrap="nowrap">&nbsp;&nbsp;Ogre::DataStreamPtr&nbsp;pixel_stream;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__29"><a href="#difflib_chg_to80__29">n</a></td><td class="diff_header" id="from80_139">139</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;pixel_stream.bind(new&nbsp;Ogre::MemoryDataStream(&nbsp;(void*)&amp;texture_data[0],&nbsp;4&nbsp;));</span></td><td class="diff_next"><a href="#difflib_chg_to80__29">n</a></td><td class="diff_header" id="to80_144">144</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;pixel_stream.reset(new&nbsp;Ogre::MemoryDataStream(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_145">145</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reinterpret_cast&lt;void&nbsp;*&gt;(const_cast&lt;uint32_t&nbsp;*&gt;(&amp;texture_data[0])),</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_146">146</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_147">147</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;));</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_140">140</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_148">148</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__30">n</a></td><td class="diff_header" id="from80_141">141</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::TexturePtr&nbsp;tex&nbsp;=&nbsp;Ogre::TextureManager::getSingleton().loadRawData(ss.str()&nbsp;+&nbsp;"Texture",&nbsp;Ogre::ResourceGroupManager::DEFAULT_RESOURCE_GROUP_NAME,&nbsp;pixel_stream,&nbsp;1,&nbsp;1,&nbsp;Ogre::PF_R8G8B8A8,&nbsp;Ogre::TEX_TYPE_2D,&nbsp;0);</span></td><td class="diff_next"><a href="#difflib_chg_to80__30">n</a></td><td class="diff_header" id="to80_149">149</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;Ogre::TexturePtr&nbsp;tex&nbsp;=&nbsp;Ogre::TextureManager::getSingleton().loadRawData(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_150">150</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;+&nbsp;"Texture",</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_151">151</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;"rviz_rendering",</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_152">152</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;pixel_stream,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_153">153</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;1,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_154">154</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;1,</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__30"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_155">155</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;Ogre::PF_R8G8B8A8,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_156">156</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;Ogre::TEX_TYPE_2D,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_157">157</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;0</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_158">158</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_142">142</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_159">159</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__31">n</a></td><td class="diff_header" id="from80_143">143</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::MaterialPtr&nbsp;material&nbsp;=&nbsp;Ogre::MaterialManager::getSingleton().create(ss.str(),&nbsp;Ogre::ResourceGroupManager::DEFAULT_RESOURCE_GROUP_NAME);</span></td><td class="diff_next"><a href="#difflib_chg_to80__31">n</a></td><td class="diff_header" id="to80_160">160</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;Ogre::MaterialPtr&nbsp;material&nbsp;=</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_144">144</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;material-&gt;setLightingEnabled(false);</span></td><td class="diff_next"></td><td class="diff_header" id="to80_161">161</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;rviz_rendering::MaterialManager::createMaterialWithShadowsAndNoLighting(name);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_145">145</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//material-&gt;getTechnique(0)-&gt;getPass(0)-&gt;setPolygonMode(Ogre::PM_WIREFRAME);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_146">146</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_rectangle_-&gt;setMaterial(material<span class="diff_sub">-&gt;getName()</span>);</td><td class="diff_next"></td><td class="diff_header" id="to80_162">162</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_rectangle_-&gt;setMaterial(material);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_147">147</td><td nowrap="nowrap">&nbsp;&nbsp;Ogre::AxisAlignedBox&nbsp;aabInf;</td><td class="diff_next"></td><td class="diff_header" id="to80_163">163</td><td nowrap="nowrap">&nbsp;&nbsp;Ogre::AxisAlignedBox&nbsp;aabInf;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_148">148</td><td nowrap="nowrap">&nbsp;&nbsp;aabInf.setInfinite();</td><td class="diff_next"></td><td class="diff_header" id="to80_164">164</td><td nowrap="nowrap">&nbsp;&nbsp;aabInf.setInfinite();</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__31"></td><td class="diff_header" id="from80_149">149</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_rectangle_-&gt;setBoundingBox(aabInf);</td><td class="diff_next"></td><td class="diff_header" id="to80_165">165</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_rectangle_-&gt;setBoundingBox(aabInf);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_150">150</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_rectangle_-&gt;setRenderQueueGroup(Ogre::RENDER_QUEUE_OVERLAY&nbsp;-&nbsp;1);</td><td class="diff_next"></td><td class="diff_header" id="to80_166">166</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_rectangle_-&gt;setRenderQueueGroup(Ogre::RENDER_QUEUE_OVERLAY&nbsp;-&nbsp;1);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_151">151</td><td nowrap="nowrap">&nbsp;&nbsp;material-&gt;setSceneBlending(Ogre::SBT_TRANSPARENT_ALPHA);</td><td class="diff_next"></td><td class="diff_header" id="to80_167">167</td><td nowrap="nowrap">&nbsp;&nbsp;material-&gt;setSceneBlending(Ogre::SBT_TRANSPARENT_ALPHA);</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__32"></td><td class="diff_header" id="from80_152">152</td><td nowrap="nowrap">&nbsp;&nbsp;material-&gt;setCullingMode(Ogre::CULL_NONE);</td><td class="diff_next"></td><td class="diff_header" id="to80_168">168</td><td nowrap="nowrap">&nbsp;&nbsp;material-&gt;setCullingMode(Ogre::CULL_NONE);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_153">153</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_169">169</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__32">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to80__32">n</a></td><td class="diff_header" id="to80_170">170</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;Ogre::TextureUnitState&nbsp;*&nbsp;tex_unit&nbsp;=</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_154">154</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_chg">Ogre::TextureUnitState*&nbsp;tex_unit&nbsp;=</span>&nbsp;material-&gt;getTechnique(0)-&gt;getPass(0)-&gt;createTextureUnitState();</td><td class="diff_next"></td><td class="diff_header" id="to80_171">171</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_chg">&nbsp;</span>&nbsp;material-&gt;getTechnique(0)-&gt;getPass(0)-&gt;createTextureUnitState();</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_155">155</td><td nowrap="nowrap">&nbsp;&nbsp;tex_unit-&gt;setTextureName(tex-&gt;getName());</td><td class="diff_next"></td><td class="diff_header" id="to80_172">172</td><td nowrap="nowrap">&nbsp;&nbsp;tex_unit-&gt;setTextureName(tex-&gt;getName());</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__33"><a href="#difflib_chg_to80__33">n</a></td><td class="diff_header" id="from80_156">156</td><td nowrap="nowrap">&nbsp;&nbsp;tex_unit-&gt;setTextureFiltering(<span class="diff_sub">&nbsp;</span>Ogre::TFO_NONE<span class="diff_sub">&nbsp;</span>);</td><td class="diff_next"><a href="#difflib_chg_to80__33">n</a></td><td class="diff_header" id="to80_173">173</td><td nowrap="nowrap">&nbsp;&nbsp;tex_unit-&gt;setTextureFiltering(Ogre::TFO_NONE);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_157">157</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_174">174</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__34"></td><td class="diff_header" id="from80_158">158</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_node_-&gt;attachObject(highlight_rectangle_);</td><td class="diff_next"></td><td class="diff_header" id="to80_175">175</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_node_-&gt;attachObject(highlight_rectangle_);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_159">159</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_176">176</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_160">160</td><td nowrap="nowrap">&nbsp;&nbsp;//&nbsp;create&nbsp;picking&nbsp;camera</td><td class="diff_next"></td><td class="diff_header" id="to80_177">177</td><td nowrap="nowrap">&nbsp;&nbsp;//&nbsp;create&nbsp;picking&nbsp;camera</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__34">n</a></td><td class="diff_header" id="from80_161">161</td><td nowrap="nowrap">&nbsp;&nbsp;camera_=&nbsp;scene_manager-&gt;createCamera(<span class="diff_chg">&nbsp;ss.str()</span>+"_camera"<span class="diff_sub">&nbsp;</span>);</td><td class="diff_next"><a href="#difflib_chg_to80__34">n</a></td><td class="diff_header" id="to80_178">178</td><td nowrap="nowrap">&nbsp;&nbsp;camera_<span class="diff_add">&nbsp;</span>=&nbsp;scene_manager-&gt;createCamera(<span class="diff_chg">name&nbsp;</span>+<span class="diff_add">&nbsp;</span>"_camera");</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__35"></td><td class="diff_header" id="from80_162">162</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_179">179</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__35">n</a></td><td class="diff_header" id="from80_163">163</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;create&nbsp;fallback&nbsp;picking&nbsp;material</span></td><td class="diff_next"><a href="#difflib_chg_to80__35">n</a></td><td class="diff_header" id="to80_180">180</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;renderer_-&gt;initialize(camera_,&nbsp;scene_manager);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_164">164</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;fallback_pick_material_&nbsp;=&nbsp;Ogre::MaterialManager::getSingleton().getByName(&nbsp;"rviz/DefaultPickAndDepth"&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_165">165</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;fallback_pick_material_-&gt;load();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_166">166</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_181">181</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__36">n</a></td><td class="diff_header" id="from80_167">167</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;fallback_pick_cull_technique_&nbsp;=&nbsp;fallback_pick_material_-&gt;getTechnique(&nbsp;"PickCull"&nbsp;);</span></td><td class="diff_next"><a href="#difflib_chg_to80__36">n</a></td><td class="diff_header" id="to80_182">182</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;handler_manager_&nbsp;=&nbsp;context_-&gt;getHandlerManager();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_168">168</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;fallback_black_cull_technique_&nbsp;=&nbsp;fallback_pick_material_-&gt;getTechnique(&nbsp;"BlackCull"&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header" id="to80_183">183</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;handler_manager_-&gt;addListener(this);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_169">169</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;fallback_depth_cull_technique_&nbsp;=&nbsp;fallback_pick_material_-&gt;getTechnique(&nbsp;"DepthCull"&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_170">170</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__36"></td><td class="diff_header" id="from80_171">171</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;fallback_pick_technique_&nbsp;=&nbsp;fallback_pick_material_-&gt;getTechnique(&nbsp;"Pick"&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_172">172</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;fallback_black_technique_&nbsp;=&nbsp;fallback_pick_material_-&gt;getTechnique(&nbsp;"Black"&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_173">173</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;fallback_depth_technique_&nbsp;=&nbsp;fallback_pick_material_-&gt;getTechnique(&nbsp;"Depth"&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__37"></td><td class="diff_header" id="from80_174">174</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to80_184">184</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_175">175</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_185">185</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__37">n</a></td><td class="diff_header" id="from80_176">176</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to80__37">n</a></td><td class="diff_header" id="to80_186">186</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::setTextureSize(unsigned&nbsp;size)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_177">177</td><td nowrap="nowrap"><span class="diff_sub">bool&nbsp;SelectionManager::get3DPoint(&nbsp;Ogre::Viewport*&nbsp;viewport,&nbsp;int&nbsp;x,&nbsp;int&nbsp;y,&nbsp;Ogre::Vector3&amp;&nbsp;result_point&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_178">178</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to80_187">187</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__38">n</a></td><td class="diff_header" id="from80_179">179</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;ROS_DEBUG("SelectionManager.get3DPoint()");</span></td><td class="diff_next"><a href="#difflib_chg_to80__38">n</a></td><td class="diff_header" id="to80_188">188</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;if&nbsp;(size&nbsp;&gt;&nbsp;1024)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_180">180</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header" id="to80_189">189</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;=&nbsp;1024;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_181">181</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;std::vector&lt;Ogre::Vector3&gt;&nbsp;result_points_temp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_182">182</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;bool&nbsp;success&nbsp;=&nbsp;get3DPatch(&nbsp;viewport,&nbsp;x,&nbsp;y,&nbsp;1,&nbsp;1,&nbsp;true,&nbsp;result_points_temp);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_183">183</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(result_points_temp.size()&nbsp;==&nbsp;0)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_184">184</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_185">185</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;return&nbsp;result_point&nbsp;unmodified&nbsp;if&nbsp;get&nbsp;point&nbsp;fails.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_186">186</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_187">187</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_188">188</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_189">189</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;result_point&nbsp;=&nbsp;result_points_temp[0];</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_190">190</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_191">191</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;return&nbsp;success;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_192">192</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_193">193</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_194">194</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_195">195</td><td nowrap="nowrap"><span class="diff_sub">bool&nbsp;SelectionManager::getPatchDepthImage(&nbsp;Ogre::Viewport*&nbsp;viewport,&nbsp;int&nbsp;x,&nbsp;int&nbsp;y,&nbsp;unsigned&nbsp;width,&nbsp;unsigned&nbsp;height,&nbsp;std::vector&lt;float&gt;&nbsp;&amp;&nbsp;depth_vector&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_196">196</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_197">197</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_198">198</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;unsigned&nbsp;int&nbsp;num_pixels&nbsp;=&nbsp;width*height;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_199">199</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;depth_vector.reserve(num_pixels);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_200">200</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_201">201</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;setDepthTextureSize(&nbsp;width,&nbsp;height&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_202">202</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_203">203</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_204">204</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_CollisionObjectToSelectionHandler::iterator&nbsp;handler_it&nbsp;=&nbsp;objects_.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_205">205</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_CollisionObjectToSelectionHandler::iterator&nbsp;handler_end&nbsp;=&nbsp;objects_.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_206">206</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_207">207</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(;&nbsp;handler_it&nbsp;!=&nbsp;handler_end;&nbsp;++handler_it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_208">208</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_209">209</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;handler_it-&gt;second-&gt;preRenderPass(0);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_210">210</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_211">211</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_212">212</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;bool&nbsp;success&nbsp;=&nbsp;false;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_213">213</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if(&nbsp;render(&nbsp;viewport,&nbsp;depth_render_texture_,&nbsp;x,&nbsp;y,&nbsp;x&nbsp;+&nbsp;width,&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_214">214</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;+&nbsp;height,&nbsp;depth_pixel_box_,&nbsp;"Depth",&nbsp;depth_texture_width_,&nbsp;depth_texture_height_&nbsp;)&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_215">215</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_216">216</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;uint8_t*&nbsp;data_ptr&nbsp;=&nbsp;(uint8_t*)&nbsp;depth_pixel_box_.data;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_217">217</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_218">218</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for(uint32_t&nbsp;pixel&nbsp;=&nbsp;0;&nbsp;pixel&nbsp;&lt;&nbsp;num_pixels;&nbsp;++pixel)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_219">219</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_220">220</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint8_t&nbsp;a&nbsp;=&nbsp;data_ptr[4*pixel];&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_221">221</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint8_t&nbsp;b&nbsp;=&nbsp;data_ptr[4*pixel&nbsp;+&nbsp;1];</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_222">222</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint8_t&nbsp;c&nbsp;=&nbsp;data_ptr[4*pixel&nbsp;+&nbsp;2];</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_223">223</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_224">224</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;int_depth&nbsp;=&nbsp;(c&nbsp;&lt;&lt;&nbsp;16)&nbsp;|&nbsp;(b&nbsp;&lt;&lt;&nbsp;8)&nbsp;|&nbsp;a;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_225">225</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;normalized_depth&nbsp;=&nbsp;((float)&nbsp;int_depth)&nbsp;/&nbsp;(float)&nbsp;0xffffff;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_226">226</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;depth_vector.push_back(normalized_depth&nbsp;*&nbsp;camera_-&gt;getFarClipDistance());</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_227">227</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_228">228</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_229">229</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;else</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_230">230</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_231">231</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ROS_WARN("Failed&nbsp;to&nbsp;render&nbsp;depth&nbsp;patch\n");</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_232">232</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_233">233</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_234">234</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_235">235</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;handler_it&nbsp;=&nbsp;objects_.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_236">236</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;handler_end&nbsp;=&nbsp;objects_.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_237">237</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(;&nbsp;handler_it&nbsp;!=&nbsp;handler_end;&nbsp;++handler_it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_238">238</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_239">239</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_it-&gt;second-&gt;postRenderPass(0);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__38"></td><td class="diff_header" id="from80_240">240</td><td nowrap="nowrap">&nbsp;&nbsp;}<span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header" id="to80_190">190</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_241">241</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__39"></td><td class="diff_header" id="from80_242">242</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;return&nbsp;true;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_243">243</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_244">244</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_191">191</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__39">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to80__39">n</a></td><td class="diff_header" id="to80_192">192</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;texture_size_&nbsp;=&nbsp;size;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_245">245</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_193">193</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__40">n</a></td><td class="diff_header" id="from80_246">246</td><td nowrap="nowrap"><span class="diff_sub">bool&nbsp;SelectionManager::get3DPatch(&nbsp;Ogre::Viewport*&nbsp;viewport,&nbsp;int&nbsp;x,&nbsp;int&nbsp;y,&nbsp;unsigned&nbsp;width,&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to80__40">n</a></td><td class="diff_header" id="to80_194">194</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;for&nbsp;(auto&nbsp;&amp;&nbsp;render_texture&nbsp;:&nbsp;render_textures_)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_247">247</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;height,&nbsp;bool&nbsp;skip_missing,&nbsp;std::vector&lt;Ogre::Vector3&gt;&nbsp;&amp;result_points&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header" id="to80_195">195</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;check&nbsp;if&nbsp;we&nbsp;need&nbsp;to&nbsp;change&nbsp;the&nbsp;texture&nbsp;size</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_248">248</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header" id="to80_196">196</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!render_texture.get()&nbsp;||&nbsp;render_texture-&gt;getWidth()&nbsp;!=&nbsp;size)&nbsp;{</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__40"></td><td class="diff_header" id="from80_249">249</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header" id="to80_197">197</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::string&nbsp;tex_name;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_250">250</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;ROS_DEBUG("SelectionManager.get3DPatch()");</span></td><td class="diff_next"></td><td class="diff_header" id="to80_198">198</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(render_texture.get())&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_251">251</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header" id="to80_199">199</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tex_name&nbsp;=&nbsp;render_texture-&gt;getName();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_252">252</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;std::vector&lt;float&gt;&nbsp;depth_vector;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_253">253</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_200">200</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__41">n</a></td><td class="diff_header" id="from80_254">254</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to80__41">n</a></td><td class="diff_header" id="to80_201">201</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;destroy&nbsp;old</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_255">255</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;!getPatchDepthImage(&nbsp;viewport,&nbsp;x,&nbsp;y,&nbsp;&nbsp;width,&nbsp;height,&nbsp;depth_vector&nbsp;)&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header" id="to80_202">202</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::TextureManager::getSingleton().remove(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_256">256</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;</span></td><td class="diff_next"></td><td class="diff_header" id="to80_203">203</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tex_name,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_257">257</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header" id="to80_204">204</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::ResourceGroupManager::DEFAULT_RESOURCE_GROUP_NAME);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_258">258</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header" id="to80_205">205</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_259">259</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;unsigned&nbsp;int&nbsp;pixel_counter&nbsp;=&nbsp;0;</span></td><td class="diff_next"></td><td class="diff_header" id="to80_206">206</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;int&nbsp;count&nbsp;=&nbsp;0;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_260">260</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::Matrix4&nbsp;projection&nbsp;=&nbsp;camera_-&gt;getProjectionMatrix();</span></td><td class="diff_next"></td><td class="diff_header" id="to80_207">207</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tex_name&nbsp;=&nbsp;"SelectionTexture"&nbsp;+&nbsp;std::to_string(count++);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_261">261</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;float&nbsp;depth;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_262">262</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_263">263</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for(int&nbsp;y_iter&nbsp;=&nbsp;0;&nbsp;y_iter&nbsp;&lt;&nbsp;height;&nbsp;++y_iter)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_264">264</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;x_iter&nbsp;=&nbsp;0&nbsp;;&nbsp;x_iter&nbsp;&lt;&nbsp;width;&nbsp;++x_iter)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_265">265</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_266">266</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;depth&nbsp;=&nbsp;depth_vector[pixel_counter];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_267">267</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_268">268</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Deal&nbsp;with&nbsp;missing&nbsp;or&nbsp;invalid&nbsp;points</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_269">269</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;(&nbsp;depth&nbsp;&gt;&nbsp;camera_-&gt;getFarClipDistance()&nbsp;)&nbsp;||&nbsp;(&nbsp;depth&nbsp;==&nbsp;0&nbsp;)&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_270">270</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_271">271</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++pixel_counter;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_272">272</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!skip_missing)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_273">273</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_274">274</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result_points.push_back(Ogre::Vector3(NAN,NAN,NAN));</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_275">275</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_276">276</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_277">277</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_278">278</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_279">279</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_280">280</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::Vector3&nbsp;result_point;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_281">281</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;We&nbsp;want&nbsp;to&nbsp;shoot&nbsp;rays&nbsp;through&nbsp;the&nbsp;center&nbsp;of&nbsp;pixels,&nbsp;not&nbsp;the&nbsp;corners,&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_282">282</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;so&nbsp;add&nbsp;.5&nbsp;pixels&nbsp;to&nbsp;the&nbsp;x&nbsp;and&nbsp;y&nbsp;coordinate&nbsp;to&nbsp;get&nbsp;to&nbsp;the&nbsp;center</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_283">283</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;instead&nbsp;of&nbsp;the&nbsp;top&nbsp;left&nbsp;of&nbsp;the&nbsp;pixel.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_284">284</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::Real&nbsp;screenx&nbsp;=&nbsp;float(x_iter&nbsp;+&nbsp;.5)/float(width);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_285">285</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::Real&nbsp;screeny&nbsp;=&nbsp;float(y_iter&nbsp;+&nbsp;.5)/float(height);&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_286">286</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;projection[3][3]&nbsp;==&nbsp;0.0&nbsp;)&nbsp;//&nbsp;If&nbsp;this&nbsp;is&nbsp;a&nbsp;perspective&nbsp;projection</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_287">287</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_288">288</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;get&nbsp;world-space&nbsp;ray&nbsp;from&nbsp;camera&nbsp;&amp;&nbsp;mouse&nbsp;coord</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_289">289</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::Ray&nbsp;vp_ray&nbsp;=&nbsp;camera_-&gt;getCameraToViewportRay(screenx,&nbsp;screeny&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_290">290</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_291">291</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;transform&nbsp;ray&nbsp;direction&nbsp;back&nbsp;into&nbsp;camera&nbsp;coords</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_292">292</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::Vector3&nbsp;dir_cam&nbsp;=&nbsp;camera_-&gt;getDerivedOrientation().Inverse()&nbsp;*&nbsp;vp_ray.getDirection();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_293">293</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_294">294</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;normalize,&nbsp;so&nbsp;dir_cam.z&nbsp;==&nbsp;-depth</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__41"></td><td class="diff_header" id="from80_295">295</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dir_cam&nbsp;=&nbsp;dir_cam&nbsp;/&nbsp;dir_cam.z&nbsp;*&nbsp;depth&nbsp;*&nbsp;-1;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_296">296</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_297">297</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;compute&nbsp;3d&nbsp;point&nbsp;from&nbsp;camera&nbsp;origin&nbsp;and&nbsp;direction*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_298">298</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result_point&nbsp;=&nbsp;camera_-&gt;getDerivedPosition()&nbsp;+&nbsp;camera_-&gt;getDerivedOrientation()&nbsp;*&nbsp;dir_cam;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_299">299</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_208">208</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__42">n</a></td><td class="diff_header" id="from80_300">300</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;//&nbsp;else&nbsp;this&nbsp;must&nbsp;be&nbsp;an&nbsp;orthographic&nbsp;projection.</span></td><td class="diff_next"><a href="#difflib_chg_to80__42">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_301">301</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_302">302</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;For&nbsp;orthographic&nbsp;projection,&nbsp;getCameraToViewportRay()&nbsp;does</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_303">303</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;the&nbsp;right&nbsp;thing&nbsp;for&nbsp;us,&nbsp;and&nbsp;the&nbsp;above&nbsp;math&nbsp;does&nbsp;not&nbsp;work.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_304">304</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::Ray&nbsp;ray;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_305">305</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;camera_-&gt;getCameraToViewportRay(screenx,&nbsp;screeny,&nbsp;&amp;ray);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_306">306</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_307">307</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result_point&nbsp;=&nbsp;ray.getPoint(depth);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_308">308</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_309">309</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_310">310</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result_points.push_back(result_point);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_311">311</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++pixel_counter;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_312">312</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_313">313</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_314">314</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;return&nbsp;result_points.size()&nbsp;&gt;&nbsp;0;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_315">315</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_316">316</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_317">317</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_318">318</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_319">319</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::setDepthTextureSize(unsigned&nbsp;width,&nbsp;unsigned&nbsp;height)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_320">320</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_321">321</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;Cap&nbsp;and&nbsp;store&nbsp;requested&nbsp;texture&nbsp;size</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_322">322</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;It's&nbsp;probably&nbsp;an&nbsp;error&nbsp;if&nbsp;an&nbsp;invalid&nbsp;size&nbsp;is&nbsp;requested.&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_323">323</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;width&nbsp;&gt;&nbsp;1024&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_324">324</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_325">325</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;width&nbsp;=&nbsp;1024;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_326">326</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ROS_ERROR_STREAM("SelectionManager::setDepthTextureSize&nbsp;invalid&nbsp;width&nbsp;requested.&nbsp;Max&nbsp;Width:&nbsp;1024&nbsp;--&nbsp;Width&nbsp;requested:&nbsp;"&nbsp;&lt;&lt;&nbsp;width&nbsp;&lt;&lt;&nbsp;".&nbsp;&nbsp;Capping&nbsp;Width&nbsp;at&nbsp;1024.");</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_327">327</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_328">328</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_329">329</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;depth_texture_width_&nbsp;!=&nbsp;width&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_330">330</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;depth_texture_width_&nbsp;=&nbsp;width;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_331">331</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_332">332</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;height&nbsp;&gt;&nbsp;1024&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_333">333</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_334">334</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;height&nbsp;=&nbsp;1024;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_335">335</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ROS_ERROR_STREAM("SelectionManager::setDepthTextureSize&nbsp;invalid&nbsp;height&nbsp;requested.&nbsp;Max&nbsp;Height:&nbsp;1024&nbsp;--&nbsp;Height&nbsp;requested:&nbsp;"&nbsp;&lt;&lt;&nbsp;width&nbsp;&lt;&lt;&nbsp;".&nbsp;&nbsp;Capping&nbsp;Height&nbsp;at&nbsp;1024.");</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_336">336</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_337">337</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_338">338</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;depth_texture_height_&nbsp;!=&nbsp;height&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_339">339</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;depth_texture_height_&nbsp;=&nbsp;height;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_340">340</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_341">341</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;!depth_render_texture_.get()&nbsp;||&nbsp;depth_render_texture_-&gt;getWidth()&nbsp;!=&nbsp;width&nbsp;||&nbsp;depth_render_texture_-&gt;getHeight()&nbsp;!=&nbsp;height)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_342">342</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_343">343</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::string&nbsp;tex_name&nbsp;=&nbsp;"DepthTexture";</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_344">344</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;depth_render_texture_.get()&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_345">345</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_346">346</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tex_name&nbsp;=&nbsp;depth_render_texture_-&gt;getName();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_347">347</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_348">348</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;destroy&nbsp;old</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_349">349</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::TextureManager::getSingleton().remove(&nbsp;tex_name&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_350">350</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_351">351</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_352">352</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;depth_render_texture_&nbsp;=</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_353">353</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::TextureManager::getSingleton().createManual(&nbsp;tex_name,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_354">354</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::ResourceGroupManager::DEFAULT_RESOURCE_GROUP_NAME,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_355">355</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::TEX_TYPE_2D,&nbsp;depth_texture_width_,&nbsp;depth_texture_height_,&nbsp;0,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_356">356</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::PF_R8G8B8,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_357">357</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::TU_RENDERTARGET&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_358">358</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_359">359</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::RenderTexture*&nbsp;render_texture&nbsp;=&nbsp;depth_render_texture_-&gt;getBuffer()-&gt;getRenderTarget();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_360">360</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;render_texture-&gt;setAutoUpdated(false);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_361">361</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_362">362</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_363">363</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_364">364</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_365">365</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::setTextureSize(&nbsp;unsigned&nbsp;size&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_366">366</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_367">367</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;size&nbsp;&gt;&nbsp;1024&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_368">368</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_369">369</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;=&nbsp;1024;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_370">370</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_371">371</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_372">372</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;texture_size_&nbsp;=&nbsp;size;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_373">373</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_374">374</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(uint32_t&nbsp;pass&nbsp;=&nbsp;0;&nbsp;pass&nbsp;&lt;&nbsp;s_num_render_textures_;&nbsp;++pass)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_375">375</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_376">376</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;check&nbsp;if&nbsp;we&nbsp;need&nbsp;to&nbsp;change&nbsp;the&nbsp;texture&nbsp;size</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_377">377</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;!render_textures_[pass].get()&nbsp;||&nbsp;render_textures_[pass]-&gt;getWidth()&nbsp;!=&nbsp;size&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_378">378</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_379">379</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::string&nbsp;tex_name;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_380">380</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;render_textures_[pass].get()&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_381">381</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_382">382</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tex_name&nbsp;=&nbsp;render_textures_[pass]-&gt;getName();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_383">383</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_384">384</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;destroy&nbsp;old</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_385">385</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::TextureManager::getSingleton().remove(&nbsp;tex_name&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_386">386</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_387">387</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_388">388</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_389">389</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::stringstream&nbsp;ss;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_390">390</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;int&nbsp;count&nbsp;=&nbsp;0;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__42"></td><td class="diff_header" id="from80_391">391</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ss&nbsp;&lt;&lt;&nbsp;"SelectionTexture"&nbsp;&lt;&lt;&nbsp;count++;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_392">392</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tex_name&nbsp;=&nbsp;ss.str();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__43"></td><td class="diff_header" id="from80_393">393</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_394">394</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_209">209</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__44"></td><td class="diff_header" id="from80_395">395</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;create&nbsp;new&nbsp;texture</td><td class="diff_next"></td><td class="diff_header" id="to80_210">210</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;create&nbsp;new&nbsp;texture</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__43">n</a></td><td class="diff_header" id="from80_396">396</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;render_texture<span class="diff_sub">s_[pass]</span>&nbsp;=&nbsp;Ogre::TextureManager::getSingleton().createManual(<span class="diff_sub">&nbsp;</span>tex_name,</td><td class="diff_next"><a href="#difflib_chg_to80__43">n</a></td><td class="diff_header" id="to80_211">211</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;render_texture&nbsp;=&nbsp;Ogre::TextureManager::getSingleton().createManual(tex_name,</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_397">397</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::ResourceGroupManager::DEFAULT_RESOURCE_GROUP_NAME,&nbsp;Ogre::TEX_TYPE_2D,&nbsp;size,&nbsp;size,&nbsp;0,</td><td class="diff_next"></td><td class="diff_header" id="to80_212">212</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::ResourceGroupManager::DEFAULT_RESOURCE_GROUP_NAME,&nbsp;Ogre::TEX_TYPE_2D,&nbsp;size,&nbsp;size,&nbsp;0,</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__44">n</a></td><td class="diff_header" id="from80_398">398</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::PF_R8G8B8,&nbsp;Ogre::TU_STATIC&nbsp;|&nbsp;Ogre::TU_RENDERTARGET);</td><td class="diff_next"><a href="#difflib_chg_to80__44">n</a></td><td class="diff_header" id="to80_213">213</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::PF_R8G8B8<span class="diff_add">A8</span>,&nbsp;Ogre::TU_STATIC&nbsp;|&nbsp;Ogre::TU_RENDERTARGET);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_399">399</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_214">214</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__45">n</a></td><td class="diff_header" id="from80_400">400</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::RenderTexture*&nbsp;render_texture&nbsp;=&nbsp;render_textures_[pass]-&gt;getBuffer()-&gt;getRenderTarget();</span></td><td class="diff_next"><a href="#difflib_chg_to80__45">n</a></td><td class="diff_header" id="to80_215">215</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;render_texture-&gt;getBuffer()-&gt;getRenderTarget()-&gt;setAutoUpdated(false);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_401">401</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;render_texture-&gt;setAutoUpdated(false);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_402">402</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_403">403</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_404">404</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_405">405</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_406">406</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::clearHandlers()</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_407">407</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_408">408</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_409">409</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_410">410</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;objects_.clear();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_411">411</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_412">412</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_413">413</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::enableInteraction(&nbsp;bool&nbsp;enable&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_414">414</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_415">415</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;interaction_enabled_&nbsp;=&nbsp;enable;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_416">416</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_CollisionObjectToSelectionHandler::iterator&nbsp;handler_it&nbsp;=&nbsp;objects_.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_417">417</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_CollisionObjectToSelectionHandler::iterator&nbsp;handler_end&nbsp;=&nbsp;objects_.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_418">418</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(;&nbsp;handler_it&nbsp;!=&nbsp;handler_end;&nbsp;++handler_it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_419">419</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_420">420</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;InteractiveObjectPtr&nbsp;object&nbsp;=&nbsp;handler_it-&gt;second-&gt;getInteractiveObject().lock()&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_421">421</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">{</span></td><td class="diff_next"></td><td class="diff_header" id="to80_216">216</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_422">422</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object-&gt;enableInteraction(&nbsp;enable&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_423">423</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span>&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_217">217</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_424">424</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_425">425</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_426">426</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_427">427</td><td nowrap="nowrap"><span class="diff_sub">CollObjectHandle&nbsp;SelectionManager::createHandle()</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_428">428</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_429">429</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;uid_counter_++;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_430">430</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(uid_counter_&nbsp;&gt;&nbsp;0x00ffffff)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_431">431</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_432">432</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;uid_counter_&nbsp;=&nbsp;0;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_433">433</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_434">434</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_435">435</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;uint32_t&nbsp;handle&nbsp;=&nbsp;0;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_436">436</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_437">437</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;shuffle&nbsp;around&nbsp;the&nbsp;bits&nbsp;so&nbsp;we&nbsp;get&nbsp;lots&nbsp;of&nbsp;colors</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_438">438</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;when&nbsp;we're&nbsp;displaying&nbsp;the&nbsp;selection&nbsp;buffer</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_439">439</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(&nbsp;unsigned&nbsp;int&nbsp;i=0;&nbsp;i&lt;24;&nbsp;i++&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_440">440</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_441">441</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;uint32_t&nbsp;shift&nbsp;=&nbsp;(((23-i)%3)*8)&nbsp;+&nbsp;(23-i)/3;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_442">442</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;uint32_t&nbsp;bit&nbsp;=&nbsp;(&nbsp;(uint32_t)(uid_counter_&nbsp;&gt;&gt;&nbsp;i)&nbsp;&amp;&nbsp;(uint32_t)1&nbsp;)&nbsp;&lt;&lt;&nbsp;shift;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_443">443</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;handle&nbsp;|=&nbsp;bit;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_444">444</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_445">445</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_446">446</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;return&nbsp;handle;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_447">447</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_448">448</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_449">449</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::addObject(CollObjectHandle&nbsp;obj,&nbsp;SelectionHandler*&nbsp;handler)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_450">450</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_451">451</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(!obj)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_452">452</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_453">453</td><td nowrap="nowrap"><span class="diff_sub">//&nbsp;&nbsp;&nbsp;&nbsp;ROS_BREAK();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_454">454</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_455">455</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_456">456</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_457">457</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_458">458</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_459">459</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;InteractiveObjectPtr&nbsp;object&nbsp;=&nbsp;handler-&gt;getInteractiveObject().lock();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_460">460</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if(&nbsp;object&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_461">461</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_462">462</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;object-&gt;enableInteraction(&nbsp;interaction_enabled_&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_463">463</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_464">464</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_465">465</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;bool&nbsp;inserted&nbsp;=&nbsp;objects_.insert(&nbsp;std::make_pair(&nbsp;obj,&nbsp;handler&nbsp;)).second;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_466">466</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;ROS_ASSERT(inserted);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_467">467</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_468">468</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_469">469</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::removeObject(CollObjectHandle&nbsp;obj)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_470">470</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_471">471</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(!obj)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_472">472</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_473">473</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_474">474</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_475">475</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_476">476</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_477">477</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_478">478</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked::iterator&nbsp;it&nbsp;=&nbsp;selection_.find(obj);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_479">479</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(it&nbsp;!=&nbsp;selection_.end())</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_480">480</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_481">481</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;M_Picked&nbsp;objs;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_482">482</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;objs.insert(std::make_pair(it-&gt;first,&nbsp;it-&gt;second));</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_483">483</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_484">484</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;removeSelection(objs);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_485">485</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_486">486</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__45"></td><td class="diff_header" id="from80_487">487</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;objects_.erase(obj);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_488">488</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to80_218">218</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_489">489</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_219">219</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_490">490</td><td nowrap="nowrap">void&nbsp;SelectionManager::update()</td><td class="diff_next"></td><td class="diff_header" id="to80_220">220</td><td nowrap="nowrap">void&nbsp;SelectionManager::update()</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__46"></td><td class="diff_header" id="from80_491">491</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to80_221">221</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__46">n</a></td><td class="diff_header" id="from80_492">492</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"><a href="#difflib_chg_to80__46">n</a></td><td class="diff_header" id="to80_222">222</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::recursive_mutex&gt;&nbsp;lock(selection_mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_493">493</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_223">223</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_494">494</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_node_-&gt;setVisible(highlight_enabled_);</td><td class="diff_next"></td><td class="diff_header" id="to80_224">224</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_node_-&gt;setVisible(highlight_enabled_);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_495">495</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_225">225</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__47">n</a></td><td class="diff_header" id="from80_496">496</td><td nowrap="nowrap">&nbsp;&nbsp;if&nbsp;(highlight_enabled_)</td><td class="diff_next"><a href="#difflib_chg_to80__47">n</a></td><td class="diff_header" id="to80_226">226</td><td nowrap="nowrap">&nbsp;&nbsp;if&nbsp;(highlight_enabled_)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_497">497</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header" id="to80_227">227</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;setHighlightRect(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_498">498</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">setHighlightRect(</span>highlight_.viewport,&nbsp;highlight_.x1,&nbsp;highlight_.y1,&nbsp;highlight_.x2,&nbsp;highlight_.y2);</td><td class="diff_next"></td><td class="diff_header" id="to80_228">228</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;</span>highlight_.viewport,&nbsp;highlight_.x1,&nbsp;highlight_.y1,&nbsp;highlight_.x2,&nbsp;highlight_.y2);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_499">499</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_229">229</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_500">500</td><td nowrap="nowrap">#if&nbsp;0</td><td class="diff_next"></td><td class="diff_header" id="to80_230">230</td><td nowrap="nowrap">#if&nbsp;0</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_501">501</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;M_Picked&nbsp;results;</td><td class="diff_next"></td><td class="diff_header" id="to80_231">231</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;M_Picked&nbsp;results;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_502">502</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;highlight_node_-&gt;setVisible(false);</td><td class="diff_next"></td><td class="diff_header" id="to80_232">232</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;highlight_node_-&gt;setVisible(false);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_503">503</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;pick(highlight_.viewport,&nbsp;highlight_.x1,&nbsp;highlight_.y1,&nbsp;highlight_.x2,&nbsp;highlight_.y2,&nbsp;results);</td><td class="diff_next"></td><td class="diff_header" id="to80_233">233</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;pick(highlight_.viewport,&nbsp;highlight_.x1,&nbsp;highlight_.y1,&nbsp;highlight_.x2,&nbsp;highlight_.y2,&nbsp;results);</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__47"></td><td class="diff_header" id="from80_504">504</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;highlight_node_-&gt;setVisible(true);</td><td class="diff_next"></td><td class="diff_header" id="to80_234">234</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;highlight_node_-&gt;setVisible(true);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_505">505</td><td nowrap="nowrap">#endif</td><td class="diff_next"></td><td class="diff_header" id="to80_235">235</td><td nowrap="nowrap">#endif</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_506">506</td><td nowrap="nowrap">&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_236">236</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_507">507</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to80_237">237</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_508">508</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_238">238</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__48">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to80__48">n</a></td><td class="diff_header" id="to80_239">239</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::removeHighlight()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_240">240</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_241">241</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::recursive_mutex&gt;&nbsp;lock(selection_mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_242">242</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__48"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_243">243</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;highlight_enabled_&nbsp;=&nbsp;false;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_244">244</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_245">245</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_509">509</td><td nowrap="nowrap">void&nbsp;SelectionManager::<span class="diff_chg">h</span>ighlight(Ogre::Viewport*&nbsp;viewport,&nbsp;int&nbsp;x1,&nbsp;int&nbsp;y1,&nbsp;int&nbsp;x2,&nbsp;int&nbsp;y2)</td><td class="diff_next"></td><td class="diff_header" id="to80_246">246</td><td nowrap="nowrap">void&nbsp;SelectionManager::<span class="diff_chg">setH</span>ighligh<span class="diff_add">tRec</span>t(Ogre::Viewport<span class="diff_add">&nbsp;</span>*&nbsp;viewport,&nbsp;int&nbsp;x1,&nbsp;int&nbsp;y1,&nbsp;int&nbsp;x2,&nbsp;int&nbsp;y2)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_510">510</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to80_247">247</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__49">n</a></td><td class="diff_header" id="from80_511">511</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"><a href="#difflib_chg_to80__49">n</a></td><td class="diff_header" id="to80_248">248</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;float&nbsp;nx1&nbsp;=&nbsp;(static_cast&lt;float&gt;(x1)&nbsp;/&nbsp;viewport-&gt;getActualWidth())&nbsp;*&nbsp;2&nbsp;-&nbsp;1;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_249">249</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;float&nbsp;nx2&nbsp;=&nbsp;(static_cast&lt;float&gt;(x2)&nbsp;/&nbsp;viewport-&gt;getActualWidth())&nbsp;*&nbsp;2&nbsp;-&nbsp;1;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_250">250</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;float&nbsp;ny1&nbsp;=&nbsp;-((static_cast&lt;float&gt;(y1)&nbsp;/&nbsp;viewport-&gt;getActualHeight())&nbsp;*&nbsp;2&nbsp;-&nbsp;1);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_251">251</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;float&nbsp;ny2&nbsp;=&nbsp;-((static_cast&lt;float&gt;(y2)&nbsp;/&nbsp;viewport-&gt;getActualHeight())&nbsp;*&nbsp;2&nbsp;-&nbsp;1);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_252">252</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_253">253</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;nx1&nbsp;=&nbsp;nx1&nbsp;&lt;&nbsp;-1&nbsp;?&nbsp;-1&nbsp;:&nbsp;(nx1&nbsp;&gt;&nbsp;1&nbsp;?&nbsp;1&nbsp;:&nbsp;nx1);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_254">254</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;ny1&nbsp;=&nbsp;ny1&nbsp;&lt;&nbsp;-1&nbsp;?&nbsp;-1&nbsp;:&nbsp;(ny1&nbsp;&gt;&nbsp;1&nbsp;?&nbsp;1&nbsp;:&nbsp;ny1);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_255">255</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;nx2&nbsp;=&nbsp;nx2&nbsp;&lt;&nbsp;-1&nbsp;?&nbsp;-1&nbsp;:&nbsp;(nx2&nbsp;&gt;&nbsp;1&nbsp;?&nbsp;1&nbsp;:&nbsp;nx2);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_256">256</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;ny2&nbsp;=&nbsp;ny2&nbsp;&lt;&nbsp;-1&nbsp;?&nbsp;-1&nbsp;:&nbsp;(ny2&nbsp;&gt;&nbsp;1&nbsp;?&nbsp;1&nbsp;:&nbsp;ny2);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_257">257</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_258">258</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;highlight_rectangle_-&gt;setCorners(nx1,&nbsp;ny1,&nbsp;nx2,&nbsp;ny2);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_259">259</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_260">260</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_261">261</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::unpackColors(const&nbsp;Ogre::PixelBox&nbsp;&amp;&nbsp;box)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_262">262</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_263">263</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;auto&nbsp;w&nbsp;=&nbsp;box.getWidth();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_264">264</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;auto&nbsp;h&nbsp;=&nbsp;box.getHeight();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_265">265</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_266">266</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;pixel_buffer_.clear();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_267">267</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;pixel_buffer_.reserve(w&nbsp;*&nbsp;h);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_268">268</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_269">269</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;for&nbsp;(uint32_t&nbsp;y&nbsp;=&nbsp;0;&nbsp;y&nbsp;&lt;&nbsp;h;&nbsp;++y)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_270">270</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(uint32_t&nbsp;x&nbsp;=&nbsp;0;&nbsp;x&nbsp;&lt;&nbsp;w;&nbsp;++x)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_271">271</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint32_t&nbsp;pos&nbsp;=&nbsp;(x&nbsp;+&nbsp;y&nbsp;*&nbsp;w)&nbsp;*&nbsp;4;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_272">272</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_273">273</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint32_t&nbsp;pix_val&nbsp;=&nbsp;*reinterpret_cast&lt;uint32_t&nbsp;*&gt;(reinterpret_cast&lt;uint8_t&nbsp;*&gt;(box.data)&nbsp;+&nbsp;pos);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_274">274</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint32_t&nbsp;handle&nbsp;=&nbsp;colorToHandle(box.format,&nbsp;pix_val);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_275">275</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_276">276</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixel_buffer_.push_back(handle);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_277">277</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_278">278</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_279">279</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_280">280</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_281">281</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::renderAndUnpack(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_282">282</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;rviz_rendering::RenderWindow&nbsp;*&nbsp;window,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_283">283</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;const&nbsp;SelectionRectangle&nbsp;&amp;&nbsp;selection_rectangle,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_284">284</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;uint32_t&nbsp;pass)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_285">285</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_286">286</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;assert(pass&nbsp;&lt;&nbsp;render_textures_.size());</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_287">287</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_288">288</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::stringstream&nbsp;scheme;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_289">289</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;scheme&nbsp;&lt;&lt;&nbsp;"Pick";</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_290">290</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;if&nbsp;(pass&nbsp;&gt;&nbsp;0)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_291">291</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;scheme&nbsp;&lt;&lt;&nbsp;pass;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_292">292</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_293">293</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_294">294</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;auto&nbsp;tex&nbsp;=&nbsp;RenderTexture(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_295">295</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;render_textures_[pass],</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_296">296</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;Dimensions(texture_size_,&nbsp;texture_size_),</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_297">297</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;scheme.str());</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_298">298</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_299">299</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;render(window,&nbsp;selection_rectangle,&nbsp;tex,&nbsp;pixel_boxes_[pass]);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_300">300</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;unpackColors(pixel_boxes_[pass]);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_301">301</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_302">302</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_303">303</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::render(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_304">304</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;rviz_rendering::RenderWindow&nbsp;*&nbsp;window,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_305">305</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;const&nbsp;SelectionRectangle&nbsp;&amp;&nbsp;selection_rectangle,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_306">306</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;const&nbsp;RenderTexture&nbsp;&amp;&nbsp;render_texture,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_307">307</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;Ogre::PixelBox&nbsp;&amp;&nbsp;dst_box)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_308">308</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_309">309</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;auto&nbsp;handler_lock&nbsp;=&nbsp;handler_manager_-&gt;lock();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_310">310</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;renderer_-&gt;render(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_311">311</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;window,&nbsp;selection_rectangle,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_312">312</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;render_texture,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_313">313</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;handler_manager_-&gt;handlers(),</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_314">314</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;dst_box);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_315">315</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_316">316</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_317">317</td><td nowrap="nowrap"><span class="diff_add">PropertyTreeModel&nbsp;*&nbsp;SelectionManager::getPropertyModel()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_318">318</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_319">319</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;return&nbsp;property_model_;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_320">320</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_321">321</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_322">322</td><td nowrap="nowrap"><span class="diff_add">Ogre::ColourValue&nbsp;SelectionManager::handleToColor(CollObjectHandle&nbsp;handle)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_323">323</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_324">324</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;float&nbsp;r&nbsp;=&nbsp;((handle&nbsp;&gt;&gt;&nbsp;16)&nbsp;&amp;&nbsp;0xff)&nbsp;/&nbsp;255.0f;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_325">325</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;float&nbsp;g&nbsp;=&nbsp;((handle&nbsp;&gt;&gt;&nbsp;8)&nbsp;&amp;&nbsp;0xff)&nbsp;/&nbsp;255.0f;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_326">326</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;float&nbsp;b&nbsp;=&nbsp;(handle&nbsp;&amp;&nbsp;0xff)&nbsp;/&nbsp;255.0f;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_327">327</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;return&nbsp;Ogre::ColourValue(r,&nbsp;g,&nbsp;b,&nbsp;1.0f);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_328">328</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_329">329</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_330">330</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::setPickColor(const&nbsp;Ogre::ColourValue&nbsp;&amp;&nbsp;color,&nbsp;Ogre::SceneNode&nbsp;*&nbsp;node)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_331">331</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_332">332</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;setPickData(colorToHandle(color),&nbsp;color,&nbsp;node);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_333">333</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_334">334</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_335">335</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::setPickColor(const&nbsp;Ogre::ColourValue&nbsp;&amp;&nbsp;color,&nbsp;Ogre::MovableObject&nbsp;*&nbsp;object)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_336">336</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_337">337</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;setPickData(colorToHandle(color),&nbsp;color,&nbsp;object);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_338">338</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_339">339</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_340">340</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::setPickHandle(CollObjectHandle&nbsp;handle,&nbsp;Ogre::SceneNode&nbsp;*&nbsp;node)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_341">341</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_342">342</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;setPickData(handle,&nbsp;handleToColor(handle),&nbsp;node);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_343">343</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_344">344</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_345">345</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::setPickHandle(CollObjectHandle&nbsp;handle,&nbsp;Ogre::MovableObject&nbsp;*&nbsp;object)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_346">346</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_347">347</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;setPickData(handle,&nbsp;handleToColor(handle),&nbsp;object);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_348">348</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_349">349</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_350">350</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::setPickData(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_351">351</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;CollObjectHandle&nbsp;handle,&nbsp;const&nbsp;Ogre::ColourValue&nbsp;&amp;&nbsp;color,&nbsp;Ogre::SceneNode&nbsp;*&nbsp;node)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_352">352</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_353">353</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;if&nbsp;(!node)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_354">354</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_355">355</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_356">356</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;//&nbsp;Loop&nbsp;over&nbsp;all&nbsp;objects&nbsp;attached&nbsp;to&nbsp;this&nbsp;node.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_357">357</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;auto&nbsp;obj_it&nbsp;=&nbsp;node-&gt;getAttachedObjectIterator();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_358">358</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;while&nbsp;(obj_it.hasMoreElements())&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_359">359</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;auto&nbsp;obj&nbsp;=&nbsp;obj_it.getNext();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_360">360</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;setPickData(handle,&nbsp;color,&nbsp;obj);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_361">361</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_362">362</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;//&nbsp;Loop&nbsp;over&nbsp;and&nbsp;recurse&nbsp;into&nbsp;all&nbsp;child&nbsp;nodes.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_363">363</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;auto&nbsp;child_it&nbsp;=&nbsp;node-&gt;getChildIterator();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_364">364</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;while&nbsp;(child_it.hasMoreElements())&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_365">365</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;auto&nbsp;child&nbsp;=&nbsp;dynamic_cast&lt;Ogre::SceneNode&nbsp;*&gt;(child_it.getNext());</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_366">366</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;setPickData(handle,&nbsp;color,&nbsp;child);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_367">367</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_368">368</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_369">369</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_370">370</td><td nowrap="nowrap"><span class="diff_add">class&nbsp;PickColorSetter&nbsp;:&nbsp;public&nbsp;Ogre::Renderable::Visitor</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_371">371</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_372">372</td><td nowrap="nowrap"><span class="diff_add">public:</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_373">373</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;PickColorSetter(CollObjectHandle&nbsp;handle,&nbsp;const&nbsp;Ogre::ColourValue&nbsp;&amp;&nbsp;color)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_374">374</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;:&nbsp;color_vector_(color.r,&nbsp;color.g,&nbsp;color.b,&nbsp;1.0),&nbsp;handle_(handle)&nbsp;{}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_375">375</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_376">376</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;void&nbsp;visit(Ogre::Renderable&nbsp;*&nbsp;rend,&nbsp;ushort&nbsp;lodIndex,&nbsp;bool&nbsp;isDebug,&nbsp;Ogre::Any&nbsp;*&nbsp;pAny&nbsp;=&nbsp;0)&nbsp;override</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_377">377</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_378">378</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;Q_UNUSED(lodIndex);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_379">379</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;Q_UNUSED(isDebug);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_380">380</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;Q_UNUSED(pAny);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_381">381</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;rend-&gt;setCustomParameter(RVIZ_RENDERING_PICK_COLOR_PARAMETER,&nbsp;color_vector_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_382">382</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;rend-&gt;getUserObjectBindings().setUserAny("pick_handle",&nbsp;Ogre::Any(handle_));</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_383">383</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_384">384</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_385">385</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;Ogre::Vector4&nbsp;color_vector_;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_386">386</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;CollObjectHandle&nbsp;handle_;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_387">387</td><td nowrap="nowrap"><span class="diff_add">};</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_388">388</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_389">389</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::setPickData(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_390">390</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;CollObjectHandle&nbsp;handle,&nbsp;const&nbsp;Ogre::ColourValue&nbsp;&amp;&nbsp;color,&nbsp;Ogre::MovableObject&nbsp;*&nbsp;object)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_391">391</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_392">392</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;PickColorSetter&nbsp;visitor(handle,&nbsp;color);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_393">393</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;object-&gt;visitRenderables(&amp;visitor);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_394">394</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;object-&gt;getUserObjectBindings().setUserAny("pick_handle",&nbsp;Ogre::Any(handle));</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_395">395</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_396">396</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_397">397</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::removeSelection(const&nbsp;M_Picked&nbsp;&amp;&nbsp;objs)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_398">398</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_399">399</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::recursive_mutex&gt;&nbsp;lock(selection_mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_400">400</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_401">401</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;for&nbsp;(const&nbsp;auto&nbsp;&amp;&nbsp;obj&nbsp;:&nbsp;objs)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_402">402</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;removeSelectedObject(obj.second);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_403">403</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_404">404</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_405">405</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;selectionRemoved(objs);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_406">406</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_407">407</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_408">408</td><td nowrap="nowrap"><span class="diff_add">const&nbsp;M_Picked&nbsp;&amp;&nbsp;SelectionManager::getSelection()&nbsp;const</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_409">409</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_410">410</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;return&nbsp;selection_;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_411">411</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_412">412</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_413">413</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::addSelection(const&nbsp;M_Picked&nbsp;&amp;&nbsp;objs)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_414">414</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_415">415</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::recursive_mutex&gt;&nbsp;lock(selection_mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_416">416</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_417">417</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;M_Picked&nbsp;added;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_418">418</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;for&nbsp;(const&nbsp;auto&nbsp;&amp;&nbsp;obj&nbsp;:&nbsp;objs)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_419">419</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;auto&nbsp;ppb&nbsp;=&nbsp;addSelectedObject(obj.second);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_420">420</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(ppb.second)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_421">421</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;added.insert(std::make_pair(obj.first,&nbsp;ppb.first));</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_422">422</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_423">423</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_424">424</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_425">425</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;selectionAdded(added);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_426">426</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_427">427</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_428">428</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::setSelection(const&nbsp;M_Picked&nbsp;&amp;&nbsp;objs)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_429">429</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_430">430</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::recursive_mutex&gt;&nbsp;lock(selection_mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_431">431</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_432">432</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;M_Picked&nbsp;original(selection_.begin(),&nbsp;selection_.end());</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_433">433</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_434">434</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;removeSelection(original);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_435">435</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;addSelection(objs);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_436">436</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_437">437</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_438">438</td><td nowrap="nowrap"><span class="diff_add">std::pair&lt;Picked,&nbsp;bool&gt;&nbsp;SelectionManager::addSelectedObject(const&nbsp;Picked&nbsp;&amp;&nbsp;obj)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_439">439</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_440">440</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::recursive_mutex&gt;&nbsp;lock(selection_mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_441">441</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_442">442</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::pair&lt;M_Picked::iterator,&nbsp;bool&gt;&nbsp;pib&nbsp;=&nbsp;selection_.insert(std::make_pair(obj.handle,&nbsp;obj));</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_443">443</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_444">444</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;auto&nbsp;handler&nbsp;=&nbsp;handler_manager_-&gt;getHandler(obj.handle);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_445">445</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_446">446</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;if&nbsp;(pib.second)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_447">447</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;handler-&gt;onSelect(obj);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_448">448</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;std::make_pair(obj,&nbsp;true);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_449">449</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}&nbsp;else&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_450">450</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;Picked&nbsp;&amp;&nbsp;cur&nbsp;=&nbsp;pib.first-&gt;second;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_451">451</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;Picked&nbsp;added(cur.handle);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_452">452</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_453">453</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(const&nbsp;auto&nbsp;&amp;&nbsp;extra_handle&nbsp;&nbsp;:&nbsp;obj.extra_handles)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_454">454</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(cur.extra_handles.insert(extra_handle).second)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_455">455</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;added.extra_handles.insert(extra_handle);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_456">456</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_457">457</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_458">458</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_459">459</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!added.extra_handles.empty())&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_460">460</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler-&gt;onSelect(added);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_461">461</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_462">462</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;std::make_pair(added,&nbsp;true);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_463">463</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_464">464</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_465">465</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_466">466</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;return&nbsp;std::make_pair(Picked(0),&nbsp;false);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_467">467</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_468">468</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_469">469</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::removeSelectedObject(const&nbsp;Picked&nbsp;&amp;&nbsp;obj)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_470">470</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_471">471</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::recursive_mutex&gt;&nbsp;lock(selection_mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_472">472</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_473">473</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;auto&nbsp;sel_it&nbsp;=&nbsp;selection_.find(obj.handle);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_474">474</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;if&nbsp;(sel_it&nbsp;!=&nbsp;selection_.end())&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_475">475</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(const&nbsp;auto&nbsp;&amp;&nbsp;extra_handle&nbsp;:&nbsp;obj.extra_handles)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_476">476</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sel_it-&gt;second.extra_handles.erase(extra_handle);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_477">477</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_478">478</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_479">479</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sel_it-&gt;second.extra_handles.empty())&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_480">480</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;selection_.erase(sel_it);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_481">481</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_482">482</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_483">483</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_484">484</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;handler_manager_-&gt;getHandler(obj.handle)-&gt;onDeselect(obj);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_485">485</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_486">486</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_487">487</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::focusOnSelection()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_488">488</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_489">489</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::recursive_mutex&gt;&nbsp;lock(selection_mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_490">490</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_491">491</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;if&nbsp;(selection_.empty())&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_492">492</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_493">493</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_494">494</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_495">495</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;Ogre::AxisAlignedBox&nbsp;combined;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_496">496</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_497">497</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;for&nbsp;(const&nbsp;auto&nbsp;&amp;&nbsp;selection_item&nbsp;:&nbsp;selection_)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_498">498</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;Picked&nbsp;&amp;&nbsp;p&nbsp;=&nbsp;selection_item.second;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_499">499</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_500">500</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;auto&nbsp;handler&nbsp;=&nbsp;handler_manager_-&gt;getHandler(p.handle);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_501">501</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_502">502</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;auto&nbsp;aabbs&nbsp;=&nbsp;handler-&gt;getAABBs(p);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_503">503</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_504">504</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(const&nbsp;auto&nbsp;&amp;&nbsp;aabb&nbsp;:&nbsp;aabbs)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_505">505</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined.merge(aabb);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_506">506</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_507">507</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_508">508</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_509">509</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;if&nbsp;(!combined.isInfinite()&nbsp;&amp;&amp;&nbsp;!combined.isNull())&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_510">510</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;Ogre::Vector3&nbsp;center&nbsp;=&nbsp;combined.getCenter();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_511">511</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ViewController&nbsp;*&nbsp;controller&nbsp;=&nbsp;context_-&gt;getViewManager()-&gt;getCurrent();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_512">512</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(controller)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_513">513</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controller-&gt;lookAt(center);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_514">514</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_515">515</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_516">516</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_517">517</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_518">518</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::selectionRemoved(const&nbsp;M_Picked&nbsp;&amp;&nbsp;removed)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_519">519</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_520">520</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;for&nbsp;(const&nbsp;auto&nbsp;&amp;&nbsp;removed_item&nbsp;:&nbsp;removed)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_521">521</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;Picked&nbsp;&amp;&nbsp;picked&nbsp;=&nbsp;removed_item.second;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_522">522</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;auto&nbsp;handler&nbsp;=&nbsp;handler_manager_-&gt;getHandler(picked.handle);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_523">523</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;assert(handler);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_524">524</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_525">525</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;handler-&gt;destroyProperties(picked,&nbsp;property_model_-&gt;getRoot());</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_526">526</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_527">527</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_528">528</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_529">529</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::selectionAdded(const&nbsp;M_Picked&nbsp;&amp;&nbsp;added)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_530">530</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_531">531</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;for&nbsp;(const&nbsp;auto&nbsp;&amp;&nbsp;added_item&nbsp;:&nbsp;added)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_532">532</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;Picked&nbsp;&amp;&nbsp;picked&nbsp;=&nbsp;added_item.second;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_533">533</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;auto&nbsp;handler&nbsp;=&nbsp;handler_manager_-&gt;getHandler(picked.handle);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_534">534</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;assert(handler);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_535">535</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_536">536</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;handler-&gt;createProperties(picked,&nbsp;property_model_-&gt;getRoot());</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_537">537</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_538">538</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;property_model_-&gt;sort(0,&nbsp;Qt::AscendingOrder);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_539">539</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_540">540</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_541">541</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::updateProperties()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_542">542</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_543">543</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::recursive_mutex&gt;&nbsp;lock(selection_mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_544">544</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_545">545</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;for&nbsp;(const&nbsp;auto&nbsp;&amp;&nbsp;selection_item&nbsp;:&nbsp;selection_)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_546">546</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;handler_manager_-&gt;getHandler(selection_item.first)-&gt;updateProperties();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_547">547</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_548">548</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_549">549</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_550">550</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::highlight(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_551">551</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;rviz_rendering::RenderWindow&nbsp;*&nbsp;window,&nbsp;int&nbsp;x1,&nbsp;int&nbsp;y1,&nbsp;int&nbsp;x2,&nbsp;int&nbsp;y2)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_552">552</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_553">553</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;Ogre::Viewport&nbsp;*&nbsp;viewport&nbsp;=&nbsp;rviz_rendering::RenderWindowOgreAdapter::getOgreViewport(window);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_554">554</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::recursive_mutex&gt;&nbsp;lock(selection_mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_512">512</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_555">555</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_513">513</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_enabled_&nbsp;=&nbsp;true;</td><td class="diff_next"></td><td class="diff_header" id="to80_556">556</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_enabled_&nbsp;=&nbsp;true;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_514">514</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_557">557</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_515">515</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_.viewport&nbsp;=&nbsp;viewport;</td><td class="diff_next"></td><td class="diff_header" id="to80_558">558</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_.viewport&nbsp;=&nbsp;viewport;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_516">516</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_.x1&nbsp;=&nbsp;x1;</td><td class="diff_next"></td><td class="diff_header" id="to80_559">559</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_.x1&nbsp;=&nbsp;x1;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__49"></td><td class="diff_header" id="from80_517">517</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_.y1&nbsp;=&nbsp;y1;</td><td class="diff_next"></td><td class="diff_header" id="to80_560">560</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_.y1&nbsp;=&nbsp;y1;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_518">518</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_.x2&nbsp;=&nbsp;x2;</td><td class="diff_next"></td><td class="diff_header" id="to80_561">561</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_.x2&nbsp;=&nbsp;x2;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_519">519</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_.y2&nbsp;=&nbsp;y2;</td><td class="diff_next"></td><td class="diff_header" id="to80_562">562</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_.y2&nbsp;=&nbsp;y2;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__50"></td><td class="diff_header" id="from80_520">520</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to80_563">563</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_521">521</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_564">564</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__50">n</a></td><td class="diff_header" id="from80_522">522</td><td nowrap="nowrap">void&nbsp;SelectionManager::<span class="diff_chg">r</span>e<span class="diff_chg">mov</span>e<span class="diff_chg">Highligh</span>t(<span class="diff_sub">)</span></td><td class="diff_next"><a href="#difflib_chg_to80__50">n</a></td><td class="diff_header" id="to80_565">565</td><td nowrap="nowrap">void&nbsp;SelectionManager::<span class="diff_chg">s</span>e<span class="diff_chg">l</span>e<span class="diff_chg">c</span>t(</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_566">566</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;rviz_rendering::RenderWindow&nbsp;*&nbsp;window,&nbsp;int&nbsp;x1,&nbsp;int&nbsp;y1,&nbsp;int&nbsp;x2,&nbsp;int&nbsp;y2,&nbsp;SelectType&nbsp;type)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_523">523</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to80_567">567</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__51">n</a></td><td class="diff_header" id="from80_524">524</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"><a href="#difflib_chg_to80__51">n</a></td><td class="diff_header" id="to80_568">568</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::recursive_mutex&gt;&nbsp;lock(selection_mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_525">525</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_526">526</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;highlight_enabled_&nbsp;=&nbsp;false;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_527">527</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_528">528</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_529">529</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::select(Ogre::Viewport*&nbsp;viewport,&nbsp;int&nbsp;x1,&nbsp;int&nbsp;y1,&nbsp;int&nbsp;x2,&nbsp;int&nbsp;y2,&nbsp;SelectType&nbsp;type)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_530">530</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_531">531</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__51"></td><td class="diff_header" id="from80_532">532</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_569">569</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_533">533</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_enabled_&nbsp;=&nbsp;false;</td><td class="diff_next"></td><td class="diff_header" id="to80_570">570</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_enabled_&nbsp;=&nbsp;false;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__52"></td><td class="diff_header" id="from80_534">534</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_node_-&gt;setVisible(false);</td><td class="diff_next"></td><td class="diff_header" id="to80_571">571</td><td nowrap="nowrap">&nbsp;&nbsp;highlight_node_-&gt;setVisible(false);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_535">535</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_572">572</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_536">536</td><td nowrap="nowrap">&nbsp;&nbsp;M_Picked&nbsp;results;</td><td class="diff_next"></td><td class="diff_header" id="to80_573">573</td><td nowrap="nowrap">&nbsp;&nbsp;M_Picked&nbsp;results;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__53"><a href="#difflib_chg_to80__52">n</a></td><td class="diff_header" id="from80_537">537</td><td nowrap="nowrap">&nbsp;&nbsp;pick(<span class="diff_chg">v</span>i<span class="diff_chg">e</span>w<span class="diff_sub">port</span>,&nbsp;x1,&nbsp;y1,&nbsp;x2,&nbsp;y2,&nbsp;results);</td><td class="diff_next"><a href="#difflib_chg_to80__52">n</a></td><td class="diff_header" id="to80_574">574</td><td nowrap="nowrap">&nbsp;&nbsp;pick(<span class="diff_chg">w</span>i<span class="diff_chg">ndo</span>w,&nbsp;x1,&nbsp;y1,&nbsp;x2,&nbsp;y2,&nbsp;results);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_538">538</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_575">575</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__53">n</a></td><td class="diff_header" id="from80_539">539</td><td nowrap="nowrap">&nbsp;&nbsp;if&nbsp;(type&nbsp;==&nbsp;Add)</td><td class="diff_next"><a href="#difflib_chg_to80__53">n</a></td><td class="diff_header" id="to80_576">576</td><td nowrap="nowrap">&nbsp;&nbsp;if&nbsp;(type&nbsp;==&nbsp;Add)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_540">540</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__54"></td><td class="diff_header" id="from80_541">541</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;addSelection(results);</td><td class="diff_next"></td><td class="diff_header" id="to80_577">577</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;addSelection(results);</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__54">n</a></td><td class="diff_header" id="from80_542">542</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"><a href="#difflib_chg_to80__54">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_543">543</td><td nowrap="nowrap">&nbsp;&nbsp;else&nbsp;if&nbsp;(type&nbsp;==&nbsp;Remove)</td><td class="diff_next"></td><td class="diff_header" id="to80_578">578</td><td nowrap="nowrap">&nbsp;<span class="diff_add">&nbsp;}</span>&nbsp;else&nbsp;if&nbsp;(type&nbsp;==&nbsp;Remove)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_544">544</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_545">545</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;removeSelection(results);</td><td class="diff_next"></td><td class="diff_header" id="to80_579">579</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;removeSelection(results);</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__55">n</a></td><td class="diff_header" id="from80_546">546</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"><a href="#difflib_chg_to80__55">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_547">547</td><td nowrap="nowrap">&nbsp;&nbsp;else&nbsp;if&nbsp;(type&nbsp;==&nbsp;Replace)</td><td class="diff_next"></td><td class="diff_header" id="to80_580">580</td><td nowrap="nowrap">&nbsp;<span class="diff_add">&nbsp;}</span>&nbsp;else&nbsp;if&nbsp;(type&nbsp;==&nbsp;Replace)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__55"></td><td class="diff_header" id="from80_548">548</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_549">549</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;setSelection(results);</td><td class="diff_next"></td><td class="diff_header" id="to80_581">581</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;setSelection(results);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_550">550</td><td nowrap="nowrap">&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_582">582</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_551">551</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to80_583">583</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_552">552</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_584">584</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__56">n</a></td><td class="diff_header" id="from80_553">553</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::setHighlightRect(Ogre::Viewport*&nbsp;viewport,&nbsp;int&nbsp;x1,&nbsp;int&nbsp;y1,&nbsp;int&nbsp;x2,&nbsp;int&nbsp;y2)</span></td><td class="diff_next"><a href="#difflib_chg_to80__56">n</a></td><td class="diff_header" id="to80_585">585</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::pick(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_586">586</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;rviz_rendering::RenderWindow&nbsp;*&nbsp;window,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_587">587</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;int&nbsp;x1,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_588">588</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;int&nbsp;y1,</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__56"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_589">589</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;int&nbsp;x2,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_590">590</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;int&nbsp;y2,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_591">591</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;M_Picked&nbsp;&amp;&nbsp;results,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_592">592</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;bool&nbsp;single_render_pass)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_554">554</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to80_593">593</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__57">n</a></td><td class="diff_header" id="from80_555">555</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;float&nbsp;nx1&nbsp;=&nbsp;((float)x1&nbsp;/&nbsp;viewport-&gt;getActualWidth())&nbsp;*&nbsp;2&nbsp;-&nbsp;1;</span></td><td class="diff_next"><a href="#difflib_chg_to80__57">n</a></td><td class="diff_header" id="to80_594">594</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;auto&nbsp;handler_lock&nbsp;=&nbsp;handler_manager_-&gt;lock(std::defer_lock);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_556">556</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;float&nbsp;nx2&nbsp;=&nbsp;((float)x2&nbsp;/&nbsp;viewport-&gt;getActualWidth())&nbsp;*&nbsp;2&nbsp;-&nbsp;1;</span></td><td class="diff_next"></td><td class="diff_header" id="to80_595">595</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock(selection_mutex_,&nbsp;handler_lock);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_557">557</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;float&nbsp;ny1&nbsp;=&nbsp;-(((float)y1&nbsp;/&nbsp;viewport-&gt;getActualHeight())&nbsp;*&nbsp;2&nbsp;-&nbsp;1);</span></td><td class="diff_next"></td><td class="diff_header" id="to80_596">596</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::recursive_mutex&gt;&nbsp;lock(selection_mutex_,&nbsp;std::adopt_lock);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_558">558</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;float&nbsp;ny2&nbsp;=&nbsp;-(((float)y2&nbsp;/&nbsp;viewport-&gt;getActualHeight())&nbsp;*&nbsp;2&nbsp;-&nbsp;1);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_559">559</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_560">560</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;nx1&nbsp;=&nbsp;nx1&nbsp;&lt;&nbsp;-1&nbsp;?&nbsp;-1&nbsp;:&nbsp;(nx1&nbsp;&gt;&nbsp;1&nbsp;?&nbsp;1&nbsp;:&nbsp;nx1);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_561">561</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;ny1&nbsp;=&nbsp;ny1&nbsp;&lt;&nbsp;-1&nbsp;?&nbsp;-1&nbsp;:&nbsp;(ny1&nbsp;&gt;&nbsp;1&nbsp;?&nbsp;1&nbsp;:&nbsp;ny1);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_562">562</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;nx2&nbsp;=&nbsp;nx2&nbsp;&lt;&nbsp;-1&nbsp;?&nbsp;-1&nbsp;:&nbsp;(nx2&nbsp;&gt;&nbsp;1&nbsp;?&nbsp;1&nbsp;:&nbsp;nx2);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_563">563</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;ny2&nbsp;=&nbsp;ny2&nbsp;&lt;&nbsp;-1&nbsp;?&nbsp;-1&nbsp;:&nbsp;(ny2&nbsp;&gt;&nbsp;1&nbsp;?&nbsp;1&nbsp;:&nbsp;ny2);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_564">564</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_565">565</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;highlight_rectangle_-&gt;setCorners(nx1,&nbsp;ny1,&nbsp;nx2,&nbsp;ny2);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_566">566</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_567">567</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_568">568</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::unpackColors(&nbsp;const&nbsp;Ogre::PixelBox&amp;&nbsp;box,&nbsp;V_CollObject&amp;&nbsp;pixels)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_569">569</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_570">570</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;int&nbsp;w&nbsp;=&nbsp;box.getWidth();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_571">571</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;int&nbsp;h&nbsp;=&nbsp;box.getHeight();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_572">572</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_573">573</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;pixels.clear();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_574">574</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;pixels.reserve(&nbsp;w*h&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_575">575</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_576">576</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(int&nbsp;y&nbsp;=&nbsp;0;&nbsp;y&nbsp;&lt;&nbsp;h;&nbsp;y&nbsp;++)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_577">577</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_578">578</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;x&nbsp;=&nbsp;0;&nbsp;x&nbsp;&lt;&nbsp;w;&nbsp;x&nbsp;++)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_579">579</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_580">580</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint32_t&nbsp;pos&nbsp;=&nbsp;(x&nbsp;+&nbsp;y*w)&nbsp;*&nbsp;4;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_581">581</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_582">582</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint32_t&nbsp;pix_val&nbsp;=&nbsp;*(uint32_t*)((uint8_t*)box.data&nbsp;+&nbsp;pos);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_583">583</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint32_t&nbsp;handle&nbsp;=&nbsp;colorToHandle(box.format,&nbsp;pix_val);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_584">584</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_585">585</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixels.push_back(handle);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_586">586</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_587">587</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_588">588</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_589">589</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_590">590</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::renderAndUnpack(Ogre::Viewport*&nbsp;viewport,&nbsp;uint32_t&nbsp;pass,&nbsp;int&nbsp;x1,&nbsp;int&nbsp;y1,&nbsp;int&nbsp;x2,&nbsp;int&nbsp;y2,&nbsp;V_CollObject&amp;&nbsp;pixels)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_591">591</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_592">592</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;ROS_ASSERT(pass&nbsp;&lt;&nbsp;s_num_render_textures_);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_593">593</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_594">594</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;std::stringstream&nbsp;scheme;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_595">595</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;scheme&nbsp;&lt;&lt;&nbsp;"Pick";</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_596">596</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(pass&nbsp;&gt;&nbsp;0)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_597">597</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_598">598</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;scheme&nbsp;&lt;&lt;&nbsp;pass;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_599">599</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_600">600</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_601">601</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if(&nbsp;render(&nbsp;viewport,&nbsp;render_textures_[pass],&nbsp;x1,&nbsp;y1,&nbsp;x2,&nbsp;y2,&nbsp;pixel_boxes_[pass],&nbsp;scheme.str(),&nbsp;texture_size_,&nbsp;texture_size_&nbsp;))</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_602">602</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_603">603</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;unpackColors(pixel_boxes_[pass],&nbsp;pixels);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_604">604</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_605">605</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_606">606</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_607">607</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_608">608</td><td nowrap="nowrap"><span class="diff_sub">bool&nbsp;SelectionManager::render(Ogre::Viewport*&nbsp;viewport,&nbsp;Ogre::TexturePtr&nbsp;tex,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_609">609</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;x1,&nbsp;int&nbsp;y1,&nbsp;int&nbsp;x2,&nbsp;int&nbsp;y2,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_610">610</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ogre::PixelBox&amp;&nbsp;dst_box,&nbsp;std::string&nbsp;material_scheme,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_611">611</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;texture_width,&nbsp;unsigned&nbsp;texture_height)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_612">612</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_613">613</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;vis_manager_-&gt;lockRender();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_614">614</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_615">615</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;x1&nbsp;&gt;&nbsp;x2&nbsp;)&nbsp;std::swap(&nbsp;x1,&nbsp;x2&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_616">616</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;y1&nbsp;&gt;&nbsp;y2&nbsp;)&nbsp;std::swap(&nbsp;y1,&nbsp;y2&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_617">617</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_618">618</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;x1&nbsp;&lt;&nbsp;0&nbsp;)&nbsp;x1&nbsp;=&nbsp;0;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_619">619</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;y1&nbsp;&lt;&nbsp;0&nbsp;)&nbsp;y1&nbsp;=&nbsp;0;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_620">620</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;x1&nbsp;&gt;&nbsp;viewport-&gt;getActualWidth()-2&nbsp;)&nbsp;x1&nbsp;=&nbsp;viewport-&gt;getActualWidth()-2;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_621">621</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;y1&nbsp;&gt;&nbsp;viewport-&gt;getActualHeight()-2&nbsp;)&nbsp;y1&nbsp;=&nbsp;viewport-&gt;getActualHeight()-2;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_622">622</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;x2&nbsp;&lt;&nbsp;0&nbsp;)&nbsp;x2&nbsp;=&nbsp;0;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_623">623</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;y2&nbsp;&lt;&nbsp;0&nbsp;)&nbsp;y2&nbsp;=&nbsp;0;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_624">624</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;x2&nbsp;&gt;&nbsp;viewport-&gt;getActualWidth()-2&nbsp;)&nbsp;x2&nbsp;=&nbsp;viewport-&gt;getActualWidth()-2;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_625">625</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;y2&nbsp;&gt;&nbsp;viewport-&gt;getActualHeight()-2&nbsp;)&nbsp;y2&nbsp;=&nbsp;viewport-&gt;getActualHeight()-2;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_626">626</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_627">627</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;x2==x1&nbsp;)&nbsp;x2++;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_628">628</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;y2==y1&nbsp;)&nbsp;y2++;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_629">629</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_630">630</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;x2==x1&nbsp;||&nbsp;y2==y1&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_631">631</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_632">632</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ROS_WARN("SelectionManager::render():&nbsp;not&nbsp;rendering&nbsp;0&nbsp;size&nbsp;area.");</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_633">633</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;vis_manager_-&gt;unlockRender();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_634">634</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_635">635</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_636">636</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_637">637</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;unsigned&nbsp;w&nbsp;=&nbsp;x2-x1;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_638">638</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;unsigned&nbsp;h&nbsp;=&nbsp;y2-y1;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_639">639</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_640">640</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::HardwarePixelBufferSharedPtr&nbsp;pixel_buffer&nbsp;=&nbsp;tex-&gt;getBuffer();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_641">641</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::RenderTexture*&nbsp;render_texture&nbsp;=&nbsp;pixel_buffer-&gt;getRenderTarget();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_642">642</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_643">643</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::Matrix4&nbsp;proj_matrix&nbsp;=&nbsp;viewport-&gt;getCamera()-&gt;getProjectionMatrix();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_644">644</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::Matrix4&nbsp;scale_matrix&nbsp;=&nbsp;Ogre::Matrix4::IDENTITY;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_645">645</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::Matrix4&nbsp;trans_matrix&nbsp;=&nbsp;Ogre::Matrix4::IDENTITY;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_646">646</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_647">647</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;float&nbsp;x1_rel&nbsp;=&nbsp;static_cast&lt;float&gt;(x1)&nbsp;/&nbsp;static_cast&lt;float&gt;(viewport-&gt;getActualWidth()&nbsp;-&nbsp;1)&nbsp;-&nbsp;0.5f;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_648">648</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;float&nbsp;y1_rel&nbsp;=&nbsp;static_cast&lt;float&gt;(y1)&nbsp;/&nbsp;static_cast&lt;float&gt;(viewport-&gt;getActualHeight()&nbsp;-&nbsp;1)&nbsp;-&nbsp;0.5f;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_649">649</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;float&nbsp;x2_rel&nbsp;=&nbsp;static_cast&lt;float&gt;(x2)&nbsp;/&nbsp;static_cast&lt;float&gt;(viewport-&gt;getActualWidth()&nbsp;-&nbsp;1)&nbsp;-&nbsp;0.5f;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_650">650</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;float&nbsp;y2_rel&nbsp;=&nbsp;static_cast&lt;float&gt;(y2)&nbsp;/&nbsp;static_cast&lt;float&gt;(viewport-&gt;getActualHeight()&nbsp;-&nbsp;1)&nbsp;-&nbsp;0.5f;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_651">651</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_652">652</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;scale_matrix[0][0]&nbsp;=&nbsp;1.0&nbsp;/&nbsp;(x2_rel-x1_rel);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_653">653</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;scale_matrix[1][1]&nbsp;=&nbsp;1.0&nbsp;/&nbsp;(y2_rel-y1_rel);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_654">654</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_655">655</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;trans_matrix[0][3]&nbsp;-=&nbsp;x1_rel+x2_rel;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_656">656</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;trans_matrix[1][3]&nbsp;+=&nbsp;y1_rel+y2_rel;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_657">657</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_658">658</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;camera_-&gt;setCustomProjectionMatrix(&nbsp;true,&nbsp;scale_matrix&nbsp;*&nbsp;trans_matrix&nbsp;*&nbsp;proj_matrix&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_659">659</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_660">660</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;camera_-&gt;setPosition(&nbsp;viewport-&gt;getCamera()-&gt;getDerivedPosition()&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_661">661</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;camera_-&gt;setOrientation(&nbsp;viewport-&gt;getCamera()-&gt;getDerivedOrientation()&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_662">662</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_663">663</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;create&nbsp;a&nbsp;viewport&nbsp;if&nbsp;there&nbsp;is&nbsp;none</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_664">664</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(render_texture-&gt;getNumViewports()&nbsp;==&nbsp;0)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_665">665</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_666">666</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;render_texture-&gt;removeAllViewports();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_667">667</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;render_texture-&gt;addViewport(&nbsp;camera_&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_668">668</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;Ogre::Viewport*&nbsp;render_viewport&nbsp;=&nbsp;render_texture-&gt;getViewport(0);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_669">669</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;render_viewport-&gt;setClearEveryFrame(true);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_670">670</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;render_viewport-&gt;setBackgroundColour(&nbsp;Ogre::ColourValue::Black&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_671">671</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;render_viewport-&gt;setOverlaysEnabled(false);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_672">672</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;render_viewport-&gt;setMaterialScheme(material_scheme);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_673">673</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_674">674</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_675">675</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;unsigned&nbsp;render_w&nbsp;=&nbsp;w;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_676">676</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;unsigned&nbsp;render_h&nbsp;=&nbsp;h;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_677">677</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_678">678</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;w&gt;h&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_679">679</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_680">680</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;render_w&nbsp;&gt;&nbsp;texture_width&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_681">681</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_682">682</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;render_w&nbsp;=&nbsp;texture_width;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_683">683</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;render_h&nbsp;=&nbsp;round(&nbsp;float(h)&nbsp;*&nbsp;(float)texture_width&nbsp;/&nbsp;(float)w&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_684">684</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_685">685</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_686">686</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;else</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_687">687</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_688">688</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;render_h&nbsp;&gt;&nbsp;texture_height&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_689">689</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_690">690</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;render_h&nbsp;=&nbsp;texture_height;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_691">691</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;render_w&nbsp;=&nbsp;round(&nbsp;float(w)&nbsp;*&nbsp;(float)texture_height&nbsp;/&nbsp;(float)h&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_692">692</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_693">693</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_694">694</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_695">695</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;safety&nbsp;clamping&nbsp;in&nbsp;case&nbsp;of&nbsp;rounding&nbsp;errors</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_696">696</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;render_w&nbsp;&gt;&nbsp;texture_width&nbsp;)&nbsp;render_w&nbsp;=&nbsp;texture_width;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_697">697</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(&nbsp;render_h&nbsp;&gt;&nbsp;texture_height&nbsp;)&nbsp;render_h&nbsp;=&nbsp;texture_height;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_698">698</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_699">699</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;set&nbsp;viewport&nbsp;to&nbsp;render&nbsp;to&nbsp;a&nbsp;subwindow&nbsp;of&nbsp;the&nbsp;texture</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_700">700</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::Viewport*&nbsp;render_viewport&nbsp;=&nbsp;render_texture-&gt;getViewport(0);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_701">701</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;render_viewport-&gt;setDimensions(&nbsp;0,&nbsp;0,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_702">702</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(float)render_w&nbsp;/&nbsp;(float)texture_width,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_703">703</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(float)render_h&nbsp;/&nbsp;(float)texture_height&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_704">704</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_705">705</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;make&nbsp;sure&nbsp;the&nbsp;same&nbsp;objects&nbsp;are&nbsp;visible&nbsp;as&nbsp;in&nbsp;the&nbsp;original&nbsp;viewport</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_706">706</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;render_viewport-&gt;setVisibilityMask(&nbsp;viewport-&gt;getVisibilityMask()&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_707">707</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_708">708</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;ros::WallTime&nbsp;start&nbsp;=&nbsp;ros::WallTime::now();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_709">709</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_710">710</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;update&nbsp;&amp;&nbsp;force&nbsp;ogre&nbsp;to&nbsp;render&nbsp;the&nbsp;scene</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_711">711</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::MaterialManager::getSingleton().addListener(this);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_712">712</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_713">713</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;render_texture-&gt;update();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_714">714</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_715">715</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;For&nbsp;some&nbsp;reason&nbsp;we&nbsp;need&nbsp;to&nbsp;pretend&nbsp;to&nbsp;render&nbsp;the&nbsp;main&nbsp;window&nbsp;in</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_716">716</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;order&nbsp;to&nbsp;get&nbsp;the&nbsp;picking&nbsp;render&nbsp;to&nbsp;show&nbsp;up&nbsp;in&nbsp;the&nbsp;pixelbox&nbsp;below.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_717">717</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;If&nbsp;we&nbsp;don't&nbsp;do&nbsp;this,&nbsp;it&nbsp;will&nbsp;show&nbsp;up&nbsp;there&nbsp;the&nbsp;*next*&nbsp;time&nbsp;we</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_718">718</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;pick&nbsp;something,&nbsp;but&nbsp;not&nbsp;this&nbsp;time.&nbsp;&nbsp;This&nbsp;object&nbsp;as&nbsp;a</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_719">719</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;render&nbsp;queue&nbsp;listener&nbsp;tells&nbsp;the&nbsp;scene&nbsp;manager&nbsp;to&nbsp;skip&nbsp;every</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_720">720</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;render&nbsp;step,&nbsp;so&nbsp;nothing&nbsp;actually&nbsp;gets&nbsp;drawn.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_721">721</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_722">722</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;TODO:&nbsp;find&nbsp;out&nbsp;what&nbsp;part&nbsp;of&nbsp;_renderScene()&nbsp;actually&nbsp;makes&nbsp;this&nbsp;work.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_723">723</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::Viewport*&nbsp;main_view&nbsp;=&nbsp;vis_manager_-&gt;getRenderPanel()-&gt;getViewport();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_724">724</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;vis_manager_-&gt;getSceneManager()-&gt;addRenderQueueListener(this);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_725">725</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;vis_manager_-&gt;getSceneManager()-&gt;_renderScene(main_view-&gt;getCamera(),&nbsp;main_view,&nbsp;false);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_726">726</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;vis_manager_-&gt;getSceneManager()-&gt;removeRenderQueueListener(this);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_727">727</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_728">728</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;ros::WallTime&nbsp;end&nbsp;=&nbsp;ros::WallTime::now();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_729">729</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;ros::WallDuration&nbsp;d&nbsp;=&nbsp;end&nbsp;-&nbsp;start;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_730">730</td><td nowrap="nowrap"><span class="diff_sub">//&nbsp;&nbsp;ROS_DEBUG("Render&nbsp;took&nbsp;[%f]&nbsp;msec",&nbsp;d.toSec()&nbsp;*&nbsp;1000.0f);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_731">731</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_732">732</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::MaterialManager::getSingleton().removeListener(this);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_733">733</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_734">734</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;render_w&nbsp;=&nbsp;render_viewport-&gt;getActualWidth();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_735">735</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;render_h&nbsp;=&nbsp;render_viewport-&gt;getActualHeight();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_736">736</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_737">737</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::PixelFormat&nbsp;format&nbsp;=&nbsp;pixel_buffer-&gt;getFormat();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_738">738</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_739">739</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;int&nbsp;size&nbsp;=&nbsp;Ogre::PixelUtil::getMemorySize(render_w,&nbsp;render_h,&nbsp;1,&nbsp;format);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_740">740</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;uint8_t*&nbsp;data&nbsp;=&nbsp;new&nbsp;uint8_t[size];</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_741">741</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_742">742</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;delete&nbsp;[]&nbsp;(uint8_t*)dst_box.data;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_743">743</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;dst_box&nbsp;=&nbsp;Ogre::PixelBox(render_w,&nbsp;render_h,&nbsp;1,&nbsp;format,&nbsp;data);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_744">744</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_745">745</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;pixel_buffer-&gt;blitToMemory(dst_box,dst_box);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_746">746</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_747">747</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;vis_manager_-&gt;unlockRender();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_748">748</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_749">749</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if(&nbsp;debug_mode_&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_750">750</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_751">751</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;publishDebugImage(&nbsp;dst_box,&nbsp;material_scheme&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_752">752</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_753">753</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_754">754</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;return&nbsp;true;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_755">755</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_756">756</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_757">757</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::publishDebugImage(&nbsp;const&nbsp;Ogre::PixelBox&amp;&nbsp;pixel_box,&nbsp;const&nbsp;std::string&amp;&nbsp;label&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_758">758</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_759">759</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;ros::Publisher&nbsp;pub;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_760">760</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;ros::NodeHandle&nbsp;nh;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_761">761</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;PublisherMap::const_iterator&nbsp;iter&nbsp;=&nbsp;debug_publishers_.find(&nbsp;label&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_762">762</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if(&nbsp;iter&nbsp;==&nbsp;debug_publishers_.end()&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_763">763</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_764">764</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;=&nbsp;nh.advertise&lt;sensor_msgs::Image&gt;(&nbsp;"/rviz_debug/"&nbsp;+&nbsp;label,&nbsp;2&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_765">765</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;debug_publishers_[&nbsp;label&nbsp;]&nbsp;=&nbsp;pub;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_766">766</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_767">767</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;else</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_768">768</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_769">769</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;=&nbsp;iter-&gt;second;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_770">770</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_771">771</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_772">772</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;sensor_msgs::Image&nbsp;msg;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_773">773</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;msg.header.stamp&nbsp;=&nbsp;ros::Time::now();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_774">774</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;msg.width&nbsp;=&nbsp;pixel_box.getWidth();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_775">775</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;msg.height&nbsp;=&nbsp;pixel_box.getHeight();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_776">776</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;msg.encoding&nbsp;=&nbsp;sensor_msgs::image_encodings::RGB8;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_777">777</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;msg.is_bigendian&nbsp;=&nbsp;false;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_778">778</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;msg.step&nbsp;=&nbsp;msg.width&nbsp;*&nbsp;3;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_779">779</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;int&nbsp;dest_byte_count&nbsp;=&nbsp;msg.width&nbsp;*&nbsp;msg.height&nbsp;*&nbsp;3;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_780">780</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;msg.data.resize(&nbsp;dest_byte_count&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_781">781</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;int&nbsp;dest_index&nbsp;=&nbsp;0;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_782">782</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;uint8_t*&nbsp;source_ptr&nbsp;=&nbsp;(uint8_t*)pixel_box.data;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_783">783</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;int&nbsp;pre_pixel_padding&nbsp;=&nbsp;0;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_784">784</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;int&nbsp;post_pixel_padding&nbsp;=&nbsp;0;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_785">785</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;switch(&nbsp;pixel_box.format&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_786">786</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_787">787</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;case&nbsp;Ogre::PF_A8R8G8B8:</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_788">788</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;case&nbsp;Ogre::PF_X8R8G8B8:</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_789">789</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;post_pixel_padding&nbsp;=&nbsp;1;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_790">790</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;break;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_791">791</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;case&nbsp;Ogre::PF_R8G8B8A8:</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_792">792</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;pre_pixel_padding&nbsp;=&nbsp;1;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_793">793</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;break;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_794">794</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;default:</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_795">795</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ROS_ERROR(&nbsp;"SelectionManager::publishDebugImage():&nbsp;Incompatible&nbsp;pixel&nbsp;format&nbsp;[%d]",&nbsp;pixel_box.format&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_796">796</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_797">797</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_798">798</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;uint8_t&nbsp;r,&nbsp;g,&nbsp;b;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_799">799</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;while(&nbsp;dest_index&nbsp;&lt;&nbsp;dest_byte_count&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_800">800</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_801">801</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;source_ptr&nbsp;+=&nbsp;pre_pixel_padding;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_802">802</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;*source_ptr++;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_803">803</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;=&nbsp;*source_ptr++;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_804">804</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;*source_ptr++;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_805">805</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;source_ptr&nbsp;+=&nbsp;post_pixel_padding;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_806">806</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;msg.data[&nbsp;dest_index++&nbsp;]&nbsp;=&nbsp;r;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_807">807</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;msg.data[&nbsp;dest_index++&nbsp;]&nbsp;=&nbsp;g;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_808">808</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;msg.data[&nbsp;dest_index++&nbsp;]&nbsp;=&nbsp;b;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_809">809</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_810">810</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_811">811</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;pub.publish(&nbsp;msg&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_812">812</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_813">813</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_814">814</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::renderQueueStarted(&nbsp;uint8_t&nbsp;queueGroupId,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_815">815</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;std::string&amp;&nbsp;invocation,&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_816">816</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool&amp;&nbsp;skipThisInvocation&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_817">817</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_818">818</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;This&nbsp;render&nbsp;queue&nbsp;listener&nbsp;function&nbsp;tells&nbsp;the&nbsp;scene&nbsp;manager&nbsp;to</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_819">819</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;skip&nbsp;every&nbsp;render&nbsp;step,&nbsp;so&nbsp;nothing&nbsp;actually&nbsp;gets&nbsp;drawn.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_820">820</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_821">821</td><td nowrap="nowrap"><span class="diff_sub">//&nbsp;&nbsp;ROS_DEBUG("SelectionManager&nbsp;renderQueueStarted(%d,&nbsp;'%s')&nbsp;returning&nbsp;skip&nbsp;=&nbsp;true.",&nbsp;(int)queueGroupId,&nbsp;invocation.c_str());</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_822">822</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;skipThisInvocation&nbsp;=&nbsp;true;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_823">823</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_824">824</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_825">825</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::pick(Ogre::Viewport*&nbsp;viewport,&nbsp;int&nbsp;x1,&nbsp;int&nbsp;y1,&nbsp;int&nbsp;x2,&nbsp;int&nbsp;y2,&nbsp;M_Picked&amp;&nbsp;results,&nbsp;bool&nbsp;single_render_pass)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_826">826</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_827">827</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_828">828</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_597">597</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__57"></td><td class="diff_header" id="from80_829">829</td><td nowrap="nowrap">&nbsp;&nbsp;bool&nbsp;need_additional_render&nbsp;=&nbsp;false;</td><td class="diff_next"></td><td class="diff_header" id="to80_598">598</td><td nowrap="nowrap">&nbsp;&nbsp;bool&nbsp;need_additional_render&nbsp;=&nbsp;false;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_830">830</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_599">599</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_831">831</td><td nowrap="nowrap">&nbsp;&nbsp;V_CollObject&nbsp;handles_by_pixel;</td><td class="diff_next"></td><td class="diff_header" id="to80_600">600</td><td nowrap="nowrap">&nbsp;&nbsp;V_CollObject&nbsp;handles_by_pixel;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_832">832</td><td nowrap="nowrap">&nbsp;&nbsp;S_CollObject&nbsp;need_additional;</td><td class="diff_next"></td><td class="diff_header" id="to80_601">601</td><td nowrap="nowrap">&nbsp;&nbsp;S_CollObject&nbsp;need_additional;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_833">833</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_602">602</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__58">n</a></td><td class="diff_header" id="from80_834">834</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;V_CollObject&amp;&nbsp;pixels&nbsp;=&nbsp;pixel_buffer_;</span></td><td class="diff_next"><a href="#difflib_chg_to80__58">n</a></td><td class="diff_header" id="to80_603">603</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;auto&nbsp;rectangle&nbsp;=&nbsp;SelectionRectangle(x1,&nbsp;y1,&nbsp;x2,&nbsp;y2);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_835">835</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__58"></td><td class="diff_header" id="from80_836">836</td><td nowrap="nowrap">&nbsp;&nbsp;//&nbsp;First&nbsp;render&nbsp;is&nbsp;special...&nbsp;does&nbsp;the&nbsp;initial&nbsp;object&nbsp;picking,&nbsp;determines<span class="diff_sub">&nbsp;which&nbsp;objects&nbsp;have&nbsp;been&nbsp;selected</span></td><td class="diff_next"></td><td class="diff_header" id="to80_604">604</td><td nowrap="nowrap">&nbsp;&nbsp;//&nbsp;First&nbsp;render&nbsp;is&nbsp;special...&nbsp;does&nbsp;the&nbsp;initial&nbsp;object&nbsp;picking,&nbsp;determines</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_837">837</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;After&nbsp;that,&nbsp;individual&nbsp;handlers&nbsp;can&nbsp;specify&nbsp;that&nbsp;they&nbsp;need&nbsp;additional&nbsp;renders&nbsp;(max&nbsp;#&nbsp;defined&nbsp;in&nbsp;s_num_render_textures_)</span></td><td class="diff_next"></td><td class="diff_header" id="to80_605">605</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;//&nbsp;which&nbsp;objects&nbsp;have&nbsp;been&nbsp;selected.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_606">606</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;//&nbsp;After&nbsp;that,&nbsp;individual&nbsp;handlers&nbsp;can&nbsp;specify&nbsp;that&nbsp;they&nbsp;need&nbsp;additional</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_607">607</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;//&nbsp;renders&nbsp;(max&nbsp;#&nbsp;defined&nbsp;in&nbsp;kNumRenderTextures_).</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_838">838</td><td nowrap="nowrap">&nbsp;&nbsp;{</td><td class="diff_next"></td><td class="diff_header" id="to80_608">608</td><td nowrap="nowrap">&nbsp;&nbsp;{</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__59">n</a></td><td class="diff_header" id="from80_839">839</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;M_CollisionObjectToSelectionHandler::iterator&nbsp;handler_it&nbsp;=&nbsp;objects_.begin();</span></td><td class="diff_next"><a href="#difflib_chg_to80__59">n</a></td><td class="diff_header" id="to80_609">609</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;renderAndUnpack(window,&nbsp;rectangle,&nbsp;0);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_840">840</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;M_CollisionObjectToSelectionHandler::iterator&nbsp;handler_end&nbsp;=&nbsp;objects_.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__59"></td><td class="diff_header" id="from80_841">841</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(;&nbsp;handler_it&nbsp;!=&nbsp;handler_end;&nbsp;++handler_it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_842">842</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_843">843</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_it-&gt;second-&gt;preRenderPass(&nbsp;0&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_844">844</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_845">845</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_610">610</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__60">n</a></td><td class="diff_header" id="from80_846">846</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;renderAndUnpack(viewport,&nbsp;0,&nbsp;x1,&nbsp;y1,&nbsp;x2,&nbsp;y2,&nbsp;pixels);</span></td><td class="diff_next"><a href="#difflib_chg_to80__60">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_847">847</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_848">848</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;handler_it&nbsp;=&nbsp;objects_.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_849">849</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;handler_end&nbsp;=&nbsp;objects_.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_850">850</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(;&nbsp;handler_it&nbsp;!=&nbsp;handler_end;&nbsp;++handler_it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_851">851</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_852">852</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_it-&gt;second-&gt;postRenderPass(0);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_853">853</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_854">854</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_855">855</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;handles_by_pixel.reserve(pixel<span class="diff_chg">s</span>.size());</td><td class="diff_next"></td><td class="diff_header" id="to80_611">611</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;handles_by_pixel.reserve(pixel<span class="diff_chg">_buffer_</span>.size());</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_856">856</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;V_CollObject::iterator&nbsp;it&nbsp;=&nbsp;pixels.begin();</span></td><td class="diff_next"></td><td class="diff_header" id="to80_612">612</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(const&nbsp;auto&nbsp;&amp;&nbsp;handle&nbsp;:&nbsp;pixel_buffer_)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_857">857</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;V_CollObject::iterator&nbsp;end&nbsp;=&nbsp;pixels.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_858">858</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(;&nbsp;it&nbsp;!=&nbsp;end;&nbsp;++it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_859">859</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_860">860</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;CollObjectHandle&amp;&nbsp;p&nbsp;=&nbsp;*it;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__60"></td><td class="diff_header" id="from80_861">861</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_862">862</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CollObjectHandle&nbsp;handle&nbsp;=&nbsp;p;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_863">863</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_864">864</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handles_by_pixel.push_back(handle);</td><td class="diff_next"></td><td class="diff_header" id="to80_613">613</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handles_by_pixel.push_back(handle);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_865">865</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_614">614</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__61"><a href="#difflib_chg_to80__61">n</a></td><td class="diff_header" id="from80_866">866</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(handle&nbsp;==&nbsp;0)</td><td class="diff_next"><a href="#difflib_chg_to80__61">n</a></td><td class="diff_header" id="to80_615">615</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(handle&nbsp;==&nbsp;0)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_867">867</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__62"></td><td class="diff_header" id="from80_868">868</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;</td><td class="diff_next"></td><td class="diff_header" id="to80_616">616</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_869">869</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_617">617</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_870">870</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_618">618</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__62">n</a></td><td class="diff_header" id="from80_871">871</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SelectionHandler*&nbsp;handler&nbsp;=&nbsp;getHandler(&nbsp;handle&nbsp;);</span></td><td class="diff_next"><a href="#difflib_chg_to80__62">n</a></td><td class="diff_header" id="to80_619">619</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto&nbsp;handler&nbsp;=&nbsp;handler_manager_-&gt;getHandler(handle);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_872">872</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_620">620</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__63">n</a></td><td class="diff_header" id="from80_873">873</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(<span class="diff_sub">&nbsp;</span>handler<span class="diff_sub">&nbsp;</span>)</td><td class="diff_next"><a href="#difflib_chg_to80__63">n</a></td><td class="diff_header" id="to80_621">621</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if<span class="diff_add">&nbsp;</span>(handler)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_874">874</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header" id="to80_622">622</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::pair&lt;M_Picked::iterator,&nbsp;bool&gt;&nbsp;insert_result&nbsp;=</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_875">875</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::pair&lt;M_Picked::iterator,&nbsp;bool&gt;&nbsp;insert_result&nbsp;=&nbsp;results.insert(std::make_pair(handle,&nbsp;Picked(handle)));</span></td><td class="diff_next"></td><td class="diff_header" id="to80_623">623</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;results.insert(std::make_pair(handle,&nbsp;Picked(handle)));</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_876">876</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(insert_result.second)</td><td class="diff_next"></td><td class="diff_header" id="to80_624">624</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(insert_result.second)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_877">877</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__63"></td><td class="diff_header" id="from80_878">878</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(handler-&gt;needsAdditionalRenderPass(1)&nbsp;&amp;&amp;&nbsp;!single_render_pass)</td><td class="diff_next"></td><td class="diff_header" id="to80_625">625</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(handler-&gt;needsAdditionalRenderPass(1)&nbsp;&amp;&amp;&nbsp;!single_render_pass)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_879">879</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_880">880</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;need_additional.insert(handle);</td><td class="diff_next"></td><td class="diff_header" id="to80_626">626</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;need_additional.insert(handle);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_881">881</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;need_additional_render&nbsp;=&nbsp;true;</td><td class="diff_next"></td><td class="diff_header" id="to80_627">627</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;need_additional_render&nbsp;=&nbsp;true;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_882">882</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_628">628</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__64">n</a></td><td class="diff_header" id="from80_883">883</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"><a href="#difflib_chg_to80__64">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_884">884</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</td><td class="diff_next"></td><td class="diff_header" id="to80_629">629</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_add">&nbsp;}</span>&nbsp;else<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_885">885</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_886">886</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insert_result.first-&gt;second.pixel_count++;</td><td class="diff_next"></td><td class="diff_header" id="to80_630">630</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insert_result.first-&gt;second.pixel_count++;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_887">887</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_631">631</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_888">888</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_632">632</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_889">889</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_633">633</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_890">890</td><td nowrap="nowrap">&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_634">634</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__64"></td><td class="diff_header" id="from80_891">891</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_635">635</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_892">892</td><td nowrap="nowrap">&nbsp;&nbsp;uint32_t&nbsp;pass&nbsp;=&nbsp;1;</td><td class="diff_next"></td><td class="diff_header" id="to80_636">636</td><td nowrap="nowrap">&nbsp;&nbsp;uint32_t&nbsp;pass&nbsp;=&nbsp;1;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_893">893</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_637">637</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_894">894</td><td nowrap="nowrap">&nbsp;&nbsp;V_uint64&nbsp;extra_by_pixel;</td><td class="diff_next"></td><td class="diff_header" id="to80_638">638</td><td nowrap="nowrap">&nbsp;&nbsp;V_uint64&nbsp;extra_by_pixel;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_895">895</td><td nowrap="nowrap">&nbsp;&nbsp;extra_by_pixel.resize(handles_by_pixel.size());</td><td class="diff_next"></td><td class="diff_header" id="to80_639">639</td><td nowrap="nowrap">&nbsp;&nbsp;extra_by_pixel.resize(handles_by_pixel.size());</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__65">n</a></td><td class="diff_header" id="from80_896">896</td><td nowrap="nowrap">&nbsp;&nbsp;while&nbsp;(need_additional_render&nbsp;&amp;&amp;&nbsp;pass&nbsp;&lt;&nbsp;<span class="diff_sub">s_num_</span>render_textures_)</td><td class="diff_next"><a href="#difflib_chg_to80__65">n</a></td><td class="diff_header" id="to80_640">640</td><td nowrap="nowrap">&nbsp;&nbsp;while&nbsp;(need_additional_render&nbsp;&amp;&amp;&nbsp;pass&nbsp;&lt;&nbsp;render_textures_<span class="diff_add">.size(</span>)<span class="diff_add">)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_897">897</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header" id="to80_641">641</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(const&nbsp;auto&nbsp;&amp;&nbsp;handle&nbsp;:&nbsp;need_additional)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_898">898</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header" id="to80_642">642</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_manager_-&gt;getHandler(handle)-&gt;preRenderPass(pass);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_899">899</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S_CollObject::iterator&nbsp;need_it&nbsp;=&nbsp;need_additional.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_900">900</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S_CollObject::iterator&nbsp;need_end&nbsp;=&nbsp;need_additional.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_901">901</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(;&nbsp;need_it&nbsp;!=&nbsp;need_end;&nbsp;++need_it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_902">902</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_903">903</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SelectionHandler*&nbsp;handler&nbsp;=&nbsp;getHandler(&nbsp;*need_it&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_904">904</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ROS_ASSERT(handler);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__65"></td><td class="diff_header" id="from80_905">905</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_906">906</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler-&gt;preRenderPass(pass);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__66"></td><td class="diff_header" id="from80_907">907</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_643">643</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_908">908</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_909">909</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_644">644</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__66">n</a></td><td class="diff_header" id="from80_910">910</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;renderAndUnpack(viewport,&nbsp;pass,&nbsp;x1,&nbsp;y1,&nbsp;x2,&nbsp;y2,&nbsp;pixels);</span></td><td class="diff_next"><a href="#difflib_chg_to80__66">n</a></td><td class="diff_header" id="to80_645">645</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;renderAndUnpack(window,&nbsp;rectangle,&nbsp;pass);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_911">911</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_646">646</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__67">n</a></td><td class="diff_header" id="from80_912">912</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"><a href="#difflib_chg_to80__67">n</a></td><td class="diff_header" id="to80_647">647</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(const&nbsp;auto&nbsp;&amp;&nbsp;handle&nbsp;:&nbsp;need_additional)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_913">913</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S_CollObject::iterator&nbsp;need_it&nbsp;=&nbsp;need_additional.begin();</span></td><td class="diff_next"></td><td class="diff_header" id="to80_648">648</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_manager_-&gt;getHandler(handle)-&gt;postRenderPass(pass);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_914">914</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S_CollObject::iterator&nbsp;need_end&nbsp;=&nbsp;need_additional.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_915">915</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(;&nbsp;need_it&nbsp;!=&nbsp;need_end;&nbsp;++need_it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_916">916</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_917">917</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SelectionHandler*&nbsp;handler&nbsp;=&nbsp;getHandler(&nbsp;*need_it&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_918">918</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ROS_ASSERT(handler);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__67"></td><td class="diff_header" id="from80_919">919</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_920">920</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler-&gt;postRenderPass(pass);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_921">921</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_649">649</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_922">922</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_923">923</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_650">650</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__68">n</a></td><td class="diff_header" id="from80_924">924</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;0;</span></td><td class="diff_next"><a href="#difflib_chg_to80__68">n</a></td><td class="diff_header" id="to80_651">651</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(size_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;!=&nbsp;handles_by_pixel.size();&nbsp;++i)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_925">925</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;V_CollObject::iterator&nbsp;pix_it&nbsp;=&nbsp;pixels.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_926">926</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;V_CollObject::iterator&nbsp;pix_end&nbsp;=&nbsp;pixels.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_927">927</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(;&nbsp;pix_it&nbsp;!=&nbsp;pix_end;&nbsp;++pix_it,&nbsp;++i)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_928">928</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_929">929</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;CollObjectHandle&amp;&nbsp;p&nbsp;=&nbsp;*pix_it;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_930">930</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_931">931</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CollObjectHandle&nbsp;handle&nbsp;=&nbsp;handles_by_pixel[i];</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_932">932</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__68"></td><td class="diff_header" id="from80_933">933</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(pass&nbsp;==&nbsp;1)</td><td class="diff_next"></td><td class="diff_header" id="to80_652">652</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(pass&nbsp;==&nbsp;1)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_934">934</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_935">935</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extra_by_pixel[i]&nbsp;=&nbsp;0;</td><td class="diff_next"></td><td class="diff_header" id="to80_653">653</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extra_by_pixel[i]&nbsp;=&nbsp;0;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_936">936</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_654">654</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_937">937</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_655">655</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__69">n</a></td><td class="diff_header" id="from80_938">938</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(need_additional.find(handle)&nbsp;!=&nbsp;need_additional.end())</td><td class="diff_next"><a href="#difflib_chg_to80__69">n</a></td><td class="diff_header" id="to80_656">656</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(need_additional.find(handle<span class="diff_add">s_by_pixel[i]</span>)&nbsp;!=&nbsp;need_additional.end())<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_939">939</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header" id="to80_657">657</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto&nbsp;extra_handle&nbsp;=&nbsp;pixel_buffer_[i];</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_940">940</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CollObjectHandle&nbsp;extra_handle&nbsp;=&nbsp;p;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_941">941</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extra_by_pixel[i]&nbsp;|=&nbsp;extra_handle&nbsp;&lt;&lt;&nbsp;(32&nbsp;*&nbsp;(pass-1));</td><td class="diff_next"></td><td class="diff_header" id="to80_658">658</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extra_by_pixel[i]&nbsp;|=&nbsp;extra_handle&nbsp;&lt;&lt;&nbsp;(32&nbsp;*&nbsp;(pass<span class="diff_add">&nbsp;</span>-<span class="diff_add">&nbsp;</span>1));</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_942">942</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_943">943</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</td><td class="diff_next"></td><td class="diff_header" id="to80_659">659</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_add">&nbsp;}</span>&nbsp;else<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_944">944</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_945">945</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extra_by_pixel[i]&nbsp;=&nbsp;0;</td><td class="diff_next"></td><td class="diff_header" id="to80_660">660</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extra_by_pixel[i]&nbsp;=&nbsp;0;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__69"></td><td class="diff_header" id="from80_946">946</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_661">661</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_947">947</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_662">662</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_948">948</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_663">663</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_949">949</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;need_additional_render&nbsp;=&nbsp;false;</td><td class="diff_next"></td><td class="diff_header" id="to80_664">664</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;need_additional_render&nbsp;=&nbsp;false;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_950">950</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;need_additional.clear();</td><td class="diff_next"></td><td class="diff_header" id="to80_665">665</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;need_additional.clear();</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__70">n</a></td><td class="diff_header" id="from80_951">951</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;M_Picked::iterator&nbsp;handle_it&nbsp;=&nbsp;results.begin();</span></td><td class="diff_next"><a href="#difflib_chg_to80__70">n</a></td><td class="diff_header" id="to80_666">666</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(const&nbsp;auto&nbsp;&amp;&nbsp;result&nbsp;:&nbsp;results)&nbsp;{</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__70"></td><td class="diff_header" id="from80_952">952</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;M_Picked::iterator&nbsp;handle_end&nbsp;=&nbsp;results.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_953">953</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(;&nbsp;handle_it&nbsp;!=&nbsp;handle_end;&nbsp;++handle_it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_954">954</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_955">955</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CollObjectHandle&nbsp;handle&nbsp;=&nbsp;<span class="diff_chg">hand</span>l<span class="diff_sub">e_i</span>t<span class="diff_chg">-&gt;</span>first;</td><td class="diff_next"></td><td class="diff_header" id="to80_667">667</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CollObjectHandle&nbsp;handle&nbsp;=&nbsp;<span class="diff_chg">resu</span>lt<span class="diff_chg">.</span>first;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_956">956</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_668">668</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__71">n</a></td><td class="diff_header" id="from80_957">957</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(getHandler(handle)-&gt;needsAdditionalRenderPass(pass&nbsp;+&nbsp;1))</td><td class="diff_next"><a href="#difflib_chg_to80__71">n</a></td><td class="diff_header" id="to80_669">669</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<span class="diff_add">handler_manager_-&gt;</span>getHandler(handle)-&gt;needsAdditionalRenderPass(pass&nbsp;+&nbsp;1))<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_958">958</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_959">959</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;need_additional_render&nbsp;=&nbsp;true;</td><td class="diff_next"></td><td class="diff_header" id="to80_670">670</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;need_additional_render&nbsp;=&nbsp;true;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__71"></td><td class="diff_header" id="from80_960">960</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;need_additional.insert(handle);</td><td class="diff_next"></td><td class="diff_header" id="to80_671">671</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;need_additional.insert(handle);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_961">961</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_672">672</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_962">962</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_673">673</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_963">963</td><td nowrap="nowrap">&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_674">674</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_964">964</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_675">675</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__72">n</a></td><td class="diff_header" id="from80_965">965</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;0;</span></td><td class="diff_next"><a href="#difflib_chg_to80__72">n</a></td><td class="diff_header" id="to80_676">676</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;for&nbsp;(size_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;!=&nbsp;handles_by_pixel.size();&nbsp;++i)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_966">966</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;V_uint64::iterator&nbsp;pix_2_it&nbsp;=&nbsp;extra_by_pixel.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__72"></td><td class="diff_header" id="from80_967">967</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;V_uint64::iterator&nbsp;pix_2_end&nbsp;=&nbsp;extra_by_pixel.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_968">968</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(;&nbsp;pix_2_it&nbsp;!=&nbsp;pix_2_end;&nbsp;++pix_2_it,&nbsp;++i)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_969">969</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_970">970</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">C</span>o<span class="diff_sub">llObjectHandle</span>&nbsp;handle&nbsp;=&nbsp;handles_by_pixel[i];</td><td class="diff_next"></td><td class="diff_header" id="to80_677">677</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">aut</span>o&nbsp;handle&nbsp;=&nbsp;handles_by_pixel[i];</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_971">971</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_678">678</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__73"><a href="#difflib_chg_to80__73">n</a></td><td class="diff_header" id="from80_972">972</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(handle&nbsp;==&nbsp;0)</td><td class="diff_next"><a href="#difflib_chg_to80__73">n</a></td><td class="diff_header" id="to80_679">679</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(handle&nbsp;==&nbsp;0)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_973">973</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_974">974</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;</td><td class="diff_next"></td><td class="diff_header" id="to80_680">680</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_975">975</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_681">681</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_976">976</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_682">682</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__74">n</a></td><td class="diff_header" id="from80_977">977</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">M_Picked::iter</span>ato<span class="diff_sub">r</span>&nbsp;picked_it&nbsp;=&nbsp;results.find(handle);</td><td class="diff_next"><a href="#difflib_chg_to80__74">n</a></td><td class="diff_header" id="to80_683">683</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;a<span class="diff_add">u</span>to&nbsp;picked_it&nbsp;=&nbsp;results.find(handle);</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__74"></td><td class="diff_header" id="from80_978">978</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(picked_it&nbsp;==&nbsp;results.end())</td><td class="diff_next"></td><td class="diff_header" id="to80_684">684</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(picked_it&nbsp;==&nbsp;results.end())<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_979">979</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__75"></td><td class="diff_header" id="from80_980">980</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;</td><td class="diff_next"></td><td class="diff_header" id="to80_685">685</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_981">981</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_686">686</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_982">982</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_687">687</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__75">n</a></td><td class="diff_header" id="from80_983">983</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;Picked&amp;&nbsp;picked&nbsp;=&nbsp;picked_it-&gt;second;</td><td class="diff_next"><a href="#difflib_chg_to80__75">n</a></td><td class="diff_header" id="to80_688">688</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;Picked<span class="diff_add">&nbsp;</span>&amp;&nbsp;picked&nbsp;=&nbsp;picked_it-&gt;second;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_984">984</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_689">689</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__76">n</a></td><td class="diff_header" id="from80_985">985</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(*pix_2_it)</span></td><td class="diff_next"><a href="#difflib_chg_to80__76">n</a></td><td class="diff_header" id="to80_690">690</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(extra_by_pixel[i])&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_986">986</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_987">987</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;picked.extra_handles.insert(<span class="diff_chg">*</span>pix<span class="diff_chg">_2_</span>i<span class="diff_chg">t</span>);</td><td class="diff_next"></td><td class="diff_header" id="to80_691">691</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;picked.extra_handles.insert(<span class="diff_chg">extra_by_</span>pix<span class="diff_chg">el[</span>i<span class="diff_chg">]</span>);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_988">988</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_989">989</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_990">990</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_991">991</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_992">992</td><td nowrap="nowrap"><span class="diff_sub">Ogre::Technique&nbsp;*SelectionManager::handleSchemeNotFound(unsigned&nbsp;short&nbsp;scheme_index,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_993">993</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;Ogre::String&amp;&nbsp;scheme_name,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_994">994</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;Ogre::Material*&nbsp;original_material,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_995">995</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;short&nbsp;lod_index,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_996">996</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;Ogre::Renderable*&nbsp;rend&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_997">997</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_998">998</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;Find&nbsp;the&nbsp;original&nbsp;culling&nbsp;mode</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_999">999</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::CullingMode&nbsp;culling_mode&nbsp;=&nbsp;Ogre::CULL_CLOCKWISE;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1000">1000</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::Technique*&nbsp;orig_tech&nbsp;=&nbsp;original_material-&gt;getTechnique(&nbsp;0&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1001">1001</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if(&nbsp;orig_tech&nbsp;&amp;&amp;&nbsp;orig_tech-&gt;getNumPasses()&nbsp;&gt;&nbsp;0&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1002">1002</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1003">1003</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;culling_mode&nbsp;=&nbsp;orig_tech-&gt;getPass(&nbsp;0&nbsp;)-&gt;getCullingMode();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1004">1004</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1005">1005</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1006">1006</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;find&nbsp;out&nbsp;if&nbsp;the&nbsp;renderable&nbsp;has&nbsp;the&nbsp;picking&nbsp;param&nbsp;set</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1007">1007</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;bool&nbsp;has_pick_param&nbsp;=&nbsp;!&nbsp;rend-&gt;getUserObjectBindings().getUserAny(&nbsp;"pick_handle"&nbsp;).isEmpty();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1008">1008</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1009">1009</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;NOTE:&nbsp;it&nbsp;is&nbsp;important&nbsp;to&nbsp;avoid&nbsp;changing&nbsp;the&nbsp;culling&nbsp;mode&nbsp;of&nbsp;the</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1010">1010</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;fallback&nbsp;techniques&nbsp;here,&nbsp;because&nbsp;that&nbsp;change&nbsp;then&nbsp;propagates&nbsp;to</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1011">1011</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;other&nbsp;uses&nbsp;of&nbsp;these&nbsp;fallback&nbsp;techniques&nbsp;in&nbsp;unpredictable&nbsp;ways.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1012">1012</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;change&nbsp;the&nbsp;technique&nbsp;programmatically&nbsp;(like&nbsp;with</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1013">1013</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;Pass::setCullingMode()),&nbsp;make&nbsp;sure&nbsp;you&nbsp;do&nbsp;it&nbsp;on&nbsp;a&nbsp;cloned&nbsp;material</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1014">1014</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;which&nbsp;doesn't&nbsp;get&nbsp;shared&nbsp;with&nbsp;other&nbsp;objects.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1015">1015</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1016">1016</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;Use&nbsp;the&nbsp;technique&nbsp;with&nbsp;the&nbsp;right&nbsp;name&nbsp;and&nbsp;culling&nbsp;mode.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1017">1017</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if(&nbsp;culling_mode&nbsp;==&nbsp;Ogre::CULL_CLOCKWISE&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1018">1018</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1019">1019</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;scheme_name&nbsp;==&nbsp;"Pick"&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1020">1020</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1021">1021</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;has_pick_param&nbsp;?&nbsp;fallback_pick_cull_technique_&nbsp;:&nbsp;fallback_black_cull_technique_;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1022">1022</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1023">1023</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if(&nbsp;scheme_name&nbsp;==&nbsp;"Depth"&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1024">1024</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1025">1025</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;fallback_depth_cull_technique_;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1026">1026</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1027">1027</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;scheme_name&nbsp;==&nbsp;"Pick1"&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1028">1028</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1029">1029</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;fallback_black_cull_technique_;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1030">1030</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1031">1031</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;else</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1032">1032</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1033">1033</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;NULL;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1034">1034</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1035">1035</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1036">1036</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;else&nbsp;//&nbsp;Must&nbsp;be&nbsp;CULL_NONE&nbsp;because&nbsp;we&nbsp;never&nbsp;use&nbsp;CULL_ANTICLOCKWISE</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1037">1037</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1038">1038</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;scheme_name&nbsp;==&nbsp;"Pick"&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1039">1039</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1040">1040</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;has_pick_param&nbsp;?&nbsp;fallback_pick_technique_&nbsp;:&nbsp;fallback_black_technique_;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1041">1041</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1042">1042</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if(&nbsp;scheme_name&nbsp;==&nbsp;"Depth"&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1043">1043</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1044">1044</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;fallback_depth_technique_;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1045">1045</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1046">1046</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;scheme_name&nbsp;==&nbsp;"Pick1"&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1047">1047</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1048">1048</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;fallback_black_technique_;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1049">1049</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1050">1050</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;else</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1051">1051</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1052">1052</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;NULL;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1053">1053</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1054">1054</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1055">1055</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1056">1056</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1057">1057</td><td nowrap="nowrap"><span class="diff_sub">Ogre::ColourValue&nbsp;SelectionManager::handleToColor(&nbsp;CollObjectHandle&nbsp;handle&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1058">1058</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1059">1059</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;float&nbsp;r&nbsp;=&nbsp;((handle&nbsp;&gt;&gt;&nbsp;16)&nbsp;&amp;&nbsp;0xff)&nbsp;/&nbsp;255.0f;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1060">1060</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;float&nbsp;g&nbsp;=&nbsp;((handle&nbsp;&gt;&gt;&nbsp;8)&nbsp;&amp;&nbsp;0xff)&nbsp;/&nbsp;255.0f;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1061">1061</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;float&nbsp;b&nbsp;=&nbsp;(handle&nbsp;&amp;&nbsp;0xff)&nbsp;/&nbsp;255.0f;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1062">1062</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;return&nbsp;Ogre::ColourValue(&nbsp;r,&nbsp;g,&nbsp;b,&nbsp;1.0f&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1063">1063</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1064">1064</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1065">1065</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::setPickData(&nbsp;CollObjectHandle&nbsp;handle,&nbsp;const&nbsp;Ogre::ColourValue&amp;&nbsp;color,&nbsp;Ogre::SceneNode*&nbsp;node&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1066">1066</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1067">1067</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(!node)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1068">1068</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1069">1069</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1070">1070</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1071">1071</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;Loop&nbsp;over&nbsp;all&nbsp;objects&nbsp;attached&nbsp;to&nbsp;this&nbsp;node.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1072">1072</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::SceneNode::ObjectIterator&nbsp;obj_it&nbsp;=&nbsp;node-&gt;getAttachedObjectIterator();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1073">1073</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;while(&nbsp;obj_it.hasMoreElements()&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1074">1074</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1075">1075</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;Ogre::MovableObject*&nbsp;obj&nbsp;=&nbsp;obj_it.getNext();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1076">1076</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;setPickData(&nbsp;handle,&nbsp;color,&nbsp;obj&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1077">1077</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1078">1078</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;Loop&nbsp;over&nbsp;and&nbsp;recurse&nbsp;into&nbsp;all&nbsp;child&nbsp;nodes.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1079">1079</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::SceneNode::ChildNodeIterator&nbsp;child_it&nbsp;=&nbsp;node-&gt;getChildIterator();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1080">1080</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;while(&nbsp;child_it.hasMoreElements()&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1081">1081</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1082">1082</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;Ogre::SceneNode*&nbsp;child&nbsp;=&nbsp;dynamic_cast&lt;Ogre::SceneNode*&gt;(&nbsp;child_it.getNext()&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1083">1083</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;setPickData(&nbsp;handle,&nbsp;color,&nbsp;child&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1084">1084</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1085">1085</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1086">1086</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1087">1087</td><td nowrap="nowrap"><span class="diff_sub">class&nbsp;PickColorSetter:&nbsp;public&nbsp;Ogre::Renderable::Visitor</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1088">1088</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1089">1089</td><td nowrap="nowrap"><span class="diff_sub">public:</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1090">1090</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;PickColorSetter(&nbsp;CollObjectHandle&nbsp;handle,&nbsp;const&nbsp;Ogre::ColourValue&amp;&nbsp;color&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1091">1091</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;color_vector_(&nbsp;color.r,&nbsp;color.g,&nbsp;color.b,&nbsp;1.0&nbsp;),&nbsp;handle_(handle)&nbsp;{}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1092">1092</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1093">1093</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;virtual&nbsp;void&nbsp;visit(&nbsp;Ogre::Renderable*&nbsp;rend,&nbsp;ushort&nbsp;lodIndex,&nbsp;bool&nbsp;isDebug,&nbsp;Ogre::Any*&nbsp;pAny&nbsp;=&nbsp;0&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1094">1094</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1095">1095</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;rend-&gt;setCustomParameter(&nbsp;PICK_COLOR_PARAMETER,&nbsp;color_vector_&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1096">1096</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;rend-&gt;getUserObjectBindings().setUserAny(&nbsp;"pick_handle",&nbsp;Ogre::Any(&nbsp;handle_&nbsp;));</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1097">1097</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1098">1098</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1099">1099</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::Vector4&nbsp;color_vector_;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1100">1100</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;CollObjectHandle&nbsp;handle_;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1101">1101</td><td nowrap="nowrap"><span class="diff_sub">};</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1102">1102</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1103">1103</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::setPickData(&nbsp;CollObjectHandle&nbsp;handle,&nbsp;const&nbsp;Ogre::ColourValue&amp;&nbsp;color,&nbsp;Ogre::MovableObject*&nbsp;object&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1104">1104</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1105">1105</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;PickColorSetter&nbsp;visitor(&nbsp;handle,&nbsp;color&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1106">1106</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;object-&gt;visitRenderables(&nbsp;&amp;visitor&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1107">1107</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;object-&gt;getUserObjectBindings().setUserAny(&nbsp;"pick_handle",&nbsp;Ogre::Any(&nbsp;handle&nbsp;));</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1108">1108</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1109">1109</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1110">1110</td><td nowrap="nowrap"><span class="diff_sub">SelectionHandler*&nbsp;SelectionManager::getHandler(&nbsp;CollObjectHandle&nbsp;obj&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1111">1111</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1112">1112</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1113">1113</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1114">1114</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_CollisionObjectToSelectionHandler::iterator&nbsp;it&nbsp;=&nbsp;objects_.find(obj);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1115">1115</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(it&nbsp;!=&nbsp;objects_.end())</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1116">1116</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1117">1117</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;it-&gt;second;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1118">1118</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1119">1119</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1120">1120</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;return&nbsp;NULL;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1121">1121</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1122">1122</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1123">1123</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::removeSelection(const&nbsp;M_Picked&amp;&nbsp;objs)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1124">1124</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1125">1125</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1126">1126</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1127">1127</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked::const_iterator&nbsp;it&nbsp;=&nbsp;objs.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1128">1128</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked::const_iterator&nbsp;end&nbsp;=&nbsp;objs.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1129">1129</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(;&nbsp;it&nbsp;!=&nbsp;end;&nbsp;++it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1130">1130</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1131">1131</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;removeSelectedObject(it-&gt;second);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1132">1132</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1133">1133</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1134">1134</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;selectionRemoved(&nbsp;objs&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1135">1135</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1136">1136</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1137">1137</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::addSelection(const&nbsp;M_Picked&amp;&nbsp;objs)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1138">1138</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1139">1139</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1140">1140</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1141">1141</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked&nbsp;added;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1142">1142</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked::const_iterator&nbsp;it&nbsp;=&nbsp;objs.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1143">1143</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked::const_iterator&nbsp;end&nbsp;=&nbsp;objs.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1144">1144</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(;&nbsp;it&nbsp;!=&nbsp;end;&nbsp;++it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1145">1145</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1146">1146</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;std::pair&lt;Picked,&nbsp;bool&gt;&nbsp;ppb&nbsp;=&nbsp;addSelectedObject(it-&gt;second);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1147">1147</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(ppb.second)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1148">1148</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1149">1149</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;added.insert(std::make_pair(it-&gt;first,&nbsp;ppb.first));</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1150">1150</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1151">1151</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1152">1152</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1153">1153</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;selectionAdded(&nbsp;added&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1154">1154</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1155">1155</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1156">1156</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::setSelection(const&nbsp;M_Picked&amp;&nbsp;objs)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1157">1157</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1158">1158</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1159">1159</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1160">1160</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked&nbsp;original(selection_.begin(),&nbsp;selection_.end());</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1161">1161</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1162">1162</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;removeSelection(original);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1163">1163</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;addSelection(objs);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1164">1164</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1165">1165</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1166">1166</td><td nowrap="nowrap"><span class="diff_sub">std::pair&lt;Picked,&nbsp;bool&gt;&nbsp;SelectionManager::addSelectedObject(const&nbsp;Picked&amp;&nbsp;obj)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1167">1167</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1168">1168</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1169">1169</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1170">1170</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;std::pair&lt;M_Picked::iterator,&nbsp;bool&gt;&nbsp;pib&nbsp;=&nbsp;selection_.insert(std::make_pair(obj.handle,&nbsp;obj));</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1171">1171</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1172">1172</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;SelectionHandler*&nbsp;handler&nbsp;=&nbsp;getHandler(&nbsp;obj.handle&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1173">1173</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1174">1174</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(pib.second)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1175">1175</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1176">1176</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;handler-&gt;onSelect(obj);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1177">1177</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;std::make_pair(obj,&nbsp;true);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1178">1178</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1179">1179</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;else</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1180">1180</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1181">1181</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;Picked&amp;&nbsp;cur&nbsp;=&nbsp;pib.first-&gt;second;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1182">1182</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;Picked&nbsp;added(cur.handle);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1183">1183</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1184">1184</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;S_uint64::iterator&nbsp;it&nbsp;=&nbsp;obj.extra_handles.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1185">1185</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;S_uint64::iterator&nbsp;end&nbsp;=&nbsp;obj.extra_handles.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1186">1186</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(;&nbsp;it&nbsp;!=&nbsp;end;&nbsp;++it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1187">1187</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1188">1188</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(cur.extra_handles.insert(*it).second)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1189">1189</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1190">1190</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;added.extra_handles.insert(*it);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1191">1191</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_692">692</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1192">1192</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span>&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_693">693</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1193">1193</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1194">1194</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!added.extra_handles.empty())</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1195">1195</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1196">1196</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler-&gt;onSelect(added);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1197">1197</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1198">1198</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;std::make_pair(added,&nbsp;true);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1199">1199</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__76"></td><td class="diff_header" id="from80_1200">1200</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1201">1201</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__77"></td><td class="diff_header" id="from80_1202">1202</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;return&nbsp;std::make_pair(Picked(0),&nbsp;false);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1203">1203</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to80_694">694</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__78"></td><td class="diff_header" id="from80_1204">1204</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_695">695</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__77">n</a></td><td class="diff_header" id="from80_1205">1205</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::removeSelectedObject(const&nbsp;Picked&amp;&nbsp;obj)</span></td><td class="diff_next"><a href="#difflib_chg_to80__77">n</a></td><td class="diff_header" id="to80_696">696</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;SelectionManager::onHandlerRemoved(CollObjectHandle&nbsp;handle)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1206">1206</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to80_697">697</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__78">n</a></td><td class="diff_header" id="from80_1207">1207</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"><a href="#difflib_chg_to80__78">n</a></td><td class="diff_header" id="to80_698">698</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::recursive_mutex&gt;&nbsp;lock(selection_mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1208">1208</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_699">699</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__79">n</a></td><td class="diff_header" id="from80_1209">1209</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked::iterator&nbsp;sel_it&nbsp;=&nbsp;selection_.find(obj.handle);</span></td><td class="diff_next"><a href="#difflib_chg_to80__79">n</a></td><td class="diff_header" id="to80_700">700</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;auto&nbsp;it&nbsp;=&nbsp;selection_.find(handle);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1210">1210</td><td nowrap="nowrap">&nbsp;&nbsp;if&nbsp;(<span class="diff_sub">sel_</span>it&nbsp;!=&nbsp;selection_.end())</td><td class="diff_next"></td><td class="diff_header" id="to80_701">701</td><td nowrap="nowrap">&nbsp;&nbsp;if&nbsp;(it&nbsp;!=&nbsp;selection_.end())<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1211">1211</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1212">1212</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;S_uint64::iterator&nbsp;extra_it&nbsp;=&nbsp;obj.extra_handles.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1213">1213</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;S_uint64::iterator&nbsp;extra_end&nbsp;=&nbsp;obj.extra_handles.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1214">1214</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(;&nbsp;extra_it&nbsp;!=&nbsp;extra_end;&nbsp;++extra_it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1215">1215</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1216">1216</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sel_it-&gt;second.extra_handles.erase(*extra_it);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1217">1217</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1218">1218</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1219">1219</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sel_it-&gt;second.extra_handles.empty())</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1220">1220</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1221">1221</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;selection_.erase(<span class="diff_sub">sel_</span>it);</td><td class="diff_next"></td><td class="diff_header" id="to80_702">702</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;selection_.erase(it);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1222">1222</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;</span>&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to80_703">703</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1223">1223</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to80__79"></td><td class="diff_header" id="from80_1224">1224</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1225">1225</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;SelectionHandler*&nbsp;handler&nbsp;=&nbsp;getHandler(&nbsp;obj.handle&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1226">1226</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;handler-&gt;onDeselect(obj);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1227">1227</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to80_704">704</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1228">1228</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to80_705">705</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to80__top">t</a></td><td class="diff_header" id="from80_1229">1229</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::focusOnSelection()</span></td><td class="diff_next"><a href="#difflib_chg_to80__top">t</a></td><td class="diff_header" id="to80_706">706</td><td nowrap="nowrap"><span class="diff_add">}&nbsp;&nbsp;//&nbsp;namespace&nbsp;interaction</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1230">1230</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1231">1231</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::recursive_mutex::scoped_lock&nbsp;lock(global_mutex_);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1232">1232</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1233">1233</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(selection_.empty())</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1234">1234</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1235">1235</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1236">1236</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1237">1237</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1238">1238</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::AxisAlignedBox&nbsp;combined;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1239">1239</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1240">1240</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked::iterator&nbsp;it&nbsp;=&nbsp;selection_.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1241">1241</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked::iterator&nbsp;end&nbsp;=&nbsp;selection_.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1242">1242</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(;&nbsp;it&nbsp;!=&nbsp;end;&nbsp;++it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1243">1243</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1244">1244</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;Picked&amp;&nbsp;p&nbsp;=&nbsp;it-&gt;second;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1245">1245</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1246">1246</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;SelectionHandler*&nbsp;handler&nbsp;=&nbsp;getHandler(&nbsp;p.handle&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1247">1247</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1248">1248</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;V_AABB&nbsp;aabbs;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1249">1249</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;handler-&gt;getAABBs(p,&nbsp;aabbs);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1250">1250</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1251">1251</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;V_AABB::iterator&nbsp;aabb_it&nbsp;=&nbsp;aabbs.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1252">1252</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;V_AABB::iterator&nbsp;aabb_end&nbsp;=&nbsp;aabbs.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1253">1253</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(;&nbsp;aabb_it&nbsp;!=&nbsp;aabb_end;&nbsp;++aabb_it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1254">1254</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1255">1255</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined.merge(*aabb_it);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1256">1256</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1257">1257</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1258">1258</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1259">1259</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(!combined.isInfinite()&nbsp;&amp;&amp;&nbsp;!combined.isNull())</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1260">1260</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1261">1261</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;Ogre::Vector3&nbsp;center&nbsp;=&nbsp;combined.getCenter();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1262">1262</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ViewController*&nbsp;controller&nbsp;=&nbsp;vis_manager_-&gt;getViewManager()-&gt;getCurrent();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1263">1263</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;controller&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1264">1264</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1265">1265</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controller-&gt;lookAt(center);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1266">1266</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1267">1267</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1268">1268</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1269">1269</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1270">1270</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::selectionRemoved(&nbsp;const&nbsp;M_Picked&amp;&nbsp;removed&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1271">1271</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1272">1272</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked::const_iterator&nbsp;it&nbsp;=&nbsp;removed.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1273">1273</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked::const_iterator&nbsp;end&nbsp;=&nbsp;removed.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1274">1274</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(;&nbsp;it&nbsp;!=&nbsp;end;&nbsp;++it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1275">1275</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1276">1276</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;Picked&amp;&nbsp;picked&nbsp;=&nbsp;it-&gt;second;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1277">1277</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;SelectionHandler*&nbsp;handler&nbsp;=&nbsp;getHandler(&nbsp;picked.handle&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1278">1278</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ROS_ASSERT(handler);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1279">1279</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1280">1280</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;handler-&gt;destroyProperties(&nbsp;picked,&nbsp;property_model_-&gt;getRoot()&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1281">1281</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1282">1282</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1283">1283</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1284">1284</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::selectionAdded(&nbsp;const&nbsp;M_Picked&amp;&nbsp;added&nbsp;)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1285">1285</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1286">1286</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked::const_iterator&nbsp;it&nbsp;=&nbsp;added.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1287">1287</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked::const_iterator&nbsp;end&nbsp;=&nbsp;added.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1288">1288</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(;&nbsp;it&nbsp;!=&nbsp;end;&nbsp;++it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1289">1289</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1290">1290</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;Picked&amp;&nbsp;picked&nbsp;=&nbsp;it-&gt;second;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1291">1291</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;SelectionHandler*&nbsp;handler&nbsp;=&nbsp;getHandler(&nbsp;picked.handle&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1292">1292</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ROS_ASSERT(handler);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1293">1293</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1294">1294</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;handler-&gt;createProperties(&nbsp;picked,&nbsp;property_model_-&gt;getRoot()&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1295">1295</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1296">1296</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;property_model_-&gt;sort(&nbsp;0,&nbsp;Qt::AscendingOrder&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1297">1297</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1298">1298</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1299">1299</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;SelectionManager::updateProperties()</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1300">1300</td><td nowrap="nowrap"><span class="diff_sub">{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1301">1301</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked::const_iterator&nbsp;it&nbsp;=&nbsp;selection_.begin();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1302">1302</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;M_Picked::const_iterator&nbsp;end&nbsp;=&nbsp;selection_.end();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1303">1303</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;for&nbsp;(;&nbsp;it&nbsp;!=&nbsp;end;&nbsp;++it)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1304">1304</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1305">1305</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;CollObjectHandle&nbsp;handle&nbsp;=&nbsp;it-&gt;first;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1306">1306</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;SelectionHandler*&nbsp;handler&nbsp;=&nbsp;getHandler(&nbsp;handle&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1307">1307</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1308">1308</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;handler-&gt;updateProperties();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1309">1309</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1310">1310</td><td nowrap="nowrap"><span class="diff_sub">}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1311">1311</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1312">1312</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from80_1313">1313</td><td nowrap="nowrap">}&nbsp;//&nbsp;namespace&nbsp;rviz</td><td class="diff_next"></td><td class="diff_header" id="to80_707">707</td><td nowrap="nowrap">}<span class="diff_add">&nbsp;</span>&nbsp;//&nbsp;namespace&nbsp;rviz<span class="diff_add">_common</span></td></tr>
        </tbody>
    </table>
    <table class="diff" summary="Legends">
        <tr> <th colspan="2"> Legends </th> </tr>
        <tr> <td> <table border="" summary="Colors">
                      <tr><th> Colors </th> </tr>
                      <tr><td class="diff_add">&nbsp;Added&nbsp;</td></tr>
                      <tr><td class="diff_chg">Changed</td> </tr>
                      <tr><td class="diff_sub">Deleted</td> </tr>
                  </table></td>
             <td> <table border="" summary="Links">
                      <tr><th colspan="2"> Links </th> </tr>
                      <tr><td>(f)irst change</td> </tr>
                      <tr><td>(n)ext change</td> </tr>
                      <tr><td>(t)op</td> </tr>
                  </table></td> </tr>
    </table>
</body>

</html>