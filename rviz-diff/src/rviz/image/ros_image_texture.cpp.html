
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>

<head>
    <meta http-equiv="Content-Type"
          content="text/html; charset=utf-8" />
    <title></title>
    <style type="text/css">
        table.diff {font-family:Courier; border:medium;}
        .diff_header {background-color:#e0e0e0}
        td.diff_header {text-align:right}
        .diff_next {background-color:#c0c0c0}
        .diff_add {background-color:#aaffaa}
        .diff_chg {background-color:#ffff77}
        .diff_sub {background-color:#ffaaaa}
    </style>
</head>

<body>
    
    <table class="diff" id="difflib_chg_to217__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to217__0"><a href="#difflib_chg_to217__1">n</a></td><td class="diff_header" id="from217_1">1</td><td nowrap="nowrap">//&nbsp;/Users/audrey/Personal/School/College/summer2019/rviz<span class="diff_chg">-</span>di<span class="diff_chg">ff</span>/src/rviz/image/ros_image_texture.cpp</td><td class="diff_next"><a href="#difflib_chg_to217__1">n</a></td><td class="diff_header" id="to217_1">1</td><td nowrap="nowrap">//&nbsp;/Users/audrey/Personal/School/College/summer2019/rviz<span class="diff_chg">/rviz_</span>d<span class="diff_add">efault_plug</span>i<span class="diff_chg">ns</span>/src/rviz<span class="diff_add">_default_plugins/displays</span>/image/ros_image_texture.cpp</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_2">2</td><td nowrap="nowrap">/*</td><td class="diff_next"></td><td class="diff_header" id="to217_2">2</td><td nowrap="nowrap">/*</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_3">3</td><td nowrap="nowrap">&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2009,&nbsp;Willow&nbsp;Garage,&nbsp;Inc.</td><td class="diff_next"></td><td class="diff_header" id="to217_3">3</td><td nowrap="nowrap">&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2009,&nbsp;Willow&nbsp;Garage,&nbsp;Inc.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_4">4</td><td nowrap="nowrap">&nbsp;*&nbsp;All&nbsp;rights&nbsp;reserved.</td><td class="diff_next"></td><td class="diff_header" id="to217_4">4</td><td nowrap="nowrap">&nbsp;*&nbsp;All&nbsp;rights&nbsp;reserved.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_5">5</td><td nowrap="nowrap">&nbsp;*</td><td class="diff_next"></td><td class="diff_header" id="to217_5">5</td><td nowrap="nowrap">&nbsp;*</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_6">6</td><td nowrap="nowrap">&nbsp;*&nbsp;Redistribution&nbsp;and&nbsp;use&nbsp;in&nbsp;source&nbsp;and&nbsp;binary&nbsp;forms,&nbsp;with&nbsp;or&nbsp;without</td><td class="diff_next"></td><td class="diff_header" id="to217_6">6</td><td nowrap="nowrap">&nbsp;*&nbsp;Redistribution&nbsp;and&nbsp;use&nbsp;in&nbsp;source&nbsp;and&nbsp;binary&nbsp;forms,&nbsp;with&nbsp;or&nbsp;without</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_7">7</td><td nowrap="nowrap">&nbsp;*&nbsp;modification,&nbsp;are&nbsp;permitted&nbsp;provided&nbsp;that&nbsp;the&nbsp;following&nbsp;conditions&nbsp;are&nbsp;met:</td><td class="diff_next"></td><td class="diff_header" id="to217_7">7</td><td nowrap="nowrap">&nbsp;*&nbsp;modification,&nbsp;are&nbsp;permitted&nbsp;provided&nbsp;that&nbsp;the&nbsp;following&nbsp;conditions&nbsp;are&nbsp;met:</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_8">8</td><td nowrap="nowrap">&nbsp;*</td><td class="diff_next"></td><td class="diff_header" id="to217_8">8</td><td nowrap="nowrap">&nbsp;*</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_9">9</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Redistributions&nbsp;of&nbsp;source&nbsp;code&nbsp;must&nbsp;retain&nbsp;the&nbsp;above&nbsp;copyright</td><td class="diff_next"></td><td class="diff_header" id="to217_9">9</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Redistributions&nbsp;of&nbsp;source&nbsp;code&nbsp;must&nbsp;retain&nbsp;the&nbsp;above&nbsp;copyright</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_10">10</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer.</td><td class="diff_next"></td><td class="diff_header" id="to217_10">10</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_11">11</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Redistributions&nbsp;in&nbsp;binary&nbsp;form&nbsp;must&nbsp;reproduce&nbsp;the&nbsp;above&nbsp;copyright</td><td class="diff_next"></td><td class="diff_header" id="to217_11">11</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Redistributions&nbsp;in&nbsp;binary&nbsp;form&nbsp;must&nbsp;reproduce&nbsp;the&nbsp;above&nbsp;copyright</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_12">12</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer&nbsp;in&nbsp;the</td><td class="diff_next"></td><td class="diff_header" id="to217_12">12</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer&nbsp;in&nbsp;the</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_13">13</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;documentation&nbsp;and/or&nbsp;other&nbsp;materials&nbsp;provided&nbsp;with&nbsp;the&nbsp;distribution.</td><td class="diff_next"></td><td class="diff_header" id="to217_13">13</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;documentation&nbsp;and/or&nbsp;other&nbsp;materials&nbsp;provided&nbsp;with&nbsp;the&nbsp;distribution.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_14">14</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Neither&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;Willow&nbsp;Garage,&nbsp;Inc.&nbsp;nor&nbsp;the&nbsp;names&nbsp;of&nbsp;its</td><td class="diff_next"></td><td class="diff_header" id="to217_14">14</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Neither&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;Willow&nbsp;Garage,&nbsp;Inc.&nbsp;nor&nbsp;the&nbsp;names&nbsp;of&nbsp;its</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_15">15</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contributors&nbsp;may&nbsp;be&nbsp;used&nbsp;to&nbsp;endorse&nbsp;or&nbsp;promote&nbsp;products&nbsp;derived&nbsp;from</td><td class="diff_next"></td><td class="diff_header" id="to217_15">15</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contributors&nbsp;may&nbsp;be&nbsp;used&nbsp;to&nbsp;endorse&nbsp;or&nbsp;promote&nbsp;products&nbsp;derived&nbsp;from</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_16">16</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;software&nbsp;without&nbsp;specific&nbsp;prior&nbsp;written&nbsp;permission.</td><td class="diff_next"></td><td class="diff_header" id="to217_16">16</td><td nowrap="nowrap">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;software&nbsp;without&nbsp;specific&nbsp;prior&nbsp;written&nbsp;permission.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_17">17</td><td nowrap="nowrap">&nbsp;*</td><td class="diff_next"></td><td class="diff_header" id="to217_17">17</td><td nowrap="nowrap">&nbsp;*</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_18">18</td><td nowrap="nowrap">&nbsp;*&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;PROVIDED&nbsp;BY&nbsp;THE&nbsp;COPYRIGHT&nbsp;HOLDERS&nbsp;AND&nbsp;CONTRIBUTORS&nbsp;"AS&nbsp;IS"</td><td class="diff_next"></td><td class="diff_header" id="to217_18">18</td><td nowrap="nowrap">&nbsp;*&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;PROVIDED&nbsp;BY&nbsp;THE&nbsp;COPYRIGHT&nbsp;HOLDERS&nbsp;AND&nbsp;CONTRIBUTORS&nbsp;"AS&nbsp;IS"</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_19">19</td><td nowrap="nowrap">&nbsp;*&nbsp;AND&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED&nbsp;WARRANTIES,&nbsp;INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;LIMITED&nbsp;TO,&nbsp;THE</td><td class="diff_next"></td><td class="diff_header" id="to217_19">19</td><td nowrap="nowrap">&nbsp;*&nbsp;AND&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED&nbsp;WARRANTIES,&nbsp;INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;LIMITED&nbsp;TO,&nbsp;THE</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_20">20</td><td nowrap="nowrap">&nbsp;*&nbsp;IMPLIED&nbsp;WARRANTIES&nbsp;OF&nbsp;MERCHANTABILITY&nbsp;AND&nbsp;FITNESS&nbsp;FOR&nbsp;A&nbsp;PARTICULAR&nbsp;PURPOSE</td><td class="diff_next"></td><td class="diff_header" id="to217_20">20</td><td nowrap="nowrap">&nbsp;*&nbsp;IMPLIED&nbsp;WARRANTIES&nbsp;OF&nbsp;MERCHANTABILITY&nbsp;AND&nbsp;FITNESS&nbsp;FOR&nbsp;A&nbsp;PARTICULAR&nbsp;PURPOSE</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_21">21</td><td nowrap="nowrap">&nbsp;*&nbsp;ARE&nbsp;DISCLAIMED.&nbsp;IN&nbsp;NO&nbsp;EVENT&nbsp;SHALL&nbsp;THE&nbsp;COPYRIGHT&nbsp;OWNER&nbsp;OR&nbsp;CONTRIBUTORS&nbsp;BE</td><td class="diff_next"></td><td class="diff_header" id="to217_21">21</td><td nowrap="nowrap">&nbsp;*&nbsp;ARE&nbsp;DISCLAIMED.&nbsp;IN&nbsp;NO&nbsp;EVENT&nbsp;SHALL&nbsp;THE&nbsp;COPYRIGHT&nbsp;OWNER&nbsp;OR&nbsp;CONTRIBUTORS&nbsp;BE</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_22">22</td><td nowrap="nowrap">&nbsp;*&nbsp;LIABLE&nbsp;FOR&nbsp;ANY&nbsp;DIRECT,&nbsp;INDIRECT,&nbsp;INCIDENTAL,&nbsp;SPECIAL,&nbsp;EXEMPLARY,&nbsp;OR</td><td class="diff_next"></td><td class="diff_header" id="to217_22">22</td><td nowrap="nowrap">&nbsp;*&nbsp;LIABLE&nbsp;FOR&nbsp;ANY&nbsp;DIRECT,&nbsp;INDIRECT,&nbsp;INCIDENTAL,&nbsp;SPECIAL,&nbsp;EXEMPLARY,&nbsp;OR</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_23">23</td><td nowrap="nowrap">&nbsp;*&nbsp;CONSEQUENTIAL&nbsp;DAMAGES&nbsp;(INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;LIMITED&nbsp;TO,&nbsp;PROCUREMENT&nbsp;OF</td><td class="diff_next"></td><td class="diff_header" id="to217_23">23</td><td nowrap="nowrap">&nbsp;*&nbsp;CONSEQUENTIAL&nbsp;DAMAGES&nbsp;(INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;LIMITED&nbsp;TO,&nbsp;PROCUREMENT&nbsp;OF</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_24">24</td><td nowrap="nowrap">&nbsp;*&nbsp;SUBSTITUTE&nbsp;GOODS&nbsp;OR&nbsp;SERVICES;&nbsp;LOSS&nbsp;OF&nbsp;USE,&nbsp;DATA,&nbsp;OR&nbsp;PROFITS;&nbsp;OR&nbsp;BUSINESS</td><td class="diff_next"></td><td class="diff_header" id="to217_24">24</td><td nowrap="nowrap">&nbsp;*&nbsp;SUBSTITUTE&nbsp;GOODS&nbsp;OR&nbsp;SERVICES;&nbsp;LOSS&nbsp;OF&nbsp;USE,&nbsp;DATA,&nbsp;OR&nbsp;PROFITS;&nbsp;OR&nbsp;BUSINESS</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_25">25</td><td nowrap="nowrap">&nbsp;*&nbsp;INTERRUPTION)&nbsp;HOWEVER&nbsp;CAUSED&nbsp;AND&nbsp;ON&nbsp;ANY&nbsp;THEORY&nbsp;OF&nbsp;LIABILITY,&nbsp;WHETHER&nbsp;IN</td><td class="diff_next"></td><td class="diff_header" id="to217_25">25</td><td nowrap="nowrap">&nbsp;*&nbsp;INTERRUPTION)&nbsp;HOWEVER&nbsp;CAUSED&nbsp;AND&nbsp;ON&nbsp;ANY&nbsp;THEORY&nbsp;OF&nbsp;LIABILITY,&nbsp;WHETHER&nbsp;IN</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__1"></td><td class="diff_header" id="from217_26">26</td><td nowrap="nowrap">&nbsp;*&nbsp;CONTRACT,&nbsp;STRICT&nbsp;LIABILITY,&nbsp;OR&nbsp;TORT&nbsp;(INCLUDING&nbsp;NEGLIGENCE&nbsp;OR&nbsp;OTHERWISE)</td><td class="diff_next"></td><td class="diff_header" id="to217_26">26</td><td nowrap="nowrap">&nbsp;*&nbsp;CONTRACT,&nbsp;STRICT&nbsp;LIABILITY,&nbsp;OR&nbsp;TORT&nbsp;(INCLUDING&nbsp;NEGLIGENCE&nbsp;OR&nbsp;OTHERWISE)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_27">27</td><td nowrap="nowrap">&nbsp;*&nbsp;ARISING&nbsp;IN&nbsp;ANY&nbsp;WAY&nbsp;OUT&nbsp;OF&nbsp;THE&nbsp;USE&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE,&nbsp;EVEN&nbsp;IF&nbsp;ADVISED&nbsp;OF&nbsp;THE</td><td class="diff_next"></td><td class="diff_header" id="to217_27">27</td><td nowrap="nowrap">&nbsp;*&nbsp;ARISING&nbsp;IN&nbsp;ANY&nbsp;WAY&nbsp;OUT&nbsp;OF&nbsp;THE&nbsp;USE&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE,&nbsp;EVEN&nbsp;IF&nbsp;ADVISED&nbsp;OF&nbsp;THE</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_28">28</td><td nowrap="nowrap">&nbsp;*&nbsp;POSSIBILITY&nbsp;OF&nbsp;SUCH&nbsp;DAMAGE.</td><td class="diff_next"></td><td class="diff_header" id="to217_28">28</td><td nowrap="nowrap">&nbsp;*&nbsp;POSSIBILITY&nbsp;OF&nbsp;SUCH&nbsp;DAMAGE.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_29">29</td><td nowrap="nowrap">&nbsp;*/</td><td class="diff_next"></td><td class="diff_header" id="to217_29">29</td><td nowrap="nowrap">&nbsp;*/</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_30">30</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_30">30</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__2">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to217__2">n</a></td><td class="diff_header" id="to217_31">31</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;"include/rviz_default_plugins/displays/image/ros_image_texture.hpp"</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__2"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_32">32</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_33">33</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;algorithm&gt;</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__3"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_34">34</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;deque&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_35">35</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;limits&gt;</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__4"></td><td class="diff_header" id="from217_31">31</td><td nowrap="nowrap">#include&nbsp;&lt;map&gt;</td><td class="diff_next"></td><td class="diff_header" id="to217_36">36</td><td nowrap="nowrap">#include&nbsp;&lt;map&gt;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__3">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to217__3">n</a></td><td class="diff_header" id="to217_37">37</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;mutex&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_32">32</td><td nowrap="nowrap">#include&nbsp;&lt;sstream&gt;</td><td class="diff_next"></td><td class="diff_header" id="to217_38">38</td><td nowrap="nowrap">#include&nbsp;&lt;sstream&gt;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__4">n</a></td><td class="diff_header" id="from217_33">33</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;algorithm&gt;</span></td><td class="diff_next"><a href="#difflib_chg_to217__4">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__5"></td><td class="diff_header" id="from217_34">34</td><td nowrap="nowrap">#include&nbsp;&lt;iostream&gt;</td><td class="diff_next"></td><td class="diff_header" id="to217_39">39</td><td nowrap="nowrap">#include&nbsp;&lt;iostream&gt;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__5">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to217__5">n</a></td><td class="diff_header" id="to217_40">40</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;string&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_41">41</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;vector&gt;</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__6"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_42">42</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;utility&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_35">35</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_43">43</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__6">n</a></td><td class="diff_header" id="from217_36">36</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;boost/algorithm/string/erase.hpp&gt;</span></td><td class="diff_next"><a href="#difflib_chg_to217__6">n</a></td><td class="diff_header" id="to217_44">44</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;&lt;OgreTextureManager.h&gt;&nbsp;&nbsp;//&nbsp;NOLINT:&nbsp;cpplint&nbsp;cannot&nbsp;handle&nbsp;include&nbsp;order</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_37">37</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;boost/foreach.hpp&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__7"></td><td class="diff_header" id="from217_38">38</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_45">45</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__7">n</a></td><td class="diff_header" id="from217_39">39</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;&lt;OgreTextureManager.h&gt;</span></td><td class="diff_next"><a href="#difflib_chg_to217__7">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_40">40</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__8"></td><td class="diff_header" id="from217_41">41</td><td nowrap="nowrap">#include&nbsp;<span class="diff_chg">&lt;</span>sensor_msgs/image_encodings.h<span class="diff_chg">&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to217_46">46</td><td nowrap="nowrap">#include&nbsp;<span class="diff_chg">"</span>sensor_msgs/image_encodings.h<span class="diff_chg">pp"</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_42">42</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_47">47</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__8">n</a></td><td class="diff_header" id="from217_43">43</td><td nowrap="nowrap"><span class="diff_sub">#include&nbsp;"rviz/image/ros_image_texture.h"</span></td><td class="diff_next"><a href="#difflib_chg_to217__8">n</a></td><td class="diff_header" id="to217_48">48</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;"rviz_common/logging.hpp"</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_49">49</td><td nowrap="nowrap"><span class="diff_add">#include&nbsp;"rviz_common/uniform_string_stream.hpp"</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_44">44</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_50">50</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__9">n</a></td><td class="diff_header" id="from217_45">45</td><td nowrap="nowrap"><span class="diff_sub">namespace&nbsp;rviz</span></td><td class="diff_next"><a href="#difflib_chg_to217__9">n</a></td><td class="diff_header" id="to217_51">51</td><td nowrap="nowrap"><span class="diff_add">namespace&nbsp;rviz_default_plugins</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__9"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_52">52</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_53">53</td><td nowrap="nowrap"><span class="diff_add">namespace&nbsp;displays</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_46">46</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to217_54">54</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_47">47</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_55">55</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_48">48</td><td nowrap="nowrap">ROSImageTexture::ROSImageTexture()</td><td class="diff_next"></td><td class="diff_header" id="to217_56">56</td><td nowrap="nowrap">ROSImageTexture::ROSImageTexture()</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__10"><a href="#difflib_chg_to217__10">n</a></td><td class="diff_header" id="from217_49">49</td><td nowrap="nowrap">:&nbsp;new_image_(false)</td><td class="diff_next"><a href="#difflib_chg_to217__10">n</a></td><td class="diff_header" id="to217_57">57</td><td nowrap="nowrap">:&nbsp;new_image_(false)<span class="diff_add">,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_50">50</td><td nowrap="nowrap"><span class="diff_chg">,</span>&nbsp;width_(0)</td><td class="diff_next"></td><td class="diff_header" id="to217_58">58</td><td nowrap="nowrap"><span class="diff_chg">&nbsp;</span>&nbsp;width_(0)<span class="diff_add">,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_51">51</td><td nowrap="nowrap"><span class="diff_chg">,</span>&nbsp;height_(0)</td><td class="diff_next"></td><td class="diff_header" id="to217_59">59</td><td nowrap="nowrap"><span class="diff_chg">&nbsp;</span>&nbsp;height_(0)<span class="diff_add">,</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__11"></td><td class="diff_header" id="from217_52">52</td><td nowrap="nowrap"><span class="diff_chg">,</span>&nbsp;median_frames_(5)</td><td class="diff_next"></td><td class="diff_header" id="to217_60">60</td><td nowrap="nowrap"><span class="diff_chg">&nbsp;</span>&nbsp;median_frames_(5)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_53">53</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to217_61">61</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__12"><a href="#difflib_chg_to217__11">n</a></td><td class="diff_header" id="from217_54">54</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;empty_image_.load("no_image.png",&nbsp;Ogre::ResourceGroupManager::DEFAULT_RESOURCE_GROUP_NAME);</span></td><td class="diff_next"><a href="#difflib_chg_to217__11">n</a></td><td class="diff_header" id="to217_62">62</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;empty_image_.load("no_image.png",&nbsp;"rviz_rendering");</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_55">55</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_63">63</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_56">56</td><td nowrap="nowrap">&nbsp;&nbsp;static&nbsp;uint32_t&nbsp;count&nbsp;=&nbsp;0;</td><td class="diff_next"></td><td class="diff_header" id="to217_64">64</td><td nowrap="nowrap">&nbsp;&nbsp;static&nbsp;uint32_t&nbsp;count&nbsp;=&nbsp;0;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__12">n</a></td><td class="diff_header" id="from217_57">57</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;std::stringstream&nbsp;ss;</span></td><td class="diff_next"><a href="#difflib_chg_to217__12">n</a></td><td class="diff_header" id="to217_65">65</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;rviz_common::UniformStringStream&nbsp;ss;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_58">58</td><td nowrap="nowrap">&nbsp;&nbsp;ss&nbsp;&lt;&lt;&nbsp;"ROSImageTexture"&nbsp;&lt;&lt;&nbsp;count++;</td><td class="diff_next"></td><td class="diff_header" id="to217_66">66</td><td nowrap="nowrap">&nbsp;&nbsp;ss&nbsp;&lt;&lt;&nbsp;"ROSImageTexture"&nbsp;&lt;&lt;&nbsp;count++;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__13">n</a></td><td class="diff_header" id="from217_59">59</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;texture_&nbsp;=&nbsp;Ogre::TextureManager::getSingleton().loadImage(ss.str(),&nbsp;Ogre::ResourceGroupManager::DEFAULT_RESOURCE_GROUP_NAME,&nbsp;empty_image_,&nbsp;Ogre::TEX_TYPE_2D,&nbsp;0);</span></td><td class="diff_next"><a href="#difflib_chg_to217__13">n</a></td><td class="diff_header" id="to217_67">67</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;texture_&nbsp;=&nbsp;Ogre::TextureManager::getSingleton().loadImage(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_68">68</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ss.str(),&nbsp;"rviz_rendering",&nbsp;empty_image_,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_69">69</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;Ogre::TEX_TYPE_2D,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_70">70</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;0);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_60">60</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_71">71</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_61">61</td><td nowrap="nowrap">&nbsp;&nbsp;setNormalizeFloatImage(true);</td><td class="diff_next"></td><td class="diff_header" id="to217_72">72</td><td nowrap="nowrap">&nbsp;&nbsp;setNormalizeFloatImage(true);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_62">62</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to217_73">73</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_63">63</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_74">74</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_64">64</td><td nowrap="nowrap">ROSImageTexture::~ROSImageTexture()</td><td class="diff_next"></td><td class="diff_header" id="to217_75">75</td><td nowrap="nowrap">ROSImageTexture::~ROSImageTexture()</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_65">65</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to217_76">76</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__13"></td><td class="diff_header" id="from217_66">66</td><td nowrap="nowrap">&nbsp;&nbsp;current_image_.reset();</td><td class="diff_next"></td><td class="diff_header" id="to217_77">77</td><td nowrap="nowrap">&nbsp;&nbsp;current_image_.reset();</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_67">67</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to217_78">78</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_68">68</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_79">79</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_69">69</td><td nowrap="nowrap">void&nbsp;ROSImageTexture::clear()</td><td class="diff_next"></td><td class="diff_header" id="to217_80">80</td><td nowrap="nowrap">void&nbsp;ROSImageTexture::clear()</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_70">70</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to217_81">81</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__14">n</a></td><td class="diff_header" id="from217_71">71</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::mutex::scoped_lock&nbsp;lock(mutex_);</span></td><td class="diff_next"><a href="#difflib_chg_to217__14">n</a></td><td class="diff_header" id="to217_82">82</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::mutex&gt;&nbsp;lock(mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_72">72</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_83">83</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_73">73</td><td nowrap="nowrap">&nbsp;&nbsp;texture_-&gt;unload();</td><td class="diff_next"></td><td class="diff_header" id="to217_84">84</td><td nowrap="nowrap">&nbsp;&nbsp;texture_-&gt;unload();</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_74">74</td><td nowrap="nowrap">&nbsp;&nbsp;texture_-&gt;loadImage(empty_image_);</td><td class="diff_next"></td><td class="diff_header" id="to217_85">85</td><td nowrap="nowrap">&nbsp;&nbsp;texture_-&gt;loadImage(empty_image_);</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__14"></td><td class="diff_header" id="from217_75">75</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_86">86</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_76">76</td><td nowrap="nowrap">&nbsp;&nbsp;new_image_&nbsp;=&nbsp;false;</td><td class="diff_next"></td><td class="diff_header" id="to217_87">87</td><td nowrap="nowrap">&nbsp;&nbsp;new_image_&nbsp;=&nbsp;false;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__15"></td><td class="diff_header" id="from217_77">77</td><td nowrap="nowrap">&nbsp;&nbsp;current_image_.reset();</td><td class="diff_next"></td><td class="diff_header" id="to217_88">88</td><td nowrap="nowrap">&nbsp;&nbsp;current_image_.reset();</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_78">78</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to217_89">89</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_79">79</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_90">90</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__15">n</a></td><td class="diff_header" id="from217_80">80</td><td nowrap="nowrap">const&nbsp;sensor_msgs::Image::ConstPtr<span class="diff_sub">&amp;</span>&nbsp;ROSImageTexture::getImage()</td><td class="diff_next"><a href="#difflib_chg_to217__15">n</a></td><td class="diff_header" id="to217_91">91</td><td nowrap="nowrap">const&nbsp;sensor_msgs<span class="diff_add">::msg</span>::Image::Const<span class="diff_add">Shared</span>Ptr&nbsp;ROSImageTexture::getImage()</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_81">81</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to217_92">92</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__16"><a href="#difflib_chg_to217__16">n</a></td><td class="diff_header" id="from217_82">82</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::mutex::scoped_lock&nbsp;lock(mutex_);</span></td><td class="diff_next"><a href="#difflib_chg_to217__16">n</a></td><td class="diff_header" id="to217_93">93</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::mutex&gt;&nbsp;lock(mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_83">83</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_94">94</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_84">84</td><td nowrap="nowrap">&nbsp;&nbsp;return&nbsp;current_image_;</td><td class="diff_next"></td><td class="diff_header" id="to217_95">95</td><td nowrap="nowrap">&nbsp;&nbsp;return&nbsp;current_image_;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_85">85</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to217_96">96</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_86">86</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_97">97</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__17"><a href="#difflib_chg_to217__17">n</a></td><td class="diff_header" id="from217_87">87</td><td nowrap="nowrap">void&nbsp;ROSImageTexture::setMedianFrames(<span class="diff_sub">&nbsp;</span>unsigned&nbsp;median_frames<span class="diff_sub">&nbsp;</span>)</td><td class="diff_next"><a href="#difflib_chg_to217__17">n</a></td><td class="diff_header" id="to217_98">98</td><td nowrap="nowrap">void&nbsp;ROSImageTexture::setMedianFrames(unsigned&nbsp;median_frames)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_88">88</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to217_99">99</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__18"></td><td class="diff_header" id="from217_89">89</td><td nowrap="nowrap">&nbsp;&nbsp;median_frames_&nbsp;=&nbsp;median_frames;</td><td class="diff_next"></td><td class="diff_header" id="to217_100">100</td><td nowrap="nowrap">&nbsp;&nbsp;median_frames_&nbsp;=&nbsp;median_frames;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_90">90</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to217_101">101</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_91">91</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_102">102</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__18">n</a></td><td class="diff_header" id="from217_92">92</td><td nowrap="nowrap"><span class="diff_sub">double&nbsp;ROSImageTexture::updateMedian(&nbsp;std::deque&lt;double&gt;&amp;&nbsp;buffer,&nbsp;double&nbsp;value&nbsp;)</span></td><td class="diff_next"><a href="#difflib_chg_to217__18">n</a></td><td class="diff_header" id="to217_103">103</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;ROSImageTexture::setNormalizeFloatImage(bool&nbsp;normalize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_93">93</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to217_104">104</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__19">n</a></td><td class="diff_header" id="from217_94">94</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//update&nbsp;buffer</span></td><td class="diff_next"><a href="#difflib_chg_to217__19">n</a></td><td class="diff_header" id="to217_105">105</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;setNormalizeFloatImage(normalize,&nbsp;0.0,&nbsp;1.0);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_95">95</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;while(buffer.size()&nbsp;&gt;&nbsp;median_frames_-1)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_96">96</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_97">97</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;buffer.pop_back();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_98">98</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_99">99</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;buffer.push_front(value);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_100">100</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;get&nbsp;median</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__19"></td><td class="diff_header" id="from217_101">101</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;std::deque&lt;double&gt;&nbsp;buffer2&nbsp;=&nbsp;buffer;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_102">102</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;std::nth_element(&nbsp;buffer2.begin(),&nbsp;buffer2.begin()+buffer2.size()/2,&nbsp;buffer2.end()&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_103">103</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;return&nbsp;*(&nbsp;buffer2.begin()+buffer2.size()/2&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_104">104</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to217_106">106</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_105">105</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_107">107</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__20">n</a></td><td class="diff_header" id="from217_106">106</td><td nowrap="nowrap">void&nbsp;ROSImageTexture::setNormalizeFloatImage(<span class="diff_sub">&nbsp;</span>bool&nbsp;normalize,&nbsp;double&nbsp;min,&nbsp;double&nbsp;max<span class="diff_sub">&nbsp;</span>)</td><td class="diff_next"><a href="#difflib_chg_to217__20">n</a></td><td class="diff_header" id="to217_108">108</td><td nowrap="nowrap">void&nbsp;ROSImageTexture::setNormalizeFloatImage(bool&nbsp;normalize,&nbsp;double&nbsp;min,&nbsp;double&nbsp;max)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_107">107</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to217_109">109</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__20"></td><td class="diff_header" id="from217_108">108</td><td nowrap="nowrap">&nbsp;&nbsp;normalize_&nbsp;=&nbsp;normalize;</td><td class="diff_next"></td><td class="diff_header" id="to217_110">110</td><td nowrap="nowrap">&nbsp;&nbsp;normalize_&nbsp;=&nbsp;normalize;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_109">109</td><td nowrap="nowrap">&nbsp;&nbsp;min_&nbsp;=&nbsp;min;</td><td class="diff_next"></td><td class="diff_header" id="to217_111">111</td><td nowrap="nowrap">&nbsp;&nbsp;min_&nbsp;=&nbsp;min;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__21"></td><td class="diff_header" id="from217_110">110</td><td nowrap="nowrap">&nbsp;&nbsp;max_&nbsp;=&nbsp;max;</td><td class="diff_next"></td><td class="diff_header" id="to217_112">112</td><td nowrap="nowrap">&nbsp;&nbsp;max_&nbsp;=&nbsp;max;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_111">111</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to217_113">113</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_112">112</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_114">114</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__22"><a href="#difflib_chg_to217__21">n</a></td><td class="diff_header" id="from217_113">113</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to217__21">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_114">114</td><td nowrap="nowrap">template&lt;typename&nbsp;T&gt;</td><td class="diff_next"></td><td class="diff_header" id="to217_115">115</td><td nowrap="nowrap">template&lt;typename&nbsp;T&gt;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__22">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to217__22">n</a></td><td class="diff_header" id="to217_116">116</td><td nowrap="nowrap"><span class="diff_add">std::vector&lt;uint8_t&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_115">115</td><td nowrap="nowrap"><span class="diff_sub">void&nbsp;</span>ROSImageTexture::normalize(&nbsp;T*&nbsp;image_data,&nbsp;size_t&nbsp;image_data_size<span class="diff_sub">,&nbsp;std::vector&lt;uint8_t&gt;&nbsp;&amp;buffer&nbsp;&nbsp;</span>)</td><td class="diff_next"></td><td class="diff_header" id="to217_117">117</td><td nowrap="nowrap">ROSImageTexture::normalize(<span class="diff_add">const</span>&nbsp;T<span class="diff_add">&nbsp;</span>*&nbsp;image_data,&nbsp;size_t&nbsp;image_data_size)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_116">116</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to217_118">118</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__23">n</a></td><td class="diff_header" id="from217_117">117</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;Prepare&nbsp;output&nbsp;buffer</span></td><td class="diff_next"><a href="#difflib_chg_to217__23">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__23"></td><td class="diff_header" id="from217_118">118</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;buffer.resize(image_data_size,&nbsp;0);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_119">119</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_120">120</td><td nowrap="nowrap">&nbsp;&nbsp;T&nbsp;minValue;</td><td class="diff_next"></td><td class="diff_header" id="to217_119">119</td><td nowrap="nowrap">&nbsp;&nbsp;T&nbsp;minValue;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_121">121</td><td nowrap="nowrap">&nbsp;&nbsp;T&nbsp;maxValue;</td><td class="diff_next"></td><td class="diff_header" id="to217_120">120</td><td nowrap="nowrap">&nbsp;&nbsp;T&nbsp;maxValue;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_122">122</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_121">121</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__24">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to217__24">n</a></td><td class="diff_header" id="to217_122">122</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;getMinimalAndMaximalValueToNormalize(image_data,&nbsp;image_data_size,&nbsp;minValue,&nbsp;maxValue);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_123">123</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_124">124</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;return&nbsp;createNewNormalizedBuffer(image_data,&nbsp;image_data_size,&nbsp;minValue,&nbsp;maxValue);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_125">125</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_126">126</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_127">127</td><td nowrap="nowrap"><span class="diff_add">template&lt;typename&nbsp;T&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_128">128</td><td nowrap="nowrap"><span class="diff_add">void</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_129">129</td><td nowrap="nowrap"><span class="diff_add">ROSImageTexture::getMinimalAndMaximalValueToNormalize(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_130">130</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;const&nbsp;T&nbsp;*&nbsp;image_data,&nbsp;size_t&nbsp;image_data_size,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_131">131</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;T&nbsp;&amp;&nbsp;minValue,&nbsp;T&nbsp;&amp;&nbsp;maxValue)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_132">132</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_123">123</td><td nowrap="nowrap">&nbsp;&nbsp;if&nbsp;(<span class="diff_sub">&nbsp;</span>normalize_<span class="diff_sub">&nbsp;</span>)</td><td class="diff_next"></td><td class="diff_header" id="to217_133">133</td><td nowrap="nowrap">&nbsp;&nbsp;if&nbsp;(normalize_)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__24"></td><td class="diff_header" id="from217_124">124</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_125">125</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;T*&nbsp;input_ptr&nbsp;=&nbsp;image_data;</td><td class="diff_next"></td><td class="diff_header" id="to217_134">134</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_add">&nbsp;const</span>&nbsp;T<span class="diff_add">&nbsp;</span>*&nbsp;input_ptr&nbsp;=&nbsp;image_data;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_126">126</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Find&nbsp;min.&nbsp;and&nbsp;max.&nbsp;pixel&nbsp;value</span></td><td class="diff_next"></td><td class="diff_header" id="to217_135">135</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_127">127</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;minValue&nbsp;=&nbsp;std::numeric_limits&lt;T&gt;::max();</td><td class="diff_next"></td><td class="diff_header" id="to217_136">136</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;minValue&nbsp;=&nbsp;std::numeric_limits&lt;T&gt;::max();</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_128">128</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;maxValue&nbsp;=&nbsp;std::numeric_limits&lt;T&gt;::min();</td><td class="diff_next"></td><td class="diff_header" id="to217_137">137</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;maxValue&nbsp;=&nbsp;std::numeric_limits&lt;T&gt;::min();</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__25">n</a></td><td class="diff_header" id="from217_129">129</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for(<span class="diff_sub">&nbsp;</span>unsigned&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;image_data_size;&nbsp;++i<span class="diff_sub">&nbsp;</span>)</td><td class="diff_next"><a href="#difflib_chg_to217__25">n</a></td><td class="diff_header" id="to217_138">138</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for<span class="diff_add">&nbsp;</span>(unsigned&nbsp;i<span class="diff_add">nt&nbsp;i</span>&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;image_data_size;&nbsp;++i)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_130">130</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__25"></td><td class="diff_header" id="from217_131">131</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minValue&nbsp;=&nbsp;std::min(<span class="diff_sub">&nbsp;</span>minValue,&nbsp;*input_ptr<span class="diff_sub">&nbsp;</span>);</td><td class="diff_next"></td><td class="diff_header" id="to217_139">139</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minValue&nbsp;=&nbsp;std::min(minValue,&nbsp;*input_ptr);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_132">132</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxValue&nbsp;=&nbsp;std::max(<span class="diff_sub">&nbsp;</span>maxValue,&nbsp;*input_ptr<span class="diff_sub">&nbsp;</span>);</td><td class="diff_next"></td><td class="diff_header" id="to217_140">140</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxValue&nbsp;=&nbsp;std::max(maxValue,&nbsp;*input_ptr);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_133">133</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_ptr++;</td><td class="diff_next"></td><td class="diff_header" id="to217_141">141</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_ptr++;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_134">134</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to217_142">142</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_135">135</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_143">143</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__26"><a href="#difflib_chg_to217__26">n</a></td><td class="diff_header" id="from217_136">136</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<span class="diff_sub">&nbsp;</span>median_frames_&nbsp;&gt;&nbsp;1<span class="diff_sub">&nbsp;</span>)</td><td class="diff_next"><a href="#difflib_chg_to217__26">n</a></td><td class="diff_header" id="to217_144">144</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(median_frames_&nbsp;&gt;&nbsp;1)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_137">137</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header" id="to217_145">145</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minValue&nbsp;=&nbsp;static_cast&lt;T&gt;(computeMedianOfSeveralFrames(min_buffer_,&nbsp;minValue));</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_138">138</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minValue&nbsp;=&nbsp;updateMedian(&nbsp;min_buffer_,&nbsp;minValue&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header" id="to217_146">146</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxValue&nbsp;=&nbsp;static_cast&lt;T&gt;(computeMedianOfSeveralFrames(max_buffer_,&nbsp;maxValue));</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_139">139</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxValue&nbsp;=&nbsp;updateMedian(&nbsp;max_buffer_,&nbsp;maxValue&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_140">140</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to217_147">147</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__27">n</a></td><td class="diff_header" id="from217_141">141</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"><a href="#difflib_chg_to217__27">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_142">142</td><td nowrap="nowrap">&nbsp;&nbsp;else</td><td class="diff_next"></td><td class="diff_header" id="to217_148">148</td><td nowrap="nowrap">&nbsp;<span class="diff_add">&nbsp;}</span>&nbsp;else<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__27"></td><td class="diff_header" id="from217_143">143</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header" id="to217_149">149</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;minValue&nbsp;=&nbsp;static_cast&lt;T&gt;(min_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_144">144</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;set&nbsp;fixed&nbsp;min/max</span></td><td class="diff_next"></td><td class="diff_header" id="to217_150">150</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;maxValue&nbsp;=&nbsp;static_cast&lt;T&gt;(max_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_145">145</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;minValue&nbsp;=&nbsp;min_;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_146">146</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;maxValue&nbsp;=&nbsp;max_;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_147">147</td><td nowrap="nowrap">&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to217_151">151</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__28">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to217__28">n</a></td><td class="diff_header" id="to217_152">152</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_153">153</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_154">154</td><td nowrap="nowrap"><span class="diff_add">double&nbsp;ROSImageTexture::computeMedianOfSeveralFrames(std::deque&lt;double&gt;&nbsp;&amp;&nbsp;buffer,&nbsp;double&nbsp;value)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_155">155</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_156">156</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;updateBuffer(buffer,&nbsp;value);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_157">157</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;return&nbsp;computeMedianOfBuffer(buffer);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_158">158</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_159">159</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_160">160</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;ROSImageTexture::updateBuffer(std::deque&lt;double&gt;&nbsp;&amp;&nbsp;buffer,&nbsp;double&nbsp;value)&nbsp;const</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_161">161</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_162">162</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;while&nbsp;(buffer.size()&nbsp;&gt;&nbsp;median_frames_&nbsp;-&nbsp;1)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_163">163</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;buffer.pop_back();</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_164">164</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_165">165</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;buffer.push_front(value);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_166">166</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_167">167</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_168">168</td><td nowrap="nowrap"><span class="diff_add">double&nbsp;ROSImageTexture::computeMedianOfBuffer(const&nbsp;std::deque&lt;double&gt;&nbsp;&amp;&nbsp;buffer)&nbsp;const</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_169">169</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_170">170</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::deque&lt;double&gt;&nbsp;buffer2&nbsp;=&nbsp;buffer;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_171">171</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;nth_element(buffer2.begin(),&nbsp;buffer2.begin()&nbsp;+&nbsp;buffer2.size()&nbsp;/&nbsp;2,&nbsp;buffer2.end());</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_172">172</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;return&nbsp;*(buffer2.begin()&nbsp;+&nbsp;buffer2.size()&nbsp;/&nbsp;2);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_173">173</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_174">174</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_175">175</td><td nowrap="nowrap"><span class="diff_add">template&lt;typename&nbsp;T&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_176">176</td><td nowrap="nowrap"><span class="diff_add">std::vector&lt;uint8_t&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_177">177</td><td nowrap="nowrap"><span class="diff_add">ROSImageTexture::createNewNormalizedBuffer(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_178">178</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;const&nbsp;T&nbsp;*&nbsp;image_data,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_179">179</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;size_t&nbsp;image_data_size,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_180">180</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;T&nbsp;minValue,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_181">181</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;T&nbsp;maxValue)&nbsp;const</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_182">182</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_183">183</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::vector&lt;uint8_t&gt;&nbsp;buffer;</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__28"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_184">184</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;buffer.resize(image_data_size,&nbsp;0);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_185">185</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;uint8_t&nbsp;*&nbsp;output_ptr&nbsp;=&nbsp;&amp;buffer[0];</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_148">148</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_186">186</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_149">149</td><td nowrap="nowrap">&nbsp;&nbsp;//&nbsp;Rescale&nbsp;floating&nbsp;point&nbsp;image&nbsp;and&nbsp;convert&nbsp;it&nbsp;to&nbsp;8-bit</td><td class="diff_next"></td><td class="diff_header" id="to217_187">187</td><td nowrap="nowrap">&nbsp;&nbsp;//&nbsp;Rescale&nbsp;floating&nbsp;point&nbsp;image&nbsp;and&nbsp;convert&nbsp;it&nbsp;to&nbsp;8-bit</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_150">150</td><td nowrap="nowrap">&nbsp;&nbsp;double&nbsp;range&nbsp;=&nbsp;maxValue&nbsp;-&nbsp;minValue;</td><td class="diff_next"></td><td class="diff_header" id="to217_188">188</td><td nowrap="nowrap">&nbsp;&nbsp;double&nbsp;range&nbsp;=&nbsp;maxValue&nbsp;-&nbsp;minValue;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__29">n</a></td><td class="diff_header" id="from217_151">151</td><td nowrap="nowrap">&nbsp;&nbsp;if(<span class="diff_sub">&nbsp;</span>range&nbsp;&gt;&nbsp;0.0<span class="diff_sub">&nbsp;</span>)</td><td class="diff_next"><a href="#difflib_chg_to217__29">n</a></td><td class="diff_header" id="to217_189">189</td><td nowrap="nowrap">&nbsp;&nbsp;if<span class="diff_add">&nbsp;</span>(range&nbsp;&gt;&nbsp;0.0)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_152">152</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_153">153</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;T*&nbsp;input_ptr&nbsp;=&nbsp;image_data;</td><td class="diff_next"></td><td class="diff_header" id="to217_190">190</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_add">&nbsp;const</span>&nbsp;T<span class="diff_add">&nbsp;</span>*&nbsp;input_ptr&nbsp;=&nbsp;image_data;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__29"></td><td class="diff_header" id="from217_154">154</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_155">155</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Pointer&nbsp;to&nbsp;output&nbsp;buffer</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_156">156</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;uint8_t*&nbsp;output_ptr&nbsp;=&nbsp;&amp;buffer[0];</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_157">157</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_191">191</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_158">158</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Rescale&nbsp;and&nbsp;quantize</td><td class="diff_next"></td><td class="diff_header" id="to217_192">192</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Rescale&nbsp;and&nbsp;quantize</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__30">n</a></td><td class="diff_header" id="from217_159">159</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for(<span class="diff_sub">&nbsp;</span>size_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;image_data_size;&nbsp;++i,&nbsp;++output_ptr,&nbsp;++input_ptr<span class="diff_sub">&nbsp;</span>)</td><td class="diff_next"><a href="#difflib_chg_to217__30">n</a></td><td class="diff_header" id="to217_193">193</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for<span class="diff_add">&nbsp;</span>(size_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;image_data_size;&nbsp;++i,&nbsp;++output_ptr,&nbsp;++input_ptr)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_160">160</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_161">161</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;val&nbsp;=&nbsp;(double(*input_ptr&nbsp;-&nbsp;minValue)&nbsp;/&nbsp;range);</td><td class="diff_next"></td><td class="diff_header" id="to217_194">194</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;val&nbsp;=&nbsp;(<span class="diff_add">static_cast&lt;</span>double<span class="diff_add">&gt;</span>(*input_ptr&nbsp;-&nbsp;minValue)&nbsp;/&nbsp;range);</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__30"></td><td class="diff_header" id="from217_162">162</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<span class="diff_sub">&nbsp;</span>val&nbsp;&lt;&nbsp;0<span class="diff_sub">&nbsp;</span>)&nbsp;val&nbsp;=&nbsp;0;</td><td class="diff_next"></td><td class="diff_header" id="to217_195">195</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(val&nbsp;&lt;&nbsp;0)&nbsp;<span class="diff_add">{</span>val&nbsp;=&nbsp;0;<span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_163">163</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<span class="diff_sub">&nbsp;</span>val&nbsp;&gt;&nbsp;1<span class="diff_sub">&nbsp;</span>)&nbsp;val&nbsp;=&nbsp;1;</td><td class="diff_next"></td><td class="diff_header" id="to217_196">196</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(val&nbsp;&gt;&nbsp;1)&nbsp;<span class="diff_add">{</span>val&nbsp;=&nbsp;1;<span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_164">164</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*output_ptr&nbsp;=&nbsp;val&nbsp;*&nbsp;255u;</span></td><td class="diff_next"></td><td class="diff_header" id="to217_197">197</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*output_ptr&nbsp;=&nbsp;static_cast&lt;uint8_t&gt;(val&nbsp;*&nbsp;255u);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_165">165</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to217_198">198</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_166">166</td><td nowrap="nowrap">&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to217_199">199</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__31">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to217__31">n</a></td><td class="diff_header" id="to217_200">200</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;return&nbsp;buffer;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_201">201</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_202">202</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_203">203</td><td nowrap="nowrap"><span class="diff_add">ImageData::ImageData(std::string&nbsp;encoding,&nbsp;const&nbsp;uint8_t&nbsp;*&nbsp;data_ptr,&nbsp;size_t&nbsp;size)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_204">204</td><td nowrap="nowrap"><span class="diff_add">:&nbsp;encoding_(std::move(encoding)),</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_205">205</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;pixel_format_(Ogre::PixelFormat::PF_R8G8B8),</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_206">206</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;data_ptr_(data_ptr),</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_207">207</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;size_(size)</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__31"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_208">208</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_167">167</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to217_209">209</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_168">168</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_210">210</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_169">169</td><td nowrap="nowrap">bool&nbsp;ROSImageTexture::update()</td><td class="diff_next"></td><td class="diff_header" id="to217_211">211</td><td nowrap="nowrap">bool&nbsp;ROSImageTexture::update()</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_170">170</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to217_212">212</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__32"><a href="#difflib_chg_to217__32">n</a></td><td class="diff_header" id="from217_171">171</td><td nowrap="nowrap">&nbsp;&nbsp;sensor_msgs::Image::ConstPtr&nbsp;image;</td><td class="diff_next"><a href="#difflib_chg_to217__32">n</a></td><td class="diff_header" id="to217_213">213</td><td nowrap="nowrap">&nbsp;&nbsp;sensor_msgs<span class="diff_add">::msg</span>::Image::Const<span class="diff_add">Shared</span>Ptr&nbsp;image;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_172">172</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;bool&nbsp;new_image&nbsp;=&nbsp;false;</span></td><td class="diff_next"></td><td class="diff_header" id="to217_214">214</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;bool&nbsp;has_new_image&nbsp;=&nbsp;fillWithCurrentImage(image);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_173">173</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_174">174</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;boost::mutex::scoped_lock&nbsp;lock(mutex_);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_175">175</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_215">215</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__33">n</a></td><td class="diff_header" id="from217_176">176</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;image&nbsp;=&nbsp;current_image_;</span></td><td class="diff_next"><a href="#difflib_chg_to217__33">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_177">177</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;new_image&nbsp;=&nbsp;new_image_;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_178">178</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_179">179</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_180">180</td><td nowrap="nowrap">&nbsp;&nbsp;if&nbsp;(!image&nbsp;||&nbsp;!new_image)</td><td class="diff_next"></td><td class="diff_header" id="to217_216">216</td><td nowrap="nowrap">&nbsp;&nbsp;if&nbsp;(!image&nbsp;||&nbsp;!<span class="diff_add">has_</span>new_image)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_181">181</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__33"></td><td class="diff_header" id="from217_182">182</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;</td><td class="diff_next"></td><td class="diff_header" id="to217_217">217</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_183">183</td><td nowrap="nowrap">&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to217_218">218</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_184">184</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_219">219</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_185">185</td><td nowrap="nowrap">&nbsp;&nbsp;new_image_&nbsp;=&nbsp;false;</td><td class="diff_next"></td><td class="diff_header" id="to217_220">220</td><td nowrap="nowrap">&nbsp;&nbsp;new_image_&nbsp;=&nbsp;false;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_186">186</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_221">221</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__34"><a href="#difflib_chg_to217__34">n</a></td><td class="diff_header" id="from217_187">187</td><td nowrap="nowrap">&nbsp;&nbsp;if&nbsp;(image-&gt;data.empty())</td><td class="diff_next"><a href="#difflib_chg_to217__34">n</a></td><td class="diff_header" id="to217_222">222</td><td nowrap="nowrap">&nbsp;&nbsp;if&nbsp;(image-&gt;data.empty())<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_188">188</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_189">189</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;</td><td class="diff_next"></td><td class="diff_header" id="to217_223">223</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_190">190</td><td nowrap="nowrap">&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to217_224">224</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_191">191</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_225">225</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__35">n</a></td><td class="diff_header" id="from217_192">192</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::PixelFormat&nbsp;format&nbsp;=&nbsp;Ogre::PF_R8G8B8;</span></td><td class="diff_next"><a href="#difflib_chg_to217__35">n</a></td><td class="diff_header" id="to217_226">226</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;ImageData&nbsp;image_data&nbsp;=&nbsp;setFormatAndNormalizeDataIfNecessary(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_193">193</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::Image&nbsp;ogre_image;</span></td><td class="diff_next"></td><td class="diff_header" id="to217_227">227</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ImageData(image-&gt;encoding,&nbsp;image-&gt;data.data(),&nbsp;image-&gt;data.size()));</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_194">194</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;std::vector&lt;uint8_t&gt;&nbsp;buffer;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_195">195</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_196">196</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;uint8_t*&nbsp;imageDataPtr&nbsp;=&nbsp;(uint8_t*)&amp;image-&gt;data[0];</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_197">197</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;size_t&nbsp;imageDataSize&nbsp;=&nbsp;image-&gt;data.size();</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_198">198</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_199">199</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;if&nbsp;(image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::RGB8)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_200">200</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_201">201</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;format&nbsp;=&nbsp;Ogre::PF_BYTE_RGB;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_202">202</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_203">203</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;else&nbsp;if&nbsp;(image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::RGBA8)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_204">204</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_205">205</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;format&nbsp;=&nbsp;Ogre::PF_BYTE_RGBA;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_206">206</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_207">207</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;else&nbsp;if&nbsp;(image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_8UC4&nbsp;||</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_208">208</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_8SC4&nbsp;||</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_209">209</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::BGRA8)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_210">210</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_211">211</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;format&nbsp;=&nbsp;Ogre::PF_BYTE_BGRA;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_212">212</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_213">213</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;else&nbsp;if&nbsp;(image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_8UC3&nbsp;||</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_214">214</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_8SC3&nbsp;||</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_215">215</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::BGR8)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_216">216</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_217">217</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;format&nbsp;=&nbsp;Ogre::PF_BYTE_BGR;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_218">218</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_219">219</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;else&nbsp;if&nbsp;(image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_8UC1&nbsp;||</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_220">220</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_8SC1&nbsp;||</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_221">221</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::MONO8)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_222">222</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_223">223</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;format&nbsp;=&nbsp;Ogre::PF_BYTE_L;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_224">224</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_225">225</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;else&nbsp;if&nbsp;(image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_16UC1&nbsp;||</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_226">226</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_16SC1&nbsp;||</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_227">227</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::MONO16)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_228">228</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_229">229</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;imageDataSize&nbsp;/=&nbsp;sizeof(uint16_t);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_230">230</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;normalize&lt;uint16_t&gt;(&nbsp;(uint16_t*)&amp;image-&gt;data[0],&nbsp;imageDataSize,&nbsp;buffer&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_231">231</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;format&nbsp;=&nbsp;Ogre::PF_BYTE_L;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_232">232</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;imageDataPtr&nbsp;=&nbsp;&amp;buffer[0];</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_233">233</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_234">234</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;else&nbsp;if&nbsp;(image-&gt;encoding.find("bayer")&nbsp;==&nbsp;0)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_235">235</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_236">236</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;format&nbsp;=&nbsp;Ogre::PF_BYTE_L;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_237">237</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_238">238</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;else&nbsp;if&nbsp;(image-&gt;encoding&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_32FC1)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_239">239</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_240">240</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;imageDataSize&nbsp;/=&nbsp;sizeof(float);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_241">241</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;normalize&lt;float&gt;(&nbsp;(float*)&amp;image-&gt;data[0],&nbsp;imageDataSize,&nbsp;buffer&nbsp;);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_242">242</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;format&nbsp;=&nbsp;Ogre::PF_BYTE_L;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_243">243</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;imageDataPtr&nbsp;=&nbsp;&amp;buffer[0];</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_244">244</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_245">245</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;else</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_246">246</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_247">247</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;UnsupportedImageEncoding(image-&gt;encoding);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__35"></td><td class="diff_header" id="from217_248">248</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_249">249</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_228">228</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_250">250</td><td nowrap="nowrap">&nbsp;&nbsp;width_&nbsp;=&nbsp;image-&gt;width;</td><td class="diff_next"></td><td class="diff_header" id="to217_229">229</td><td nowrap="nowrap">&nbsp;&nbsp;width_&nbsp;=&nbsp;image-&gt;width;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_251">251</td><td nowrap="nowrap">&nbsp;&nbsp;height_&nbsp;=&nbsp;image-&gt;height;</td><td class="diff_next"></td><td class="diff_header" id="to217_230">230</td><td nowrap="nowrap">&nbsp;&nbsp;height_&nbsp;=&nbsp;image-&gt;height;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_252">252</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_231">231</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__36">n</a></td><td class="diff_header" id="from217_253">253</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Support&nbsp;different&nbsp;steps/strides</span></td><td class="diff_next"><a href="#difflib_chg_to217__36">n</a></td><td class="diff_header" id="to217_232">232</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;Ogre::Image&nbsp;ogre_image;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_254">254</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_255">255</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;Ogre::DataStreamPtr&nbsp;pixel_stream;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_256">256</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;pixel_stream.bind(new&nbsp;Ogre::MemoryDataStream(imageDataPtr,&nbsp;imageDataSize));</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_257">257</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_258">258</td><td nowrap="nowrap">&nbsp;&nbsp;try</td><td class="diff_next"></td><td class="diff_header" id="to217_233">233</td><td nowrap="nowrap">&nbsp;&nbsp;try<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_259">259</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header" id="to217_234">234</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;loadImageToOgreImage(image_data,&nbsp;ogre_image);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_260">260</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ogre_image.loadRawData(pixel_stream,&nbsp;width_,&nbsp;height_,&nbsp;1,&nbsp;format,&nbsp;1,&nbsp;0);</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_261">261</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;}</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_262">262</td><td nowrap="nowrap">&nbsp;&nbsp;catch&nbsp;(Ogre::Exception&amp;&nbsp;e)</td><td class="diff_next"></td><td class="diff_header" id="to217_235">235</td><td nowrap="nowrap">&nbsp;<span class="diff_add">&nbsp;}</span>&nbsp;catch&nbsp;(Ogre::Exception<span class="diff_add">&nbsp;</span>&amp;&nbsp;e)<span class="diff_add">&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_263">263</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;{</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_264">264</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;signal&nbsp;error&nbsp;better</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_265">265</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;RO<span class="diff_chg">S</span>_ERROR("Error&nbsp;loading&nbsp;image:&nbsp;<span class="diff_sub">%s</span>"<span class="diff_chg">,</span>&nbsp;e.what());</td><td class="diff_next"></td><td class="diff_header" id="to217_236">236</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;R<span class="diff_add">VIZ_C</span>O<span class="diff_chg">MMON_LOG</span>_ERROR<span class="diff_add">_STREAM</span>("Error&nbsp;loading&nbsp;image:&nbsp;"<span class="diff_chg">&nbsp;&lt;&lt;</span>&nbsp;e.what());</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_266">266</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;</td><td class="diff_next"></td><td class="diff_header" id="to217_237">237</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_267">267</td><td nowrap="nowrap">&nbsp;&nbsp;}</td><td class="diff_next"></td><td class="diff_header" id="to217_238">238</td><td nowrap="nowrap">&nbsp;&nbsp;}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_268">268</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_239">239</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_269">269</td><td nowrap="nowrap">&nbsp;&nbsp;texture_-&gt;unload();</td><td class="diff_next"></td><td class="diff_header" id="to217_240">240</td><td nowrap="nowrap">&nbsp;&nbsp;texture_-&gt;unload();</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__36"></td><td class="diff_header" id="from217_270">270</td><td nowrap="nowrap">&nbsp;&nbsp;texture_-&gt;loadImage(ogre_image);</td><td class="diff_next"></td><td class="diff_header" id="to217_241">241</td><td nowrap="nowrap">&nbsp;&nbsp;texture_-&gt;loadImage(ogre_image);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_271">271</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_242">242</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_272">272</td><td nowrap="nowrap">&nbsp;&nbsp;return&nbsp;true;</td><td class="diff_next"></td><td class="diff_header" id="to217_243">243</td><td nowrap="nowrap">&nbsp;&nbsp;return&nbsp;true;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_273">273</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to217_244">244</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_274">274</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_245">245</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__37">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to217__37">n</a></td><td class="diff_header" id="to217_246">246</td><td nowrap="nowrap"><span class="diff_add">bool&nbsp;ROSImageTexture::fillWithCurrentImage(sensor_msgs::msg::Image::ConstSharedPtr&nbsp;&amp;&nbsp;image)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_247">247</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_248">248</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::mutex&gt;&nbsp;lock(mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_249">249</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_250">250</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;image&nbsp;=&nbsp;current_image_;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_251">251</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;return&nbsp;new_image_;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_252">252</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_253">253</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_254">254</td><td nowrap="nowrap"><span class="diff_add">ImageData&nbsp;ROSImageTexture::setFormatAndNormalizeDataIfNecessary(ImageData&nbsp;image_data)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_255">255</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_256">256</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;if&nbsp;(image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::RGB8)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_257">257</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.pixel_format_&nbsp;=&nbsp;Ogre::PF_BYTE_RGB;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_258">258</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::RGBA8)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_259">259</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.pixel_format_&nbsp;=&nbsp;Ogre::PF_BYTE_RGBA;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_260">260</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(&nbsp;&nbsp;//&nbsp;NOLINT&nbsp;enforces&nbsp;bracket&nbsp;on&nbsp;the&nbsp;same&nbsp;line,&nbsp;which&nbsp;makes&nbsp;code&nbsp;unreadable</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_261">261</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_8UC4&nbsp;||</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_262">262</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_8SC4&nbsp;||</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_263">263</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::BGRA8)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_264">264</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_265">265</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.pixel_format_&nbsp;=&nbsp;Ogre::PF_BYTE_BGRA;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_266">266</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(&nbsp;&nbsp;//&nbsp;NOLINT&nbsp;enforces&nbsp;bracket&nbsp;on&nbsp;the&nbsp;same&nbsp;line,&nbsp;which&nbsp;makes&nbsp;code&nbsp;unreadable</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_267">267</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_8UC3&nbsp;||</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_268">268</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_8SC3&nbsp;||</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_269">269</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::BGR8)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_270">270</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_271">271</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.pixel_format_&nbsp;=&nbsp;Ogre::PF_BYTE_BGR;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_272">272</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(&nbsp;&nbsp;//&nbsp;NOLINT&nbsp;enforces&nbsp;bracket&nbsp;on&nbsp;the&nbsp;same&nbsp;line,&nbsp;which&nbsp;makes&nbsp;code&nbsp;unreadable</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_273">273</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_8UC1&nbsp;||</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_274">274</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_8SC1&nbsp;||</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_275">275</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::MONO8)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_276">276</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_277">277</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.pixel_format_&nbsp;=&nbsp;Ogre::PF_BYTE_L;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_278">278</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(&nbsp;&nbsp;//&nbsp;NOLINT&nbsp;enforces&nbsp;bracket&nbsp;on&nbsp;the&nbsp;same&nbsp;line,&nbsp;which&nbsp;makes&nbsp;code&nbsp;unreadable</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_279">279</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_16UC1&nbsp;||</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_280">280</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_16SC1&nbsp;||</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_281">281</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::MONO16)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_282">282</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_283">283</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.size_&nbsp;/=&nbsp;sizeof(uint16_t);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_284">284</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt;uint8_t&gt;&nbsp;buffer&nbsp;=&nbsp;normalize&lt;uint16_t&gt;(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_285">285</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reinterpret_cast&lt;const&nbsp;uint16_t&nbsp;*&gt;(image_data.data_ptr_),</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_286">286</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image_data.size_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_287">287</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.pixel_format_&nbsp;=&nbsp;Ogre::PF_BYTE_L;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_288">288</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.data_ptr_&nbsp;=&nbsp;&amp;buffer[0];</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_289">289</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(image_data.encoding_.find("bayer")&nbsp;==&nbsp;0)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_290">290</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.pixel_format_&nbsp;=&nbsp;Ogre::PF_BYTE_L;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_291">291</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(image_data.encoding_&nbsp;==&nbsp;sensor_msgs::image_encodings::TYPE_32FC1)&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_292">292</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.size_&nbsp;/=&nbsp;sizeof(float);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_293">293</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt;uint8_t&gt;&nbsp;buffer&nbsp;=&nbsp;normalize&lt;float&gt;(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_294">294</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reinterpret_cast&lt;const&nbsp;float&nbsp;*&gt;(image_data.data_ptr_),</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_295">295</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image_data.size_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_296">296</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.pixel_format_&nbsp;=&nbsp;Ogre::PF_BYTE_L;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_297">297</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;image_data.data_ptr_&nbsp;=&nbsp;&amp;buffer[0];</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_298">298</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}&nbsp;else&nbsp;{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_299">299</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;UnsupportedImageEncoding(image_data.encoding_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_300">300</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_301">301</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;return&nbsp;image_data;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_302">302</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_303">303</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_304">304</td><td nowrap="nowrap"><span class="diff_add">void&nbsp;ROSImageTexture::loadImageToOgreImage(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_305">305</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;const&nbsp;ImageData&nbsp;&amp;&nbsp;image_data,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_306">306</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;Ogre::Image&nbsp;&amp;&nbsp;ogre_image)&nbsp;const</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_307">307</td><td nowrap="nowrap"><span class="diff_add">{</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_308">308</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;Ogre::DataStreamPtr&nbsp;pixel_stream;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_309">309</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;//&nbsp;C-style&nbsp;cast&nbsp;is&nbsp;used&nbsp;to&nbsp;bypass&nbsp;the&nbsp;const&nbsp;modifier</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_310">310</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;pixel_stream.reset(new&nbsp;Ogre::MemoryDataStream(</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_311">311</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(uint8_t&nbsp;*)&nbsp;&amp;image_data.data_ptr_[0],&nbsp;image_data.size_));&nbsp;&nbsp;//&nbsp;NOLINT</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__37"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_312">312</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;ogre_image.loadRawData(pixel_stream,&nbsp;width_,&nbsp;height_,&nbsp;1,&nbsp;image_data.pixel_format_,&nbsp;1,&nbsp;0);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_313">313</td><td nowrap="nowrap"><span class="diff_add">}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_314">314</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_275">275</td><td nowrap="nowrap">void&nbsp;ROSImageTexture::addMessage(<span class="diff_sub">const&nbsp;</span>sensor_msgs::Image::ConstPtr<span class="diff_sub">&amp;</span>&nbsp;msg)</td><td class="diff_next"></td><td class="diff_header" id="to217_315">315</td><td nowrap="nowrap">void&nbsp;ROSImageTexture::addMessage(sensor_msgs<span class="diff_add">::msg</span>::Image::Const<span class="diff_add">Shared</span>Ptr&nbsp;msg)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_276">276</td><td nowrap="nowrap">{</td><td class="diff_next"></td><td class="diff_header" id="to217_316">316</td><td nowrap="nowrap">{</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to217__38"><a href="#difflib_chg_to217__38">n</a></td><td class="diff_header" id="from217_277">277</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;boost::mutex::scoped_lock&nbsp;lock(mutex_);</span></td><td class="diff_next"><a href="#difflib_chg_to217__38">n</a></td><td class="diff_header" id="to217_317">317</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;std::lock_guard&lt;std::mutex&gt;&nbsp;lock(mutex_);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_278">278</td><td nowrap="nowrap">&nbsp;&nbsp;current_image_&nbsp;=&nbsp;msg;</td><td class="diff_next"></td><td class="diff_header" id="to217_318">318</td><td nowrap="nowrap">&nbsp;&nbsp;current_image_&nbsp;=&nbsp;msg;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_279">279</td><td nowrap="nowrap">&nbsp;&nbsp;new_image_&nbsp;=&nbsp;true;</td><td class="diff_next"></td><td class="diff_header" id="to217_319">319</td><td nowrap="nowrap">&nbsp;&nbsp;new_image_&nbsp;=&nbsp;true;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_280">280</td><td nowrap="nowrap">}</td><td class="diff_next"></td><td class="diff_header" id="to217_320">320</td><td nowrap="nowrap">}</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from217_281">281</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_321">321</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to217__top">t</a></td><td class="diff_header" id="from217_282">282</td><td nowrap="nowrap"><span class="diff_sub">}&nbsp;//&nbsp;end&nbsp;of&nbsp;namespace&nbsp;rviz</span></td><td class="diff_next"><a href="#difflib_chg_to217__top">t</a></td><td class="diff_header" id="to217_322">322</td><td nowrap="nowrap"><span class="diff_add">}&nbsp;&nbsp;//&nbsp;namespace&nbsp;displays</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to217_323">323</td><td nowrap="nowrap"><span class="diff_add">}&nbsp;&nbsp;//&nbsp;namespace&nbsp;rviz_default_plugins</span></td></tr>
        </tbody>
    </table>
    <table class="diff" summary="Legends">
        <tr> <th colspan="2"> Legends </th> </tr>
        <tr> <td> <table border="" summary="Colors">
                      <tr><th> Colors </th> </tr>
                      <tr><td class="diff_add">&nbsp;Added&nbsp;</td></tr>
                      <tr><td class="diff_chg">Changed</td> </tr>
                      <tr><td class="diff_sub">Deleted</td> </tr>
                  </table></td>
             <td> <table border="" summary="Links">
                      <tr><th colspan="2"> Links </th> </tr>
                      <tr><td>(f)irst change</td> </tr>
                      <tr><td>(n)ext change</td> </tr>
                      <tr><td>(t)op</td> </tr>
                  </table></td> </tr>
    </table>
</body>

</html>